(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function Ct(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function xr(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Ki(n){let t,e,r;n.length!==2?(t=Ct,e=(f,u)=>Ct(n(f),u),r=(f,u)=>n(f)-u):(t=n===Ct||n===xr?n:M1,e=n,r=n);function i(f,u,s=0,c=f.length){if(s<c){if(t(u,u)!==0)return c;do{const d=s+c>>>1;e(f[d],u)<0?s=d+1:c=d}while(s<c)}return s}function a(f,u,s=0,c=f.length){if(s<c){if(t(u,u)!==0)return c;do{const d=s+c>>>1;e(f[d],u)<=0?s=d+1:c=d}while(s<c)}return s}function o(f,u,s=0,c=f.length){const d=i(f,u,s,c-1);return d>s&&r(f[d-1],u)>-r(f[d],u)?d-1:d}return{left:i,center:o,right:a}}function M1(){return 0}function ss(n){return n===null?NaN:+n}function*$1(n,t){if(t===void 0)for(let e of n)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of n)(r=t(r,++e,n))!=null&&(r=+r)>=r&&(yield r)}}const _1=Ki(Ct),lf=_1.right;Ki(ss).center;function T1(n){return n.length|0}function S1(n){return!(n>0)}function A1(n){return typeof n!="object"||"length"in n?n:Array.from(n)}function C1(n){return t=>n(...t)}function E1(...n){const t=typeof n[n.length-1]=="function"&&C1(n.pop());n=n.map(A1);const e=n.map(T1),r=n.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(S1))return a;for(;;){a.push(i.map((f,u)=>n[u][f]));let o=r;for(;++i[o]===e[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function ls(n,t){let e=0,r,i=0,a=0;if(t===void 0)for(let o of n)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++e,a+=r*(o-i));else{let o=-1;for(let f of n)(f=t(f,++o,n))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,a+=r*(f-i))}if(e>1)return a/(e-1)}function N1(n,t){const e=ls(n,t);return e&&Math.sqrt(e)}function Et(n,t){let e,r;for(const i of n)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));return[e,r]}class Yt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=t+a,f=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);f&&(e[r++]=f),t=o}return e[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=t[--e];e>0&&(r=o,i=t[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&t[e-1]<0||a>0&&t[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class fr extends Map{constructor(t,e=ps){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(so(this,t))}has(t){return super.has(so(this,t))}set(t,e){return super.set(ds(this,t),e)}delete(t){return super.delete(hs(this,t))}}class Qi extends Set{constructor(t,e=ps){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(so(this,t))}add(t){return super.add(ds(this,t))}delete(t){return super.delete(hs(this,t))}}function so({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function ds({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function hs({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function ps(n){return n!==null&&typeof n=="object"?n.valueOf():n}function lo(n){return n}function Z3(n,...t){return df(n,lo,lo,t)}function Sa(n,t,...e){return df(n,lo,t,e)}function k1(n,t,...e){return df(n,Array.from,t,e)}function df(n,t,e,r){return function i(a,o){if(o>=r.length)return e(a);const f=new fr,u=r[o++];let s=-1;for(const c of a){const d=u(c,++s,a),l=f.get(d);l?l.push(c):f.set(d,[c])}for(const[c,d]of f)f.set(c,i(d,o));return t(f)}(n,0)}function D1(n,t){return Array.from(t,e=>n[e])}function I1(n,...t){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[e]=t;if(e&&e.length!==2||t.length>1){const r=Uint32Array.from(n,(i,a)=>a);return t.length>1?(t=t.map(i=>n.map(i)),r.sort((i,a)=>{for(const o of t){const f=yi(o[i],o[a]);if(f)return f}})):(e=n.map(e),r.sort((i,a)=>yi(e[i],e[a]))),D1(n,r)}return n.sort(gs(e))}function gs(n=Ct){if(n===Ct)return yi;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const r=n(t,e);return r||r===0?r:(n(e,e)===0)-(n(t,t)===0)}}function yi(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const L1=Math.sqrt(50),R1=Math.sqrt(10),F1=Math.sqrt(2);function wi(n,t,e){const r=(t-n)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=L1?10:a>=R1?5:a>=F1?2:1;let f,u,s;return i<0?(s=Math.pow(10,-i)/o,f=Math.round(n*s),u=Math.round(t*s),f/s<n&&++f,u/s>t&&--u,s=-s):(s=Math.pow(10,i)*o,f=Math.round(n/s),u=Math.round(t/s),f*s<n&&++f,u*s>t&&--u),u<f&&.5<=e&&e<2?wi(n,t,e*2):[f,u,s]}function vi(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const r=t<n,[i,a,o]=r?wi(t,n,e):wi(n,t,e);if(!(a>=i))return[];const f=a-i+1,u=new Array(f);if(r)if(o<0)for(let s=0;s<f;++s)u[s]=(a-s)/-o;else for(let s=0;s<f;++s)u[s]=(a-s)*o;else if(o<0)for(let s=0;s<f;++s)u[s]=(i+s)/-o;else for(let s=0;s<f;++s)u[s]=(i+s)*o;return u}function ho(n,t,e){return t=+t,n=+n,e=+e,wi(n,t,e)[2]}function po(n,t,e){t=+t,n=+n,e=+e;const r=t<n,i=r?ho(t,n,e):ho(n,t,e);return(r?-1:1)*(i<0?1/-i:i)}function et(n,t){let e;if(t===void 0)for(const r of n)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of n)(i=t(i,++r,n))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function P1(n,t){let e,r=-1,i=-1;if(t===void 0)for(const a of n)++i,a!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of n)(a=t(a,++i,n))!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);return r}function ur(n,t){let e;if(t===void 0)for(const r of n)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of n)(i=t(i,++r,n))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function O1(n,t){let e,r=-1,i=-1;if(t===void 0)for(const a of n)++i,a!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of n)(a=t(a,++i,n))!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);return r}function ms(n,t,e=0,r=1/0,i){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(n.length-1,r)),!(e<=t&&t<=r))return n;for(i=i===void 0?yi:gs(i);r>e;){if(r-e>600){const u=r-e+1,s=t-e+1,c=Math.log(u),d=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*d*(u-d)/u)*(s-u/2<0?-1:1),h=Math.max(e,Math.floor(t-s*d/u+l)),p=Math.min(r,Math.floor(t+(u-s)*d/u+l));ms(n,t,h,p,i)}const a=n[t];let o=e,f=r;for(qe(n,e,t),i(n[r],a)>0&&qe(n,e,r);o<f;){for(qe(n,o,f),++o,--f;i(n[o],a)<0;)++o;for(;i(n[f],a)>0;)--f}i(n[e],a)===0?qe(n,e,f):(++f,qe(n,f,r)),f<=t&&(e=f+1),t<=f&&(r=f-1)}return n}function qe(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function xi(n,t,e){if(n=Float64Array.from($1(n,e)),!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return ur(n);if(t>=1)return et(n);var r,i=(r-1)*t,a=Math.floor(i),o=et(ms(n,a).subarray(0,a+1)),f=ur(n.subarray(a+1));return o+(f-o)*(i-a)}}function U1(n,t,e=ss){if(!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,i=(r-1)*t,a=Math.floor(i),o=+e(n[a],a,n),f=+e(n[a+1],a+1,n);return o+(f-o)*(i-a)}}function q1(n,t){let e=0,r=0;if(t===void 0)for(let i of n)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of n)(a=t(a,++i,n))!=null&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function go(n,t){return xi(n,.5,t)}function*H1(n){for(const t of n)yield*t}function bs(n){return Array.from(H1(n))}function z1(n,t){const e=new fr;if(t===void 0)for(let a of n)a!=null&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let a=-1;for(let o of n)(o=t(o,++a,n))!=null&&o>=o&&e.set(o,(e.get(o)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function B1(n,t=Y1){const e=[];let r,i=!1;for(const a of n)i&&e.push(t(r,a)),r=a,i=!0;return e}function Y1(n,t){return[n,t]}function mo(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((t-n)/e))|0,a=new Array(i);++r<i;)a[r]=n+r*e;return a}function hf(n,t){let e=0;if(t===void 0)for(let r of n)(r=+r)&&(e+=r);else{let r=-1;for(let i of n)(i=+t(i,++r,n))&&(e+=i)}return e}function Mi(n){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(n).reverse()}function W1(n){return n}var V1=3,du=1e-6;function G1(n){return"translate("+n+",0)"}function X1(n){return t=>+n(t)}function Z1(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function K1(){return!this.__axis}function Q1(n,t){var e=[],r=null,i=null,a=6,o=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=1,c="y",d=G1;function l(h){var p=r??(t.ticks?t.ticks.apply(t,e):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,e):W1),m=Math.max(a,0)+f,w=t.range(),b=+w[0]+u,v=+w[w.length-1]+u,y=(t.bandwidth?Z1:X1)(t.copy(),u),M=h.selection?h.selection():h,$=M.selectAll(".domain").data([null]),x=M.selectAll(".tick").data(p,t).order(),T=x.exit(),A=x.enter().append("g").attr("class","tick"),N=x.select("line"),_=x.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(A),N=N.merge(A.append("line").attr("stroke","currentColor").attr(c+"2",s*a)),_=_.merge(A.append("text").attr("fill","currentColor").attr(c,s*m).attr("dy","0.71em")),h!==M&&($=$.transition(h),x=x.transition(h),N=N.transition(h),_=_.transition(h),T=T.transition(h).attr("opacity",du).attr("transform",function(D){return isFinite(D=y(D))?d(D+u):this.getAttribute("transform")}),A.attr("opacity",du).attr("transform",function(D){var R=this.parentNode.__axis;return d((R&&isFinite(R=R(D))?R:y(D))+u)})),T.remove(),$.attr("d",o?"M"+b+","+s*o+"V"+u+"H"+v+"V"+s*o:"M"+b+","+u+"H"+v),x.attr("opacity",1).attr("transform",function(D){return d(y(D)+u)}),N.attr(c+"2",s*a),_.attr(c,s*m).text(g),M.filter(K1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),M.each(function(){this.__axis=y})}return l.scale=function(h){return arguments.length?(t=h,l):t},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),l):e.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(a=o=+h,l):a},l.tickSizeInner=function(h){return arguments.length?(a=+h,l):a},l.tickSizeOuter=function(h){return arguments.length?(o=+h,l):o},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(u=+h,l):u},l}function j1(n){return Q1(V1,n)}var J1={value:()=>{}};function ys(){for(var n=0,t=arguments.length,e={},r;n<t;++n){if(!(r=arguments[n]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new di(e)}function di(n){this._=n}function np(n,t){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}di.prototype=ys.prototype={constructor:di,on:function(n,t){var e=this._,r=np(n+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(n=r[a]).type)&&(i=tp(e[i],n.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(n=r[a]).type)e[i]=hu(e[i],n.name,t);else if(t==null)for(i in e)e[i]=hu(e[i],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new di(n)},call:function(n,t){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(a=this._[n],r=0,i=a.length;r<i;++r)a[r].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,a=r.length;i<a;++i)r[i].value.apply(t,e)}};function tp(n,t){for(var e=0,r=n.length,i;e<r;++e)if((i=n[e]).name===t)return i.value}function hu(n,t,e){for(var r=0,i=n.length;r<i;++r)if(n[r].name===t){n[r]=J1,n=n.slice(0,r).concat(n.slice(r+1));break}return e!=null&&n.push({name:t,value:e}),n}var bo="http://www.w3.org/1999/xhtml";const me={svg:"http://www.w3.org/2000/svg",xhtml:bo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ji(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),me.hasOwnProperty(t)?{space:me[t],local:n}:n}function ep(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===bo&&t.documentElement.namespaceURI===bo?t.createElement(n):t.createElementNS(e,n)}}function rp(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Ji(n){var t=ji(n);return(t.local?rp:ep)(t)}function ip(){}function pf(n){return n==null?ip:function(){return this.querySelector(n)}}function ap(n){typeof n!="function"&&(n=pf(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var a=t[i],o=a.length,f=r[i]=new Array(o),u,s,c=0;c<o;++c)(u=a[c])&&(s=n.call(u,u.__data__,c,a))&&("__data__"in u&&(s.__data__=u.__data__),f[c]=s);return new kn(r,this._parents)}function op(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function fp(){return[]}function ws(n){return n==null?fp:function(){return this.querySelectorAll(n)}}function up(n){return function(){return op(n.apply(this,arguments))}}function cp(n){typeof n=="function"?n=up(n):n=ws(n);for(var t=this._groups,e=t.length,r=[],i=[],a=0;a<e;++a)for(var o=t[a],f=o.length,u,s=0;s<f;++s)(u=o[s])&&(r.push(n.call(u,u.__data__,s,o)),i.push(u));return new kn(r,i)}function vs(n){return function(){return this.matches(n)}}function xs(n){return function(t){return t.matches(n)}}var sp=Array.prototype.find;function lp(n){return function(){return sp.call(this.children,n)}}function dp(){return this.firstElementChild}function hp(n){return this.select(n==null?dp:lp(typeof n=="function"?n:xs(n)))}var pp=Array.prototype.filter;function gp(){return Array.from(this.children)}function mp(n){return function(){return pp.call(this.children,n)}}function bp(n){return this.selectAll(n==null?gp:mp(typeof n=="function"?n:xs(n)))}function yp(n){typeof n!="function"&&(n=vs(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var a=t[i],o=a.length,f=r[i]=[],u,s=0;s<o;++s)(u=a[s])&&n.call(u,u.__data__,s,a)&&f.push(u);return new kn(r,this._parents)}function Ms(n){return new Array(n.length)}function wp(){return new kn(this._enter||this._groups.map(Ms),this._parents)}function $i(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}$i.prototype={constructor:$i,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function vp(n){return function(){return n}}function xp(n,t,e,r,i,a){for(var o=0,f,u=t.length,s=a.length;o<s;++o)(f=t[o])?(f.__data__=a[o],r[o]=f):e[o]=new $i(n,a[o]);for(;o<u;++o)(f=t[o])&&(i[o]=f)}function Mp(n,t,e,r,i,a,o){var f,u,s=new Map,c=t.length,d=a.length,l=new Array(c),h;for(f=0;f<c;++f)(u=t[f])&&(l[f]=h=o.call(u,u.__data__,f,t)+"",s.has(h)?i[f]=u:s.set(h,u));for(f=0;f<d;++f)h=o.call(n,a[f],f,a)+"",(u=s.get(h))?(r[f]=u,u.__data__=a[f],s.delete(h)):e[f]=new $i(n,a[f]);for(f=0;f<c;++f)(u=t[f])&&s.get(l[f])===u&&(i[f]=u)}function $p(n){return n.__data__}function _p(n,t){if(!arguments.length)return Array.from(this,$p);var e=t?Mp:xp,r=this._parents,i=this._groups;typeof n!="function"&&(n=vp(n));for(var a=i.length,o=new Array(a),f=new Array(a),u=new Array(a),s=0;s<a;++s){var c=r[s],d=i[s],l=d.length,h=Tp(n.call(c,c&&c.__data__,s,r)),p=h.length,g=f[s]=new Array(p),m=o[s]=new Array(p),w=u[s]=new Array(l);e(c,d,g,m,w,h,t);for(var b=0,v=0,y,M;b<p;++b)if(y=g[b]){for(b>=v&&(v=b+1);!(M=m[v])&&++v<p;);y._next=M||null}}return o=new kn(o,r),o._enter=f,o._exit=u,o}function Tp(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Sp(){return new kn(this._exit||this._groups.map(Ms),this._parents)}function Ap(n,t,e){var r=this.enter(),i=this,a=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),t!=null&&(i=t(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Cp(n){for(var t=n.selection?n.selection():n,e=this._groups,r=t._groups,i=e.length,a=r.length,o=Math.min(i,a),f=new Array(i),u=0;u<o;++u)for(var s=e[u],c=r[u],d=s.length,l=f[u]=new Array(d),h,p=0;p<d;++p)(h=s[p]||c[p])&&(l[p]=h);for(;u<i;++u)f[u]=e[u];return new kn(f,this._parents)}function Ep(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var r=n[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Np(n){n||(n=kp);function t(d,l){return d&&l?n(d.__data__,l.__data__):!d-!l}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],f=o.length,u=i[a]=new Array(f),s,c=0;c<f;++c)(s=o[c])&&(u[c]=s);u.sort(t)}return new kn(i,this._parents).order()}function kp(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Dp(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Ip(){return Array.from(this)}function Lp(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Rp(){let n=0;for(const t of this)++n;return n}function Fp(){return!this.node()}function Pp(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],a=0,o=i.length,f;a<o;++a)(f=i[a])&&n.call(f,f.__data__,a,i);return this}function Op(n){return function(){this.removeAttribute(n)}}function Up(n){return function(){this.removeAttributeNS(n.space,n.local)}}function qp(n,t){return function(){this.setAttribute(n,t)}}function Hp(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function zp(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function Bp(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Yp(n,t){var e=ji(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((t==null?e.local?Up:Op:typeof t=="function"?e.local?Bp:zp:e.local?Hp:qp)(e,t))}function $s(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Wp(n){return function(){this.style.removeProperty(n)}}function Vp(n,t,e){return function(){this.style.setProperty(n,t,e)}}function Gp(n,t,e){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}function Xp(n,t,e){return arguments.length>1?this.each((t==null?Wp:typeof t=="function"?Gp:Vp)(n,t,e??"")):be(this.node(),n)}function be(n,t){return n.style.getPropertyValue(t)||$s(n).getComputedStyle(n,null).getPropertyValue(t)}function Zp(n){return function(){delete this[n]}}function Kp(n,t){return function(){this[n]=t}}function Qp(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function jp(n,t){return arguments.length>1?this.each((t==null?Zp:typeof t=="function"?Qp:Kp)(n,t)):this.node()[n]}function _s(n){return n.trim().split(/^|\s+/)}function gf(n){return n.classList||new Ts(n)}function Ts(n){this._node=n,this._names=_s(n.getAttribute("class")||"")}Ts.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Ss(n,t){for(var e=gf(n),r=-1,i=t.length;++r<i;)e.add(t[r])}function As(n,t){for(var e=gf(n),r=-1,i=t.length;++r<i;)e.remove(t[r])}function Jp(n){return function(){Ss(this,n)}}function ng(n){return function(){As(this,n)}}function tg(n,t){return function(){(t.apply(this,arguments)?Ss:As)(this,n)}}function eg(n,t){var e=_s(n+"");if(arguments.length<2){for(var r=gf(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof t=="function"?tg:t?Jp:ng)(e,t))}function rg(){this.textContent=""}function ig(n){return function(){this.textContent=n}}function ag(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function og(n){return arguments.length?this.each(n==null?rg:(typeof n=="function"?ag:ig)(n)):this.node().textContent}function fg(){this.innerHTML=""}function ug(n){return function(){this.innerHTML=n}}function cg(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function sg(n){return arguments.length?this.each(n==null?fg:(typeof n=="function"?cg:ug)(n)):this.node().innerHTML}function lg(){this.nextSibling&&this.parentNode.appendChild(this)}function dg(){return this.each(lg)}function hg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pg(){return this.each(hg)}function gg(n){var t=typeof n=="function"?n:Ji(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function mg(){return null}function bg(n,t){var e=typeof n=="function"?n:Ji(n),r=t==null?mg:typeof t=="function"?t:pf(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function yg(){var n=this.parentNode;n&&n.removeChild(this)}function wg(){return this.each(yg)}function vg(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function xg(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Mg(n){return this.select(n?xg:vg)}function $g(n){return arguments.length?this.property("__data__",n):this.node().__data__}function _g(n){return function(t){n.call(this,t,this.__data__)}}function Tg(n){return n.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}})}function Sg(n){return function(){var t=this.__on;if(t){for(var e=0,r=-1,i=t.length,a;e<i;++e)a=t[e],(!n.type||a.type===n.type)&&a.name===n.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Ag(n,t,e){return function(){var r=this.__on,i,a=_g(t);if(r){for(var o=0,f=r.length;o<f;++o)if((i=r[o]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=t;return}}this.addEventListener(n.type,a,e),i={type:n.type,name:n.name,value:t,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Cg(n,t,e){var r=Tg(n+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,s=f.length,c;u<s;++u)for(i=0,c=f[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(f=t?Ag:Sg,i=0;i<a;++i)this.each(f(r[i],t,e));return this}function Cs(n,t,e){var r=$s(n),i=r.CustomEvent;typeof i=="function"?i=new i(t,e):(i=r.document.createEvent("Event"),e?(i.initEvent(t,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(t,!1,!1)),n.dispatchEvent(i)}function Eg(n,t){return function(){return Cs(this,n,t)}}function Ng(n,t){return function(){return Cs(this,n,t.apply(this,arguments))}}function kg(n,t){return this.each((typeof t=="function"?Ng:Eg)(n,t))}function*Dg(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Es=[null];function kn(n,t){this._groups=n,this._parents=t}function Mr(){return new kn([[document.documentElement]],Es)}function Ig(){return this}kn.prototype=Mr.prototype={constructor:kn,select:ap,selectAll:cp,selectChild:hp,selectChildren:bp,filter:yp,data:_p,enter:wp,exit:Sp,join:Ap,merge:Cp,selection:Ig,order:Ep,sort:Np,call:Dp,nodes:Ip,node:Lp,size:Rp,empty:Fp,each:Pp,attr:Yp,style:Xp,property:jp,classed:eg,text:og,html:sg,raise:dg,lower:pg,append:gg,insert:bg,remove:wg,clone:Mg,datum:$g,on:Cg,dispatch:kg,[Symbol.iterator]:Dg};function Ut(n){return typeof n=="string"?new kn([[document.querySelector(n)]],[document.documentElement]):new kn([[n]],Es)}function Lg(n){let t;for(;t=n.sourceEvent;)n=t;return n}function Rg(n,t){if(n=Lg(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}}return[n.pageX,n.pageY]}function ke(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function $r(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function Dt(){}var Wt=.7,ye=1/Wt,he="\\s*([+-]?\\d+)\\s*",cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fg=/^#([0-9a-f]{3,8})$/,Pg=new RegExp(`^rgb\\(${he},${he},${he}\\)$`),Og=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),Ug=new RegExp(`^rgba\\(${he},${he},${he},${cr}\\)$`),qg=new RegExp(`^rgba\\(${nt},${nt},${nt},${cr}\\)$`),Hg=new RegExp(`^hsl\\(${cr},${nt},${nt}\\)$`),zg=new RegExp(`^hsla\\(${cr},${nt},${nt},${cr}\\)$`),pu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ke(Dt,Vt,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:gu,formatHex:gu,formatHex8:Bg,formatHsl:Yg,formatRgb:mu,toString:mu});function gu(){return this.rgb().formatHex()}function Bg(){return this.rgb().formatHex8()}function Yg(){return Ns(this).formatHsl()}function mu(){return this.rgb().formatRgb()}function Vt(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=Fg.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?bu(t):e===3?new mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Vr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Vr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Pg.exec(n))?new mn(t[1],t[2],t[3],1):(t=Og.exec(n))?new mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ug.exec(n))?Vr(t[1],t[2],t[3],t[4]):(t=qg.exec(n))?Vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hg.exec(n))?vu(t[1],t[2]/100,t[3]/100,1):(t=zg.exec(n))?vu(t[1],t[2]/100,t[3]/100,t[4]):pu.hasOwnProperty(n)?bu(pu[n]):n==="transparent"?new mn(NaN,NaN,NaN,0):null}function bu(n){return new mn(n>>16&255,n>>8&255,n&255,1)}function Vr(n,t,e,r){return r<=0&&(n=t=e=NaN),new mn(n,t,e,r)}function mf(n){return n instanceof Dt||(n=Vt(n)),n?(n=n.rgb(),new mn(n.r,n.g,n.b,n.opacity)):new mn}function Nt(n,t,e,r){return arguments.length===1?mf(n):new mn(n,t,e,r??1)}function mn(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}ke(mn,Nt,$r(Dt,{brighter(n){return n=n==null?ye:Math.pow(ye,n),new mn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Wt:Math.pow(Wt,n),new mn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new mn(qt(this.r),qt(this.g),qt(this.b),_i(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yu,formatHex:yu,formatHex8:Wg,formatRgb:wu,toString:wu}));function yu(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}`}function Wg(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}${Ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function wu(){const n=_i(this.opacity);return`${n===1?"rgb(":"rgba("}${qt(this.r)}, ${qt(this.g)}, ${qt(this.b)}${n===1?")":`, ${n})`}`}function _i(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function qt(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ot(n){return n=qt(n),(n<16?"0":"")+n.toString(16)}function vu(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Bn(n,t,e,r)}function Ns(n){if(n instanceof Bn)return new Bn(n.h,n.s,n.l,n.opacity);if(n instanceof Dt||(n=Vt(n)),!n)return new Bn;if(n instanceof Bn)return n;n=n.rgb();var t=n.r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),a=Math.max(t,e,r),o=NaN,f=a-i,u=(a+i)/2;return f?(t===a?o=(e-r)/f+(e<r)*6:e===a?o=(r-t)/f+2:o=(t-e)/f+4,f/=u<.5?a+i:2-a-i,o*=60):f=u>0&&u<1?0:o,new Bn(o,f,u,n.opacity)}function yo(n,t,e,r){return arguments.length===1?Ns(n):new Bn(n,t,e,r??1)}function Bn(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}ke(Bn,yo,$r(Dt,{brighter(n){return n=n==null?ye:Math.pow(ye,n),new Bn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Wt:Math.pow(Wt,n),new Bn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new mn(Aa(n>=240?n-240:n+120,i,r),Aa(n,i,r),Aa(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Bn(xu(this.h),Gr(this.s),Gr(this.l),_i(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=_i(this.opacity);return`${n===1?"hsl(":"hsla("}${xu(this.h)}, ${Gr(this.s)*100}%, ${Gr(this.l)*100}%${n===1?")":`, ${n})`}`}}));function xu(n){return n=(n||0)%360,n<0?n+360:n}function Gr(n){return Math.max(0,Math.min(1,n||0))}function Aa(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const ks=Math.PI/180,Ds=180/Math.PI,Ti=18,Is=.96422,Ls=1,Rs=.82521,Fs=4/29,pe=6/29,Ps=3*pe*pe,Vg=pe*pe*pe;function Os(n){if(n instanceof tt)return new tt(n.l,n.a,n.b,n.opacity);if(n instanceof mt)return Us(n);n instanceof mn||(n=mf(n));var t=ka(n.r),e=ka(n.g),r=ka(n.b),i=Ca((.2225045*t+.7168786*e+.0606169*r)/Ls),a,o;return t===e&&e===r?a=o=i:(a=Ca((.4360747*t+.3850649*e+.1430804*r)/Is),o=Ca((.0139322*t+.0971045*e+.7141733*r)/Rs)),new tt(116*i-16,500*(a-i),200*(i-o),n.opacity)}function wo(n,t,e,r){return arguments.length===1?Os(n):new tt(n,t,e,r??1)}function tt(n,t,e,r){this.l=+n,this.a=+t,this.b=+e,this.opacity=+r}ke(tt,wo,$r(Dt,{brighter(n){return new tt(this.l+Ti*(n??1),this.a,this.b,this.opacity)},darker(n){return new tt(this.l-Ti*(n??1),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return t=Is*Ea(t),n=Ls*Ea(n),e=Rs*Ea(e),new mn(Na(3.1338561*t-1.6168667*n-.4906146*e),Na(-.9787684*t+1.9161415*n+.033454*e),Na(.0719453*t-.2289914*n+1.4052427*e),this.opacity)}}));function Ca(n){return n>Vg?Math.pow(n,1/3):n/Ps+Fs}function Ea(n){return n>pe?n*n*n:Ps*(n-Fs)}function Na(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function ka(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Gg(n){if(n instanceof mt)return new mt(n.h,n.c,n.l,n.opacity);if(n instanceof tt||(n=Os(n)),n.a===0&&n.b===0)return new mt(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*Ds;return new mt(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function vo(n,t,e,r){return arguments.length===1?Gg(n):new mt(n,t,e,r??1)}function mt(n,t,e,r){this.h=+n,this.c=+t,this.l=+e,this.opacity=+r}function Us(n){if(isNaN(n.h))return new tt(n.l,0,0,n.opacity);var t=n.h*ks;return new tt(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}ke(mt,vo,$r(Dt,{brighter(n){return new mt(this.h,this.c,this.l+Ti*(n??1),this.opacity)},darker(n){return new mt(this.h,this.c,this.l-Ti*(n??1),this.opacity)},rgb(){return Us(this).rgb()}}));var qs=-.14861,bf=1.78277,yf=-.29227,na=-.90649,sr=1.97294,Mu=sr*na,$u=sr*bf,_u=bf*yf-na*qs;function Xg(n){if(n instanceof Ht)return new Ht(n.h,n.s,n.l,n.opacity);n instanceof mn||(n=mf(n));var t=n.r/255,e=n.g/255,r=n.b/255,i=(_u*r+Mu*t-$u*e)/(_u+Mu-$u),a=r-i,o=(sr*(e-i)-yf*a)/na,f=Math.sqrt(o*o+a*a)/(sr*i*(1-i)),u=f?Math.atan2(o,a)*Ds-120:NaN;return new Ht(u<0?u+360:u,f,i,n.opacity)}function rt(n,t,e,r){return arguments.length===1?Xg(n):new Ht(n,t,e,r??1)}function Ht(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}ke(Ht,rt,$r(Dt,{brighter(n){return n=n==null?ye:Math.pow(ye,n),new Ht(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Wt:Math.pow(Wt,n),new Ht(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*ks,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(n),i=Math.sin(n);return new mn(255*(t+e*(qs*r+bf*i)),255*(t+e*(yf*r+na*i)),255*(t+e*(sr*r)),this.opacity)}}));function Zg(n,t,e,r,i){var a=n*n,o=a*n;return((1-3*n+3*a-o)*t+(4-6*a+3*o)*e+(1+3*n+3*a-3*o)*r+o*i)/6}function Kg(n){var t=n.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),i=n[r],a=n[r+1],o=r>0?n[r-1]:2*i-a,f=r<t-1?n[r+2]:2*a-i;return Zg((e-r/t)*t,o,i,a,f)}}const ta=n=>()=>n;function Hs(n,t){return function(e){return n+e*t}}function Qg(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}function wf(n,t){var e=t-n;return e?Hs(n,e>180||e<-180?e-360*Math.round(e/360):e):ta(isNaN(n)?t:n)}function jg(n){return(n=+n)==1?xn:function(t,e){return e-t?Qg(t,e,n):ta(isNaN(t)?e:t)}}function xn(n,t){var e=t-n;return e?Hs(n,e):ta(isNaN(n)?t:n)}const Gt=function n(t){var e=jg(t);function r(i,a){var o=e((i=Nt(i)).r,(a=Nt(a)).r),f=e(i.g,a.g),u=e(i.b,a.b),s=xn(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=f(c),i.b=u(c),i.opacity=s(c),i+""}}return r.gamma=n,r}(1);function Jg(n){return function(t){var e=t.length,r=new Array(e),i=new Array(e),a=new Array(e),o,f;for(o=0;o<e;++o)f=Nt(t[o]),r[o]=f.r||0,i[o]=f.g||0,a[o]=f.b||0;return r=n(r),i=n(i),a=n(a),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=a(u),f+""}}}var nm=Jg(Kg);function tm(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=n[i]*(1-a)+t[i]*a;return r}}function em(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function rm(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=_r(n[o],t[o]);for(;o<e;++o)a[o]=t[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function im(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function wn(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function am(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=_r(n[i],t[i]):r[i]=t[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var xo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Da=new RegExp(xo.source,"g");function om(n){return function(){return n}}function fm(n){return function(t){return n(t)+""}}function zs(n,t){var e=xo.lastIndex=Da.lastIndex=0,r,i,a,o=-1,f=[],u=[];for(n=n+"",t=t+"";(r=xo.exec(n))&&(i=Da.exec(t));)(a=i.index)>e&&(a=t.slice(e,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,u.push({i:o,x:wn(r,i)})),e=Da.lastIndex;return e<t.length&&(a=t.slice(e),f[o]?f[o]+=a:f[++o]=a),f.length<2?u[0]?fm(u[0].x):om(t):(t=u.length,function(s){for(var c=0,d;c<t;++c)f[(d=u[c]).i]=d.x(s);return f.join("")})}function _r(n,t){var e=typeof t,r;return t==null||e==="boolean"?ta(t):(e==="number"?wn:e==="string"?(r=Vt(t))?(t=r,Gt):zs:t instanceof Vt?Gt:t instanceof Date?im:em(t)?tm:Array.isArray(t)?rm:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?am:wn)(n,t)}function vf(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}var Tu=180/Math.PI,Mo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bs(n,t,e,r,i,a){var o,f,u;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(u=n*e+t*r)&&(e-=n*u,r-=t*u),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,u/=f),n*r<t*e&&(n=-n,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,n)*Tu,skewX:Math.atan(u)*Tu,scaleX:o,scaleY:f}}var Xr;function um(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?Mo:Bs(t.a,t.b,t.c,t.d,t.e,t.f)}function cm(n){return n==null||(Xr||(Xr=document.createElementNS("http://www.w3.org/2000/svg","g")),Xr.setAttribute("transform",n),!(n=Xr.transform.baseVal.consolidate()))?Mo:(n=n.matrix,Bs(n.a,n.b,n.c,n.d,n.e,n.f))}function Ys(n,t,e,r){function i(s){return s.length?s.pop()+" ":""}function a(s,c,d,l,h,p){if(s!==d||c!==l){var g=h.push("translate(",null,t,null,e);p.push({i:g-4,x:wn(s,d)},{i:g-2,x:wn(c,l)})}else(d||l)&&h.push("translate("+d+t+l+e)}function o(s,c,d,l){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:wn(s,c)})):c&&d.push(i(d)+"rotate("+c+r)}function f(s,c,d,l){s!==c?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:wn(s,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(s,c,d,l,h,p){if(s!==d||c!==l){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:wn(s,d)},{i:g-2,x:wn(c,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(s,c){var d=[],l=[];return s=n(s),c=n(c),a(s.translateX,s.translateY,c.translateX,c.translateY,d,l),o(s.rotate,c.rotate,d,l),f(s.skewX,c.skewX,d,l),u(s.scaleX,s.scaleY,c.scaleX,c.scaleY,d,l),s=c=null,function(h){for(var p=-1,g=l.length,m;++p<g;)d[(m=l[p]).i]=m.x(h);return d.join("")}}}var sm=Ys(um,"px, ","px)","deg)"),lm=Ys(cm,", ",")",")");function dm(n){return function(t,e){var r=n((t=yo(t)).h,(e=yo(e)).h),i=xn(t.s,e.s),a=xn(t.l,e.l),o=xn(t.opacity,e.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=a(f),t.opacity=o(f),t+""}}}const hm=dm(wf);function pm(n,t){var e=xn((n=wo(n)).l,(t=wo(t)).l),r=xn(n.a,t.a),i=xn(n.b,t.b),a=xn(n.opacity,t.opacity);return function(o){return n.l=e(o),n.a=r(o),n.b=i(o),n.opacity=a(o),n+""}}function gm(n){return function(t,e){var r=n((t=vo(t)).h,(e=vo(e)).h),i=xn(t.c,e.c),a=xn(t.l,e.l),o=xn(t.opacity,e.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=a(f),t.opacity=o(f),t+""}}}const mm=gm(wf);function Ws(n){return function t(e){e=+e;function r(i,a){var o=n((i=rt(i)).h,(a=rt(a)).h),f=xn(i.s,a.s),u=xn(i.l,a.l),s=xn(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=f(c),i.l=u(Math.pow(c,e)),i.opacity=s(c),i+""}}return r.gamma=t,r}(1)}Ws(wf);var xf=Ws(xn);function ea(n,t){t===void 0&&(t=n,n=_r);for(var e=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);e<r;)a[e]=n(i,i=t[++e]);return function(o){var f=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[f](o-f)}}function Wn(n,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=n(r/(t-1));return e}var we=0,Xe=0,He=0,Vs=1e3,Si,Ze,Ai=0,Xt=0,ra=0,lr=typeof performance=="object"&&performance.now?performance:Date,Gs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Mf(){return Xt||(Gs(bm),Xt=lr.now()+ra)}function bm(){Xt=0}function Ci(){this._call=this._time=this._next=null}Ci.prototype=Xs.prototype={constructor:Ci,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Mf():+e)+(t==null?0:+t),!this._next&&Ze!==this&&(Ze?Ze._next=this:Si=this,Ze=this),this._call=n,this._time=e,$o()},stop:function(){this._call&&(this._call=null,this._time=1/0,$o())}};function Xs(n,t,e){var r=new Ci;return r.restart(n,t,e),r}function ym(){Mf(),++we;for(var n=Si,t;n;)(t=Xt-n._time)>=0&&n._call.call(void 0,t),n=n._next;--we}function Su(){Xt=(Ai=lr.now())+ra,we=Xe=0;try{ym()}finally{we=0,vm(),Xt=0}}function wm(){var n=lr.now(),t=n-Ai;t>Vs&&(ra-=t,Ai=n)}function vm(){for(var n,t=Si,e,r=1/0;t;)t._call?(r>t._time&&(r=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Si=e);Ze=n,$o(r)}function $o(n){if(!we){Xe&&(Xe=clearTimeout(Xe));var t=n-Xt;t>24?(n<1/0&&(Xe=setTimeout(Su,n-lr.now()-ra)),He&&(He=clearInterval(He))):(He||(Ai=lr.now(),He=setInterval(wm,Vs)),we=1,Gs(Su))}}function Au(n,t,e){var r=new Ci;return t=t==null?0:+t,r.restart(i=>{r.stop(),n(i+t)},t,e),r}var xm=ys("start","end","cancel","interrupt"),Mm=[],Zs=0,Cu=1,_o=2,hi=3,Eu=4,To=5,pi=6;function ia(n,t,e,r,i,a){var o=n.__transition;if(!o)n.__transition={};else if(e in o)return;$m(n,e,{name:t,index:r,group:i,on:xm,tween:Mm,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Zs})}function $f(n,t){var e=Xn(n,t);if(e.state>Zs)throw new Error("too late; already scheduled");return e}function ot(n,t){var e=Xn(n,t);if(e.state>hi)throw new Error("too late; already running");return e}function Xn(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function $m(n,t,e){var r=n.__transition,i;r[t]=e,e.timer=Xs(a,0,e.time);function a(s){e.state=Cu,e.timer.restart(o,e.delay,e.time),e.delay<=s&&o(s-e.delay)}function o(s){var c,d,l,h;if(e.state!==Cu)return u();for(c in r)if(h=r[c],h.name===e.name){if(h.state===hi)return Au(o);h.state===Eu?(h.state=pi,h.timer.stop(),h.on.call("interrupt",n,n.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=pi,h.timer.stop(),h.on.call("cancel",n,n.__data__,h.index,h.group),delete r[c])}if(Au(function(){e.state===hi&&(e.state=Eu,e.timer.restart(f,e.delay,e.time),f(s))}),e.state=_o,e.on.call("start",n,n.__data__,e.index,e.group),e.state===_o){for(e.state=hi,i=new Array(l=e.tween.length),c=0,d=-1;c<l;++c)(h=e.tween[c].value.call(n,n.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(s){for(var c=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(u),e.state=To,1),d=-1,l=i.length;++d<l;)i[d].call(n,c);e.state===To&&(e.on.call("end",n,n.__data__,e.index,e.group),u())}function u(){e.state=pi,e.timer.stop(),delete r[t];for(var s in r)return;delete n.__transition}}function _m(n,t){var e=n.__transition,r,i,a=!0,o;if(e){t=t==null?null:t+"";for(o in e){if((r=e[o]).name!==t){a=!1;continue}i=r.state>_o&&r.state<To,r.state=pi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete e[o]}a&&delete n.__transition}}function Tm(n){return this.each(function(){_m(this,n)})}function Sm(n,t){var e,r;return function(){var i=ot(this,n),a=i.tween;if(a!==e){r=e=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Am(n,t,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=ot(this,n),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:t,value:e},u=0,s=i.length;u<s;++u)if(i[u].name===t){i[u]=f;break}u===s&&i.push(f)}a.tween=i}}function Cm(n,t){var e=this._id;if(n+="",arguments.length<2){for(var r=Xn(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((t==null?Sm:Am)(e,n,t))}function _f(n,t,e){var r=n._id;return n.each(function(){var i=ot(this,r);(i.value||(i.value={}))[t]=e.apply(this,arguments)}),function(i){return Xn(i,r).value[t]}}function Ks(n,t){var e;return(typeof t=="number"?wn:t instanceof Vt?Gt:(e=Vt(t))?(t=e,Gt):zs)(n,t)}function Em(n){return function(){this.removeAttribute(n)}}function Nm(n){return function(){this.removeAttributeNS(n.space,n.local)}}function km(n,t,e){var r,i=e+"",a;return function(){var o=this.getAttribute(n);return o===i?null:o===r?a:a=t(r=o,e)}}function Dm(n,t,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?a:a=t(r=o,e)}}function Im(n,t,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttribute(n):(o=this.getAttribute(n),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,f)))}}function Lm(n,t,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,f)))}}function Rm(n,t){var e=ji(n),r=e==="transform"?lm:Ks;return this.attrTween(n,typeof t=="function"?(e.local?Lm:Im)(e,r,_f(this,"attr."+n,t)):t==null?(e.local?Nm:Em)(e):(e.local?Dm:km)(e,r,t))}function Fm(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function Pm(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function Om(n,t){var e,r;function i(){var a=t.apply(this,arguments);return a!==r&&(e=(r=a)&&Pm(n,a)),e}return i._value=t,i}function Um(n,t){var e,r;function i(){var a=t.apply(this,arguments);return a!==r&&(e=(r=a)&&Fm(n,a)),e}return i._value=t,i}function qm(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var r=ji(n);return this.tween(e,(r.local?Om:Um)(r,t))}function Hm(n,t){return function(){$f(this,n).delay=+t.apply(this,arguments)}}function zm(n,t){return t=+t,function(){$f(this,n).delay=t}}function Bm(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?Hm:zm)(t,n)):Xn(this.node(),t).delay}function Ym(n,t){return function(){ot(this,n).duration=+t.apply(this,arguments)}}function Wm(n,t){return t=+t,function(){ot(this,n).duration=t}}function Vm(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?Ym:Wm)(t,n)):Xn(this.node(),t).duration}function Gm(n,t){if(typeof t!="function")throw new Error;return function(){ot(this,n).ease=t}}function Xm(n){var t=this._id;return arguments.length?this.each(Gm(t,n)):Xn(this.node(),t).ease}function Zm(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;ot(this,n).ease=e}}function Km(n){if(typeof n!="function")throw new Error;return this.each(Zm(this._id,n))}function Qm(n){typeof n!="function"&&(n=vs(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var a=t[i],o=a.length,f=r[i]=[],u,s=0;s<o;++s)(u=a[s])&&n.call(u,u.__data__,s,a)&&f.push(u);return new vt(r,this._parents,this._name,this._id)}function jm(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,r=t.length,i=e.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var u=t[f],s=e[f],c=u.length,d=o[f]=new Array(c),l,h=0;h<c;++h)(l=u[h]||s[h])&&(d[h]=l);for(;f<r;++f)o[f]=t[f];return new vt(o,this._parents,this._name,this._id)}function Jm(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function nb(n,t,e){var r,i,a=Jm(t)?$f:ot;return function(){var o=a(this,n),f=o.on;f!==r&&(i=(r=f).copy()).on(t,e),o.on=i}}function tb(n,t){var e=this._id;return arguments.length<2?Xn(this.node(),e).on.on(n):this.each(nb(e,n,t))}function eb(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function rb(){return this.on("end.remove",eb(this._id))}function ib(n){var t=this._name,e=this._id;typeof n!="function"&&(n=pf(n));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],u=f.length,s=a[o]=new Array(u),c,d,l=0;l<u;++l)(c=f[l])&&(d=n.call(c,c.__data__,l,f))&&("__data__"in c&&(d.__data__=c.__data__),s[l]=d,ia(s[l],t,e,l,s,Xn(c,e)));return new vt(a,this._parents,t,e)}function ab(n){var t=this._name,e=this._id;typeof n!="function"&&(n=ws(n));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var u=r[f],s=u.length,c,d=0;d<s;++d)if(c=u[d]){for(var l=n.call(c,c.__data__,d,u),h,p=Xn(c,e),g=0,m=l.length;g<m;++g)(h=l[g])&&ia(h,t,e,g,l,p);a.push(l),o.push(c)}return new vt(a,o,t,e)}var ob=Mr.prototype.constructor;function fb(){return new ob(this._groups,this._parents)}function ub(n,t){var e,r,i;return function(){var a=be(this,n),o=(this.style.removeProperty(n),be(this,n));return a===o?null:a===e&&o===r?i:i=t(e=a,r=o)}}function Qs(n){return function(){this.style.removeProperty(n)}}function cb(n,t,e){var r,i=e+"",a;return function(){var o=be(this,n);return o===i?null:o===r?a:a=t(r=o,e)}}function sb(n,t,e){var r,i,a;return function(){var o=be(this,n),f=e(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(n),be(this,n))),o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,f))}}function lb(n,t){var e,r,i,a="style."+t,o="end."+a,f;return function(){var u=ot(this,n),s=u.on,c=u.value[a]==null?f||(f=Qs(t)):void 0;(s!==e||i!==c)&&(r=(e=s).copy()).on(o,i=c),u.on=r}}function db(n,t,e){var r=(n+="")=="transform"?sm:Ks;return t==null?this.styleTween(n,ub(n,r)).on("end.style."+n,Qs(n)):typeof t=="function"?this.styleTween(n,sb(n,r,_f(this,"style."+n,t))).each(lb(this._id,n)):this.styleTween(n,cb(n,r,t),e).on("end.style."+n,null)}function hb(n,t,e){return function(r){this.style.setProperty(n,t.call(this,r),e)}}function pb(n,t,e){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&hb(n,o,e)),r}return a._value=t,a}function gb(n,t,e){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,pb(n,t,e??""))}function mb(n){return function(){this.textContent=n}}function bb(n){return function(){var t=n(this);this.textContent=t??""}}function yb(n){return this.tween("text",typeof n=="function"?bb(_f(this,"text",n)):mb(n==null?"":n+""))}function wb(n){return function(t){this.textContent=n.call(this,t)}}function vb(n){var t,e;function r(){var i=n.apply(this,arguments);return i!==e&&(t=(e=i)&&wb(i)),t}return r._value=n,r}function xb(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,vb(n))}function Mb(){for(var n=this._name,t=this._id,e=js(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,s=0;s<f;++s)if(u=o[s]){var c=Xn(u,t);ia(u,n,e,s,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new vt(r,this._parents,n,e)}function $b(){var n,t,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var f={value:o},u={value:function(){--i===0&&a()}};e.each(function(){var s=ot(this,r),c=s.on;c!==n&&(t=(n=c).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(u)),s.on=t}),i===0&&a()})}var _b=0;function vt(n,t,e,r){this._groups=n,this._parents=t,this._name=e,this._id=r}function js(){return++_b}var ct=Mr.prototype;vt.prototype={constructor:vt,select:ib,selectAll:ab,selectChild:ct.selectChild,selectChildren:ct.selectChildren,filter:Qm,merge:jm,selection:fb,transition:Mb,call:ct.call,nodes:ct.nodes,node:ct.node,size:ct.size,empty:ct.empty,each:ct.each,on:tb,attr:Rm,attrTween:qm,style:db,styleTween:gb,text:yb,textTween:xb,remove:rb,tween:Cm,delay:Bm,duration:Vm,ease:Xm,easeVarying:Km,end:$b,[Symbol.iterator]:ct[Symbol.iterator]};function Tb(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Sb={time:null,delay:0,duration:250,ease:Tb};function Ab(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function Cb(n){var t,e;n instanceof vt?(t=n._id,n=n._name):(t=js(),(e=Sb).time=Mf(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,s=0;s<f;++s)(u=o[s])&&ia(u,n,t,s,o,e||Ab(u,t));return new vt(r,this._parents,n,t)}Mr.prototype.interrupt=Tm;Mr.prototype.transition=Cb;const So=Math.PI,Ao=2*So,Ft=1e-6,Eb=Ao-Ft;function Js(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Nb(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return Js;const e=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class kb{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Js:Nb(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,i){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,e,r,i,a,o){this._append`C${+t},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,e,r,i,a){if(t=+t,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,f=this._y1,u=r-t,s=i-e,c=o-t,d=f-e,l=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(l>Ft)if(!(Math.abs(d*u-s*c)>Ft)||!a)this._append`L${this._x1=t},${this._y1=e}`;else{let h=r-o,p=i-f,g=u*u+s*s,m=h*h+p*p,w=Math.sqrt(g),b=Math.sqrt(l),v=a*Math.tan((So-Math.acos((g+l-m)/(2*w*b)))/2),y=v/b,M=v/w;Math.abs(y-1)>Ft&&this._append`L${t+y*c},${e+y*d}`,this._append`A${a},${a},0,0,${+(d*h>c*p)},${this._x1=t+M*u},${this._y1=e+M*s}`}}arc(t,e,r,i,a,o){if(t=+t,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),s=t+f,c=e+u,d=1^o,l=o?i-a:a-i;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>Ft||Math.abs(this._y1-c)>Ft)&&this._append`L${s},${c}`,r&&(l<0&&(l=l%Ao+Ao),l>Eb?this._append`A${r},${r},0,1,${d},${t-f},${e-u}A${r},${r},0,1,${d},${this._x1=s},${this._y1=c}`:l>Ft&&this._append`A${r},${r},0,${+(l>=So)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(t,e,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Co(n=3){return new kb(+n)}var Nu={},Ia={},La=34,ze=10,Ra=13;function nl(n){return new Function("d","return {"+n.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function Db(n,t){var e=nl(n);return function(r,i){return t(e(r),i,n)}}function ku(n){var t=Object.create(null),e=[];return n.forEach(function(r){for(var i in r)i in t||e.push(t[i]=i)}),e}function _n(n,t){var e=n+"",r=e.length;return r<t?new Array(t-r+1).join(0)+e:e}function Ib(n){return n<0?"-"+_n(-n,6):n>9999?"+"+_n(n,6):_n(n,4)}function Lb(n){var t=n.getUTCHours(),e=n.getUTCMinutes(),r=n.getUTCSeconds(),i=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":Ib(n.getUTCFullYear())+"-"+_n(n.getUTCMonth()+1,2)+"-"+_n(n.getUTCDate(),2)+(i?"T"+_n(t,2)+":"+_n(e,2)+":"+_n(r,2)+"."+_n(i,3)+"Z":r?"T"+_n(t,2)+":"+_n(e,2)+":"+_n(r,2)+"Z":e||t?"T"+_n(t,2)+":"+_n(e,2)+"Z":"")}function Rb(n){var t=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function r(d,l){var h,p,g=i(d,function(m,w){if(h)return h(m,w-1);p=m,h=l?Db(m,l):nl(m)});return g.columns=p||[],g}function i(d,l){var h=[],p=d.length,g=0,m=0,w,b=p<=0,v=!1;d.charCodeAt(p-1)===ze&&--p,d.charCodeAt(p-1)===Ra&&--p;function y(){if(b)return Ia;if(v)return v=!1,Nu;var $,x=g,T;if(d.charCodeAt(x)===La){for(;g++<p&&d.charCodeAt(g)!==La||d.charCodeAt(++g)===La;);return($=g)>=p?b=!0:(T=d.charCodeAt(g++))===ze?v=!0:T===Ra&&(v=!0,d.charCodeAt(g)===ze&&++g),d.slice(x+1,$-1).replace(/""/g,'"')}for(;g<p;){if((T=d.charCodeAt($=g++))===ze)v=!0;else if(T===Ra)v=!0,d.charCodeAt(g)===ze&&++g;else if(T!==e)continue;return d.slice(x,$)}return b=!0,d.slice(x,p)}for(;(w=y())!==Ia;){for(var M=[];w!==Nu&&w!==Ia;)M.push(w),w=y();l&&(M=l(M,m++))==null||h.push(M)}return h}function a(d,l){return d.map(function(h){return l.map(function(p){return c(h[p])}).join(n)})}function o(d,l){return l==null&&(l=ku(d)),[l.map(c).join(n)].concat(a(d,l)).join(`
`)}function f(d,l){return l==null&&(l=ku(d)),a(d,l).join(`
`)}function u(d){return d.map(s).join(`
`)}function s(d){return d.map(c).join(n)}function c(d){return d==null?"":d instanceof Date?Lb(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:f,formatRows:u,formatRow:s,formatValue:c}}var Fb=Rb(","),K3=Fb.parse;function Q3(n){for(var t in n){var e=n[t].trim(),r,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(r=+e))e=r;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Pb&&i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[t]=e}return n}const Pb=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Ob(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Ei(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function ve(n){return n=Ei(Math.abs(n)),n?n[1]:NaN}function Ub(n,t){return function(e,r){for(var i=e.length,a=[],o=0,f=n[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),a.push(e.substring(i-=f,i+f)),!((u+=f+1)>r));)f=n[o=(o+1)%n.length];return a.reverse().join(t)}}function qb(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var Hb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dr(n){if(!(t=Hb.exec(n)))throw new Error("invalid format: "+n);var t;return new Tf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dr.prototype=Tf.prototype;function Tf(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Tf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zb(n){n:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var tl;function Bb(n,t){var e=Ei(n,t);if(!e)return n+"";var r=e[0],i=e[1],a=i-(tl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ei(n,Math.max(0,t+a-1))[0]}function Du(n,t){var e=Ei(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Iu={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Ob,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Du(n*100,t),r:Du,s:Bb,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Lu(n){return n}var Ru=Array.prototype.map,Fu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Yb(n){var t=n.grouping===void 0||n.thousands===void 0?Lu:Ub(Ru.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?Lu:qb(Ru.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",f=n.minus===void 0?"":n.minus+"",u=n.nan===void 0?"NaN":n.nan+"";function s(d){d=dr(d);var l=d.fill,h=d.align,p=d.sign,g=d.symbol,m=d.zero,w=d.width,b=d.comma,v=d.precision,y=d.trim,M=d.type;M==="n"?(b=!0,M="g"):Iu[M]||(v===void 0&&(v=12),y=!0,M="g"),(m||l==="0"&&h==="=")&&(m=!0,l="0",h="=");var $=g==="$"?e:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",x=g==="$"?r:/[%p]/.test(M)?o:"",T=Iu[M],A=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function N(_){var D=$,R=x,L,S,F;if(M==="c")R=T(_)+R,_="";else{_=+_;var Y=_<0||1/_<0;if(_=isNaN(_)?u:T(Math.abs(_),v),y&&(_=zb(_)),Y&&+_==0&&p!=="+"&&(Y=!1),D=(Y?p==="("?p:f:p==="-"||p==="("?"":p)+D,R=(M==="s"?Fu[8+tl/3]:"")+R+(Y&&p==="("?")":""),A){for(L=-1,S=_.length;++L<S;)if(F=_.charCodeAt(L),48>F||F>57){R=(F===46?i+_.slice(L+1):_.slice(L))+R,_=_.slice(0,L);break}}}b&&!m&&(_=t(_,1/0));var z=D.length+_.length+R.length,W=z<w?new Array(w-z+1).join(l):"";switch(b&&m&&(_=t(W+_,W.length?w-R.length:1/0),W=""),h){case"<":_=D+_+R+W;break;case"=":_=D+W+_+R;break;case"^":_=W.slice(0,z=W.length>>1)+D+_+R+W.slice(z);break;default:_=W+D+_+R;break}return a(_)}return N.toString=function(){return d+""},N}function c(d,l){var h=s((d=dr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(ve(l)/3)))*3,g=Math.pow(10,-p),m=Fu[8+p/3];return function(w){return h(g*w)+m}}return{format:s,formatPrefix:c}}var Zr,De,el;Wb({thousands:",",grouping:[3],currency:["$",""]});function Wb(n){return Zr=Yb(n),De=Zr.format,el=Zr.formatPrefix,Zr}function Vb(n){return Math.max(0,-ve(Math.abs(n)))}function Gb(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ve(t)/3)))*3-ve(Math.abs(n)))}function Xb(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,ve(t)-ve(n))+1}var K=1e-6,rl=1e-12,J=Math.PI,cn=J/2,Pu=J/4,Dn=J*2,$n=180/J,un=J/180,rn=Math.abs,Ie=Math.atan,xt=Math.atan2,j=Math.cos,il=Math.exp,Ni=Math.log,Fa=Math.pow,X=Math.sin,Fn=Math.sign||function(n){return n>0?1:n<0?-1:0},Sn=Math.sqrt,Sf=Math.tan;function al(n){return n>1?0:n<-1?J:Math.acos(n)}function qn(n){return n>1?cn:n<-1?-cn:Math.asin(n)}function Pn(){}function ki(n,t){n&&Uu.hasOwnProperty(n.type)&&Uu[n.type](n,t)}var Ou={Feature:function(n,t){ki(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)ki(e[r].geometry,t)}},Uu={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Eo(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Eo(e[r],t,0)},Polygon:function(n,t){qu(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)qu(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)ki(e[r],t)}};function Eo(n,t,e){var r=-1,i=n.length-e,a;for(t.lineStart();++r<i;)a=n[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function qu(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Eo(n[e],t,1);t.polygonEnd()}function Pt(n,t){n&&Ou.hasOwnProperty(n.type)?Ou[n.type](n,t):ki(n,t)}function No(n){return[xt(n[1],n[0]),qn(n[2])]}function xe(n){var t=n[0],e=n[1],r=j(e);return[r*j(t),r*X(t),X(e)]}function Kr(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Di(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Pa(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Qr(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ko(n){var t=Sn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Do(n,t){function e(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(e.invert=function(r,i){return r=t.invert(r,i),r&&n.invert(r[0],r[1])}),e}function Io(n,t){return rn(n)>J&&(n-=Math.round(n/Dn)*Dn),[n,t]}Io.invert=Io;function ol(n,t,e){return(n%=Dn)?t||e?Do(zu(n),Bu(t,e)):zu(n):t||e?Bu(t,e):Io}function Hu(n){return function(t,e){return t+=n,rn(t)>J&&(t-=Math.round(t/Dn)*Dn),[t,e]}}function zu(n){var t=Hu(n);return t.invert=Hu(-n),t}function Bu(n,t){var e=j(n),r=X(n),i=j(t),a=X(t);function o(f,u){var s=j(u),c=j(f)*s,d=X(f)*s,l=X(u),h=l*e+c*r;return[xt(d*i-h*a,c*e-l*r),qn(h*i+d*a)]}return o.invert=function(f,u){var s=j(u),c=j(f)*s,d=X(f)*s,l=X(u),h=l*i-d*a;return[xt(d*i+l*a,c*e+h*r),qn(h*e-c*r)]},o}function Zb(n){n=ol(n[0]*un,n[1]*un,n.length>2?n[2]*un:0);function t(e){return e=n(e[0]*un,e[1]*un),e[0]*=$n,e[1]*=$n,e}return t.invert=function(e){return e=n.invert(e[0]*un,e[1]*un),e[0]*=$n,e[1]*=$n,e},t}function Kb(n,t,e,r,i,a){if(e){var o=j(t),f=X(t),u=r*e;i==null?(i=t+r*Dn,a=t-u/2):(i=Yu(o,i),a=Yu(o,a),(r>0?i<a:i>a)&&(i+=r*Dn));for(var s,c=i;r>0?c>a:c<a;c-=u)s=No([o,-f*j(c),-f*X(c)]),n.point(s[0],s[1])}}function Yu(n,t){t=xe(t),t[0]-=n,ko(t);var e=al(-t[1]);return((-t[2]<0?-e:e)+Dn-K)%Dn}function fl(){var n=[],t;return{point:function(e,r,i){t.push([e,r,i])},lineStart:function(){n.push(t=[])},lineEnd:Pn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function gi(n,t){return rn(n[0]-t[0])<K&&rn(n[1]-t[1])<K}function jr(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function ul(n,t,e,r,i){var a=[],o=[],f,u;if(n.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],w=p[g],b;if(gi(m,w)){if(!m[2]&&!w[2]){for(i.lineStart(),f=0;f<g;++f)i.point((m=p[f])[0],m[1]);i.lineEnd();return}w[0]+=2*K}a.push(b=new jr(m,p,null,!0)),o.push(b.o=new jr(m,null,b,!1)),a.push(b=new jr(w,p,null,!1)),o.push(b.o=new jr(w,null,b,!0))}}),!!a.length){for(o.sort(t),Wu(a),Wu(o),f=0,u=o.length;f<u;++f)o[f].e=e=!e;for(var s=a[0],c,d;;){for(var l=s,h=!0;l.v;)if((l=l.n)===s)return;c=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,u=c.length;f<u;++f)i.point((d=c[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(c=l.p.z,f=c.length-1;f>=0;--f)i.point((d=c[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,c=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Wu(n){if(t=n.length){for(var t,e=0,r=n[0],i;++e<t;)r.n=i=n[e],i.p=r,r=i;r.n=i=n[0],i.p=r}}function Oa(n){return rn(n[0])<=J?n[0]:Fn(n[0])*((rn(n[0])+J)%Dn-J)}function Qb(n,t){var e=Oa(t),r=t[1],i=X(r),a=[X(e),-j(e),0],o=0,f=0,u=new Yt;i===1?r=cn+K:i===-1&&(r=-cn-K);for(var s=0,c=n.length;s<c;++s)if(l=(d=n[s]).length)for(var d,l,h=d[l-1],p=Oa(h),g=h[1]/2+Pu,m=X(g),w=j(g),b=0;b<l;++b,p=y,m=$,w=x,h=v){var v=d[b],y=Oa(v),M=v[1]/2+Pu,$=X(M),x=j(M),T=y-p,A=T>=0?1:-1,N=A*T,_=N>J,D=m*$;if(u.add(xt(D*A*X(N),w*x+D*j(N))),o+=_?T+A*Dn:T,_^p>=e^y>=e){var R=Di(xe(h),xe(v));ko(R);var L=Di(a,R);ko(L);var S=(_^T>=0?-1:1)*qn(L[2]);(r>S||r===S&&(R[0]||R[1]))&&(f+=_^T>=0?1:-1)}}return(o<-K||o<K&&u<-rl)^f&1}function cl(n,t,e,r){return function(i){var a=t(i),o=fl(),f=t(o),u=!1,s,c,d,l={point:h,lineStart:g,lineEnd:m,polygonStart:function(){l.point=w,l.lineStart=b,l.lineEnd=v,c=[],s=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=m,c=bs(c);var y=Qb(s,r);c.length?(u||(i.polygonStart(),u=!0),ul(c,Jb,y,e,i)):y&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=s=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(y,M){n(y,M)&&i.point(y,M)}function p(y,M){a.point(y,M)}function g(){l.point=p,a.lineStart()}function m(){l.point=h,a.lineEnd()}function w(y,M){d.push([y,M]),f.point(y,M)}function b(){f.lineStart(),d=[]}function v(){w(d[0][0],d[0][1]),f.lineEnd();var y=f.clean(),M=o.result(),$,x=M.length,T,A,N;if(d.pop(),s.push(d),d=null,!!x){if(y&1){if(A=M[0],(T=A.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),$=0;$<T;++$)i.point((N=A[$])[0],N[1]);i.lineEnd()}return}x>1&&y&2&&M.push(M.pop().concat(M.shift())),c.push(M.filter(jb))}}return l}}function jb(n){return n.length>1}function Jb(n,t){return((n=n.x)[0]<0?n[1]-cn-K:cn-n[1])-((t=t.x)[0]<0?t[1]-cn-K:cn-t[1])}const Vu=cl(function(){return!0},n2,e2,[-J,-cn]);function n2(n){var t=NaN,e=NaN,r=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var f=a>0?J:-J,u=rn(a-t);rn(u-J)<K?(n.point(t,e=(e+o)/2>0?cn:-cn),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(f,e),n.point(a,e),i=0):r!==f&&u>=J&&(rn(t-r)<K&&(t-=r*K),rn(a-f)<K&&(a-=f*K),e=t2(t,e,a,o),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(f,e),i=0),n.point(t=a,e=o),r=f},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-i}}}function t2(n,t,e,r){var i,a,o=X(n-e);return rn(o)>K?Ie((X(t)*(a=j(r))*X(e)-X(r)*(i=j(t))*X(n))/(i*a*o)):(t+r)/2}function e2(n,t,e,r){var i;if(n==null)i=e*cn,r.point(-J,i),r.point(0,i),r.point(J,i),r.point(J,0),r.point(J,-i),r.point(0,-i),r.point(-J,-i),r.point(-J,0),r.point(-J,i);else if(rn(n[0]-t[0])>K){var a=n[0]<t[0]?J:-J;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function r2(n){var t=j(n),e=2*un,r=t>0,i=rn(t)>K;function a(c,d,l,h){Kb(h,n,e,l,c,d)}function o(c,d){return j(c)*j(d)>t}function f(c){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,w){var b=[m,w],v,y=o(m,w),M=r?y?0:s(m,w):y?s(m+(m<0?J:-J),w):0;if(!d&&(p=h=y)&&c.lineStart(),y!==h&&(v=u(d,b),(!v||gi(d,v)||gi(b,v))&&(b[2]=1)),y!==h)g=0,y?(c.lineStart(),v=u(b,d),c.point(v[0],v[1])):(v=u(d,b),c.point(v[0],v[1],2),c.lineEnd()),d=v;else if(i&&d&&r^y){var $;!(M&l)&&($=u(b,d,!0))&&(g=0,r?(c.lineStart(),c.point($[0][0],$[0][1]),c.point($[1][0],$[1][1]),c.lineEnd()):(c.point($[1][0],$[1][1]),c.lineEnd(),c.lineStart(),c.point($[0][0],$[0][1],3)))}y&&(!d||!gi(d,b))&&c.point(b[0],b[1]),d=b,h=y,l=M},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function u(c,d,l){var h=xe(c),p=xe(d),g=[1,0,0],m=Di(h,p),w=Kr(m,m),b=m[0],v=w-b*b;if(!v)return!l&&c;var y=t*w/v,M=-t*b/v,$=Di(g,m),x=Qr(g,y),T=Qr(m,M);Pa(x,T);var A=$,N=Kr(x,A),_=Kr(A,A),D=N*N-_*(Kr(x,x)-1);if(!(D<0)){var R=Sn(D),L=Qr(A,(-N-R)/_);if(Pa(L,x),L=No(L),!l)return L;var S=c[0],F=d[0],Y=c[1],z=d[1],W;F<S&&(W=S,S=F,F=W);var k=F-S,P=rn(k-J)<K,q=P||k<K;if(!P&&z<Y&&(W=Y,Y=z,z=W),q?P?Y+z>0^L[1]<(rn(L[0]-S)<K?Y:z):Y<=L[1]&&L[1]<=z:k>J^(S<=L[0]&&L[0]<=F)){var I=Qr(A,(-N+R)/_);return Pa(I,x),[L,No(I)]}}}function s(c,d){var l=r?n:J-n,h=0;return c<-l?h|=1:c>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return cl(o,f,a,r?[0,-n]:[-J,n-J])}function i2(n,t,e,r,i,a){var o=n[0],f=n[1],u=t[0],s=t[1],c=0,d=1,l=u-o,h=s-f,p;if(p=e-o,!(!l&&p>0)){if(p/=l,l<0){if(p<c)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>c&&(c=p)}if(p=i-o,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>c&&(c=p)}else if(l>0){if(p<c)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=a-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(n[0]=o+c*l,n[1]=f+c*h),d<1&&(t[0]=o+d*l,t[1]=f+d*h),!0}}}}}var Ke=1e9,Jr=-Ke;function sl(n,t,e,r){function i(s,c){return n<=s&&s<=e&&t<=c&&c<=r}function a(s,c,d,l){var h=0,p=0;if(s==null||(h=o(s,d))!==(p=o(c,d))||u(s,c)<0^d>0)do l.point(h===0||h===3?n:e,h>1?r:t);while((h=(h+d+4)%4)!==p);else l.point(c[0],c[1])}function o(s,c){return rn(s[0]-n)<K?c>0?0:3:rn(s[0]-e)<K?c>0?2:1:rn(s[1]-t)<K?c>0?1:0:c>0?3:2}function f(s,c){return u(s.x,c.x)}function u(s,c){var d=o(s,1),l=o(c,1);return d!==l?d-l:d===0?c[1]-s[1]:d===1?s[0]-c[0]:d===2?s[1]-c[1]:c[0]-s[0]}return function(s){var c=s,d=fl(),l,h,p,g,m,w,b,v,y,M,$,x={point:T,lineStart:D,lineEnd:R,polygonStart:N,polygonEnd:_};function T(S,F){i(S,F)&&c.point(S,F)}function A(){for(var S=0,F=0,Y=h.length;F<Y;++F)for(var z=h[F],W=1,k=z.length,P=z[0],q,I,G=P[0],nn=P[1];W<k;++W)q=G,I=nn,P=z[W],G=P[0],nn=P[1],I<=r?nn>r&&(G-q)*(r-I)>(nn-I)*(n-q)&&++S:nn<=r&&(G-q)*(r-I)<(nn-I)*(n-q)&&--S;return S}function N(){c=d,l=[],h=[],$=!0}function _(){var S=A(),F=$&&S,Y=(l=bs(l)).length;(F||Y)&&(s.polygonStart(),F&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),Y&&ul(l,f,S,a,s),s.polygonEnd()),c=s,l=h=p=null}function D(){x.point=L,h&&h.push(p=[]),M=!0,y=!1,b=v=NaN}function R(){l&&(L(g,m),w&&y&&d.rejoin(),l.push(d.result())),x.point=T,y&&c.lineEnd()}function L(S,F){var Y=i(S,F);if(h&&p.push([S,F]),M)g=S,m=F,w=Y,M=!1,Y&&(c.lineStart(),c.point(S,F));else if(Y&&y)c.point(S,F);else{var z=[b=Math.max(Jr,Math.min(Ke,b)),v=Math.max(Jr,Math.min(Ke,v))],W=[S=Math.max(Jr,Math.min(Ke,S)),F=Math.max(Jr,Math.min(Ke,F))];i2(z,W,n,t,e,r)?(y||(c.lineStart(),c.point(z[0],z[1])),c.point(W[0],W[1]),Y||c.lineEnd(),$=!1):Y&&(c.lineStart(),c.point(S,F),$=!1)}b=S,v=F,y=Y}return x}}const Lo=n=>n;var Ua=new Yt,Ro=new Yt,ll,dl,Fo,Po,gt={point:Pn,lineStart:Pn,lineEnd:Pn,polygonStart:function(){gt.lineStart=a2,gt.lineEnd=f2},polygonEnd:function(){gt.lineStart=gt.lineEnd=gt.point=Pn,Ua.add(rn(Ro)),Ro=new Yt},result:function(){var n=Ua/2;return Ua=new Yt,n}};function a2(){gt.point=o2}function o2(n,t){gt.point=hl,ll=Fo=n,dl=Po=t}function hl(n,t){Ro.add(Po*n-Fo*t),Fo=n,Po=t}function f2(){hl(ll,dl)}var Me=1/0,Ii=Me,hr=-Me,Li=hr,Ri={point:u2,lineStart:Pn,lineEnd:Pn,polygonStart:Pn,polygonEnd:Pn,result:function(){var n=[[Me,Ii],[hr,Li]];return hr=Li=-(Ii=Me=1/0),n}};function u2(n,t){n<Me&&(Me=n),n>hr&&(hr=n),t<Ii&&(Ii=t),t>Li&&(Li=t)}var Oo=0,Uo=0,Qe=0,Fi=0,Pi=0,le=0,qo=0,Ho=0,je=0,pl,gl,Qn,jn,Rn={point:Zt,lineStart:Gu,lineEnd:Xu,polygonStart:function(){Rn.lineStart=l2,Rn.lineEnd=d2},polygonEnd:function(){Rn.point=Zt,Rn.lineStart=Gu,Rn.lineEnd=Xu},result:function(){var n=je?[qo/je,Ho/je]:le?[Fi/le,Pi/le]:Qe?[Oo/Qe,Uo/Qe]:[NaN,NaN];return Oo=Uo=Qe=Fi=Pi=le=qo=Ho=je=0,n}};function Zt(n,t){Oo+=n,Uo+=t,++Qe}function Gu(){Rn.point=c2}function c2(n,t){Rn.point=s2,Zt(Qn=n,jn=t)}function s2(n,t){var e=n-Qn,r=t-jn,i=Sn(e*e+r*r);Fi+=i*(Qn+n)/2,Pi+=i*(jn+t)/2,le+=i,Zt(Qn=n,jn=t)}function Xu(){Rn.point=Zt}function l2(){Rn.point=h2}function d2(){ml(pl,gl)}function h2(n,t){Rn.point=ml,Zt(pl=Qn=n,gl=jn=t)}function ml(n,t){var e=n-Qn,r=t-jn,i=Sn(e*e+r*r);Fi+=i*(Qn+n)/2,Pi+=i*(jn+t)/2,le+=i,i=jn*n-Qn*t,qo+=i*(Qn+n),Ho+=i*(jn+t),je+=i*3,Zt(Qn=n,jn=t)}function bl(n){this._context=n}bl.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Dn);break}}},result:Pn};var zo=new Yt,qa,yl,wl,Je,nr,pr={point:Pn,lineStart:function(){pr.point=p2},lineEnd:function(){qa&&vl(yl,wl),pr.point=Pn},polygonStart:function(){qa=!0},polygonEnd:function(){qa=null},result:function(){var n=+zo;return zo=new Yt,n}};function p2(n,t){pr.point=vl,yl=Je=n,wl=nr=t}function vl(n,t){Je-=n,nr-=t,zo.add(Sn(Je*Je+nr*nr)),Je=n,nr=t}let Zu,Oi,Ku,Qu;class ju{constructor(t){this._append=t==null?xl:g2(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==Ku||this._append!==Oi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Ku=r,Oi=this._append,Qu=this._,this._=i}this._+=Qu;break}}}result(){const t=this._;return this._="",t.length?t:null}}function xl(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function g2(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return xl;if(t!==Zu){const e=10**t;Zu=t,Oi=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return Oi}function Af(n,t){let e=3,r=4.5,i,a;function o(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Pt(f,i(a))),a.result()}return o.area=function(f){return Pt(f,i(gt)),gt.result()},o.measure=function(f){return Pt(f,i(pr)),pr.result()},o.bounds=function(f){return Pt(f,i(Ri)),Ri.result()},o.centroid=function(f){return Pt(f,i(Rn)),Rn.result()},o.projection=function(f){return arguments.length?(i=f==null?(n=null,Lo):(n=f).stream,o):n},o.context=function(f){return arguments.length?(a=f==null?(t=null,new ju(e)):new bl(t=f),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),o):r},o.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);e=u}return t===null&&(a=new ju(e)),o},o.projection(n).digits(e).context(t)}function Ui(n){return{stream:aa(n)}}function aa(n){return function(t){var e=new Bo;for(var r in n)e[r]=n[r];return e.stream=t,e}}function Bo(){}Bo.prototype={constructor:Bo,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Cf(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),r!=null&&n.clipExtent(null),Pt(e,n.stream(Ri)),t(Ri.result()),r!=null&&n.clipExtent(r),n}function Ef(n,t,e){return Cf(n,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([f,u])},e)}function Ml(n,t,e){return Ef(n,[[0,0],t],e)}function $l(n,t,e){return Cf(n,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];n.scale(150*a).translate([o,f])},e)}function _l(n,t,e){return Cf(n,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;n.scale(150*a).translate([o,f])},e)}var Ju=16,m2=j(30*un);function nc(n,t){return+t?y2(n,t):b2(n)}function b2(n){return aa({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function y2(n,t){function e(r,i,a,o,f,u,s,c,d,l,h,p,g,m){var w=s-r,b=c-i,v=w*w+b*b;if(v>4*t&&g--){var y=o+l,M=f+h,$=u+p,x=Sn(y*y+M*M+$*$),T=qn($/=x),A=rn(rn($)-1)<K||rn(a-d)<K?(a+d)/2:xt(M,y),N=n(A,T),_=N[0],D=N[1],R=_-r,L=D-i,S=b*R-w*L;(S*S/v>t||rn((w*R+b*L)/v-.5)>.3||o*l+f*h+u*p<m2)&&(e(r,i,a,o,f,u,_,D,A,y/=x,M/=x,$,g,m),m.point(_,D),e(_,D,A,y,M,$,s,c,d,l,h,p,g,m))}}return function(r){var i,a,o,f,u,s,c,d,l,h,p,g,m={point:w,lineStart:b,lineEnd:y,polygonStart:function(){r.polygonStart(),m.lineStart=M},polygonEnd:function(){r.polygonEnd(),m.lineStart=b}};function w(T,A){T=n(T,A),r.point(T[0],T[1])}function b(){d=NaN,m.point=v,r.lineStart()}function v(T,A){var N=xe([T,A]),_=n(T,A);e(d,l,c,h,p,g,d=_[0],l=_[1],c=T,h=N[0],p=N[1],g=N[2],Ju,r),r.point(d,l)}function y(){m.point=w,r.lineEnd()}function M(){b(),m.point=$,m.lineEnd=x}function $(T,A){v(i=T,A),a=d,o=l,f=h,u=p,s=g,m.point=v}function x(){e(d,l,c,h,p,g,a,o,i,f,u,s,Ju,r),m.lineEnd=y,y()}return m}}var w2=aa({point:function(n,t){this.stream.point(n*un,t*un)}});function v2(n){return aa({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}function x2(n,t,e,r,i){function a(o,f){return o*=r,f*=i,[t+n*o,e-n*f]}return a.invert=function(o,f){return[(o-t)/n*r,(e-f)/n*i]},a}function tc(n,t,e,r,i,a){if(!a)return x2(n,t,e,r,i);var o=j(a),f=X(a),u=o*n,s=f*n,c=o/n,d=f/n,l=(f*e-o*t)/n,h=(f*t+o*e)/n;function p(g,m){return g*=r,m*=i,[u*g-s*m+t,e-s*g-u*m]}return p.invert=function(g,m){return[r*(c*g-d*m+l),i*(h-d*g-c*m)]},p}function It(n){return Tl(function(){return n})()}function Tl(n){var t,e=150,r=480,i=250,a=0,o=0,f=0,u=0,s=0,c,d=0,l=1,h=1,p=null,g=Vu,m=null,w,b,v,y=Lo,M=.5,$,x,T,A,N;function _(S){return T(S[0]*un,S[1]*un)}function D(S){return S=T.invert(S[0],S[1]),S&&[S[0]*$n,S[1]*$n]}_.stream=function(S){return A&&N===S?A:A=w2(v2(c)(g($(y(N=S)))))},_.preclip=function(S){return arguments.length?(g=S,p=void 0,L()):g},_.postclip=function(S){return arguments.length?(y=S,m=w=b=v=null,L()):y},_.clipAngle=function(S){return arguments.length?(g=+S?r2(p=S*un):(p=null,Vu),L()):p*$n},_.clipExtent=function(S){return arguments.length?(y=S==null?(m=w=b=v=null,Lo):sl(m=+S[0][0],w=+S[0][1],b=+S[1][0],v=+S[1][1]),L()):m==null?null:[[m,w],[b,v]]},_.scale=function(S){return arguments.length?(e=+S,R()):e},_.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],R()):[r,i]},_.center=function(S){return arguments.length?(a=S[0]%360*un,o=S[1]%360*un,R()):[a*$n,o*$n]},_.rotate=function(S){return arguments.length?(f=S[0]%360*un,u=S[1]%360*un,s=S.length>2?S[2]%360*un:0,R()):[f*$n,u*$n,s*$n]},_.angle=function(S){return arguments.length?(d=S%360*un,R()):d*$n},_.reflectX=function(S){return arguments.length?(l=S?-1:1,R()):l<0},_.reflectY=function(S){return arguments.length?(h=S?-1:1,R()):h<0},_.precision=function(S){return arguments.length?($=nc(x,M=S*S),L()):Sn(M)},_.fitExtent=function(S,F){return Ef(_,S,F)},_.fitSize=function(S,F){return Ml(_,S,F)},_.fitWidth=function(S,F){return $l(_,S,F)},_.fitHeight=function(S,F){return _l(_,S,F)};function R(){var S=tc(e,0,0,l,h,d).apply(null,t(a,o)),F=tc(e,r-S[0],i-S[1],l,h,d);return c=ol(f,u,s),x=Do(t,F),T=Do(c,x),$=nc(x,M),L()}function L(){return A=N=null,_}return function(){return t=n.apply(this,arguments),_.invert=t.invert&&D,R()}}function Nf(n){var t=0,e=J/3,r=Tl(n),i=r(t,e);return i.parallels=function(a){return arguments.length?r(t=a[0]*un,e=a[1]*un):[t*$n,e*$n]},i}function M2(n){var t=j(n);function e(r,i){return[r*t,X(i)/t]}return e.invert=function(r,i){return[r/t,qn(i*t)]},e}function $2(n,t){var e=X(n),r=(e+X(t))/2;if(rn(r)<K)return M2(n);var i=1+e*(2*r-e),a=Sn(i)/r;function o(f,u){var s=Sn(i-2*r*X(u))/r;return[s*X(f*=r),a-s*j(f)]}return o.invert=function(f,u){var s=a-u,c=xt(f,rn(s))*Fn(s);return s*r<0&&(c-=J*Fn(f)*Fn(s)),[c/r,qn((i-(f*f+s*s)*r*r)/(2*r))]},o}function qi(){return Nf($2).scale(155.424).center([0,33.6442])}function Sl(){return qi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function _2(n){var t=n.length;return{point:function(e,r){for(var i=-1;++i<t;)n[i].point(e,r)},sphere:function(){for(var e=-1;++e<t;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<t;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<t;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<t;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<t;)n[e].polygonEnd()}}}function T2(){var n,t,e=Sl(),r,i=qi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=qi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,s={point:function(l,h){u=[l,h]}};function c(l){var h=l[0],p=l[1];return u=null,r.point(h,p),u||(a.point(h,p),u)||(f.point(h,p),u)}c.invert=function(l){var h=e.scale(),p=e.translate(),g=(l[0]-p[0])/h,m=(l[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?o:e).invert(l)},c.stream=function(l){return n&&t===l?n:n=_2([e.stream(t=l),i.stream(l),o.stream(l)])},c.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),d()):e.precision()},c.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),c.translate(e.translate())):e.scale()},c.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),p=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(s),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+K,g+.12*h+K],[p-.214*h-K,g+.234*h-K]]).stream(s),f=o.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+K,g+.166*h+K],[p-.115*h-K,g+.234*h-K]]).stream(s),d()},c.fitExtent=function(l,h){return Ef(c,l,h)},c.fitSize=function(l,h){return Ml(c,l,h)},c.fitWidth=function(l,h){return $l(c,l,h)},c.fitHeight=function(l,h){return _l(c,l,h)};function d(){return n=t=null,c}return c.scale(1070)}function Al(n){return function(t,e){var r=j(t),i=j(e),a=n(r*i);return a===1/0?[2,0]:[a*i*X(t),a*X(e)]}}function Tr(n){return function(t,e){var r=Sn(t*t+e*e),i=n(r),a=X(i),o=j(i);return[xt(t*a,r*o),qn(r&&e*a/r)]}}var Cl=Al(function(n){return Sn(2/(1+n))});Cl.invert=Tr(function(n){return 2*qn(n/2)});function S2(){return It(Cl).scale(124.75).clipAngle(180-.001)}var El=Al(function(n){return(n=al(n))&&n/X(n)});El.invert=Tr(function(n){return n});function A2(){return It(El).scale(79.4188).clipAngle(180-.001)}function oa(n,t){return[n,Ni(Sf((cn+t)/2))]}oa.invert=function(n,t){return[n,2*Ie(il(t))-cn]};function C2(){return Nl(oa).scale(961/Dn)}function Nl(n){var t=It(n),e=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,f,u,s;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(e(d),c()):e()},t.clipExtent=function(d){return arguments.length?(d==null?o=f=u=s=null:(o=+d[0][0],f=+d[0][1],u=+d[1][0],s=+d[1][1]),c()):o==null?null:[[o,f],[u,s]]};function c(){var d=J*r(),l=t(Zb(t.rotate()).invert([0,0]));return a(o==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:n===oa?[[Math.max(l[0]-d,o),f],[Math.min(l[0]+d,u),s]]:[[o,Math.max(l[1]-d,f)],[u,Math.min(l[1]+d,s)]])}return c()}function ni(n){return Sf((cn+n)/2)}function E2(n,t){var e=j(n),r=n===t?X(n):Ni(e/j(t))/Ni(ni(t)/ni(n)),i=e*Fa(ni(n),r)/r;if(!r)return oa;function a(o,f){i>0?f<-cn+K&&(f=-cn+K):f>cn-K&&(f=cn-K);var u=i/Fa(ni(f),r);return[u*X(r*o),i-u*j(r*o)]}return a.invert=function(o,f){var u=i-f,s=Fn(r)*Sn(o*o+u*u),c=xt(o,rn(u))*Fn(u);return u*r<0&&(c-=J*Fn(o)*Fn(u)),[c/r,2*Ie(Fa(i/s,1/r))-cn]},a}function N2(){return Nf(E2).scale(109.5).parallels([30,30])}function Hi(n,t){return[n,t]}Hi.invert=Hi;function k2(){return It(Hi).scale(152.63)}function D2(n,t){var e=j(n),r=n===t?X(n):(e-j(t))/(t-n),i=e/r+n;if(rn(r)<K)return Hi;function a(o,f){var u=i-f,s=r*o;return[u*X(s),i-u*j(s)]}return a.invert=function(o,f){var u=i-f,s=xt(o,rn(u))*Fn(u);return u*r<0&&(s-=J*Fn(o)*Fn(u)),[s/r,i-Fn(r)*Sn(o*o+u*u)]},a}function I2(){return Nf(D2).scale(131.154).center([0,13.9389])}var rr=1.340264,ir=-.081106,ar=893e-6,or=.003796,zi=Sn(3)/2,L2=12;function kl(n,t){var e=qn(zi*X(t)),r=e*e,i=r*r*r;return[n*j(e)/(zi*(rr+3*ir*r+i*(7*ar+9*or*r))),e*(rr+ir*r+i*(ar+or*r))]}kl.invert=function(n,t){for(var e=t,r=e*e,i=r*r*r,a=0,o,f,u;a<L2&&(f=e*(rr+ir*r+i*(ar+or*r))-t,u=rr+3*ir*r+i*(7*ar+9*or*r),e-=o=f/u,r=e*e,i=r*r*r,!(rn(o)<rl));++a);return[zi*n*(rr+3*ir*r+i*(7*ar+9*or*r))/j(e),qn(X(e)/zi)]};function R2(){return It(kl).scale(177.158)}function Dl(n,t){var e=j(t),r=j(n)*e;return[e*X(n)/r,X(t)/r]}Dl.invert=Tr(Ie);function F2(){return It(Dl).scale(144.049).clipAngle(60)}function Il(n,t){return[j(t)*X(n),X(t)]}Il.invert=Tr(qn);function P2(){return It(Il).scale(249.5).clipAngle(90+K)}function Ll(n,t){var e=j(t),r=1+j(n)*e;return[e*X(n)/r,X(t)/r]}Ll.invert=Tr(function(n){return 2*Ie(n)});function O2(){return It(Ll).scale(250).clipAngle(142)}function Rl(n,t){return[Ni(Sf((cn+t)/2)),-n]}Rl.invert=function(n,t){return[-t,2*Ie(il(n))-cn]};function U2(){var n=Nl(Rl),t=n.center,e=n.rotate;return n.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},n.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function ft(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function fa(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yo=Symbol("implicit");function kf(){var n=new fr,t=[],e=[],r=Yo;function i(a){let o=n.get(a);if(o===void 0){if(r!==Yo)return r;n.set(a,o=t.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],n=new fr;for(const o of a)n.has(o)||n.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kf(t,e).unknown(r)},ft.apply(i,arguments),i}function ua(){var n=kf().unknown(void 0),t=n.domain,e=n.range,r=0,i=1,a,o,f=!1,u=0,s=0,c=.5;delete n.unknown;function d(){var l=t().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,l-u+s*2),f&&(a=Math.floor(a)),p+=(g-p-a*(l-u))*c,o=a*(1-u),f&&(p=Math.round(p),o=Math.round(o));var m=mo(l).map(function(w){return p+a*w});return e(h?m.reverse():m)}return n.domain=function(l){return arguments.length?(t(l),d()):t()},n.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},n.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},n.bandwidth=function(){return o},n.step=function(){return a},n.round=function(l){return arguments.length?(f=!!l,d()):f},n.padding=function(l){return arguments.length?(u=Math.min(1,s=+l),d()):u},n.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),d()):u},n.paddingOuter=function(l){return arguments.length?(s=+l,d()):s},n.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),d()):c},n.copy=function(){return ua(t(),[r,i]).round(f).paddingInner(u).paddingOuter(s).align(c)},ft.apply(d(),arguments)}function Fl(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Fl(t())},n}function q2(){return Fl(ua.apply(null,arguments).paddingInner(1))}function H2(n){return function(){return n}}function Wo(n){return+n}var ec=[0,1];function On(n){return n}function Vo(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:H2(isNaN(t)?NaN:.5)}function z2(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function B2(n,t,e){var r=n[0],i=n[1],a=t[0],o=t[1];return i<r?(r=Vo(i,r),a=e(o,a)):(r=Vo(r,i),a=e(a,o)),function(f){return a(r(f))}}function Y2(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Vo(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(f){var u=lf(n,f,1,r)-1;return a[u](i[u](f))}}function Sr(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ca(){var n=ec,t=ec,e=_r,r,i,a,o=On,f,u,s;function c(){var l=Math.min(n.length,t.length);return o!==On&&(o=z2(n[0],n[l-1])),f=l>2?Y2:B2,u=s=null,d}function d(l){return l==null||isNaN(l=+l)?a:(u||(u=f(n.map(r),t,e)))(r(o(l)))}return d.invert=function(l){return o(i((s||(s=f(t,n.map(r),wn)))(l)))},d.domain=function(l){return arguments.length?(n=Array.from(l,Wo),c()):n.slice()},d.range=function(l){return arguments.length?(t=Array.from(l),c()):t.slice()},d.rangeRound=function(l){return t=Array.from(l),e=vf,c()},d.clamp=function(l){return arguments.length?(o=l?!0:On,c()):o!==On},d.interpolate=function(l){return arguments.length?(e=l,c()):e},d.unknown=function(l){return arguments.length?(a=l,d):a},function(l,h){return r=l,i=h,c()}}function Pl(){return ca()(On,On)}function W2(n,t,e,r){var i=po(n,t,e),a;switch(r=dr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(a=Gb(i,o))&&(r.precision=a),el(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Xb(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Vb(i))&&(r.precision=a-(r.type==="%")*2);break}}return De(r)}function Ar(n){var t=n.domain;return n.ticks=function(e){var r=t();return vi(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return W2(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,a=r.length-1,o=r[i],f=r[a],u,s,c=10;for(f<o&&(s=o,o=f,f=s,s=i,i=a,a=s);c-- >0;){if(s=ho(o,f,e),s===u)return r[i]=o,r[a]=f,t(r);if(s>0)o=Math.floor(o/s)*s,f=Math.ceil(f/s)*s;else if(s<0)o=Math.ceil(o*s)/s,f=Math.floor(f*s)/s;else break;u=s}return n},n}function Df(){var n=Pl();return n.copy=function(){return Sr(n,Df())},ft.apply(n,arguments),Ar(n)}function Ol(n){var t;function e(r){return r==null||isNaN(r=+r)?t:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(n=Array.from(r,Wo),e):n.slice()},e.unknown=function(r){return arguments.length?(t=r,e):t},e.copy=function(){return Ol(n).unknown(t)},n=arguments.length?Array.from(n,Wo):[0,1],Ar(e)}function Ul(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],a=n[r],o;return a<i&&(o=e,e=r,r=o,o=i,i=a,a=o),n[e]=t.floor(i),n[r]=t.ceil(a),n}function rc(n){return Math.log(n)}function ic(n){return Math.exp(n)}function V2(n){return-Math.log(-n)}function G2(n){return-Math.exp(-n)}function X2(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Z2(n){return n===10?X2:n===Math.E?Math.exp:t=>Math.pow(n,t)}function K2(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function ac(n){return(t,e)=>-n(-t,e)}function ql(n){const t=n(rc,ic),e=t.domain;let r=10,i,a;function o(){return i=K2(r),a=Z2(r),e()[0]<0?(i=ac(i),a=ac(a),n(V2,G2)):n(rc,ic),t}return t.base=function(f){return arguments.length?(r=+f,o()):r},t.domain=function(f){return arguments.length?(e(f),o()):e()},t.ticks=f=>{const u=e();let s=u[0],c=u[u.length-1];const d=c<s;d&&([s,c]=[c,s]);let l=i(s),h=i(c),p,g;const m=f==null?10:+f;let w=[];if(!(r%1)&&h-l<m){if(l=Math.floor(l),h=Math.ceil(h),s>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/a(-l):p*a(l),!(g<s)){if(g>c)break;w.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/a(-l):p*a(l),!(g<s)){if(g>c)break;w.push(g)}w.length*2<m&&(w=vi(s,c,m))}else w=vi(l,h,Math.min(h-l,m)).map(a);return d?w.reverse():w},t.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=dr(u)).precision==null&&(u.trim=!0),u=De(u)),f===1/0)return u;const s=Math.max(1,r*f/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=s?u(c):""}},t.nice=()=>e(Ul(e(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function Hl(){const n=ql(ca()).domain([1,10]);return n.copy=()=>Sr(n,Hl()).base(n.base()),ft.apply(n,arguments),n}function oc(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function fc(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function zl(n){var t=1,e=n(oc(t),fc(t));return e.constant=function(r){return arguments.length?n(oc(t=+r),fc(t)):t},Ar(e)}function Bl(){var n=zl(ca());return n.copy=function(){return Sr(n,Bl()).constant(n.constant())},ft.apply(n,arguments)}function uc(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Q2(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function j2(n){return n<0?-n*n:n*n}function Yl(n){var t=n(On,On),e=1;function r(){return e===1?n(On,On):e===.5?n(Q2,j2):n(uc(e),uc(1/e))}return t.exponent=function(i){return arguments.length?(e=+i,r()):e},Ar(t)}function Wl(){var n=Yl(ca());return n.copy=function(){return Sr(n,Wl()).exponent(n.exponent())},ft.apply(n,arguments),n}function Vl(){var n=[],t=[],e=[],r;function i(){var o=0,f=Math.max(1,t.length);for(e=new Array(f-1);++o<f;)e[o-1]=U1(n,o/f);return a}function a(o){return o==null||isNaN(o=+o)?r:t[lf(e,o)]}return a.invertExtent=function(o){var f=t.indexOf(o);return f<0?[NaN,NaN]:[f>0?e[f-1]:n[0],f<e.length?e[f]:n[n.length-1]]},a.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let f of o)f!=null&&!isNaN(f=+f)&&n.push(f);return n.sort(Ct),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return e.slice()},a.copy=function(){return Vl().domain(n).range(t).unknown(r)},ft.apply(a,arguments)}function Gl(){var n=[.5],t=[0,1],e,r=1;function i(a){return a!=null&&a<=a?t[lf(n,a,0,r)]:e}return i.domain=function(a){return arguments.length?(n=Array.from(a),r=Math.min(n.length,t.length-1),i):n.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(n.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[n[o-1],n[o]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Gl().domain(n).range(t).unknown(e)},ft.apply(i,arguments)}const Ha=new Date,za=new Date;function hn(n,t,e,r){function i(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(n(a=new Date(+a)),a),i.ceil=a=>(n(a=new Date(a-1)),t(a,1),n(a),a),i.round=a=>{const o=i(a),f=i.ceil(a);return a-o<f-a?o:f},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,f)=>{const u=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<o)||!(f>0))return u;let s;do u.push(s=new Date(+a)),t(a,f),n(a);while(s<a&&a<o);return u},i.filter=a=>hn(o=>{if(o>=o)for(;n(o),!a(o);)o.setTime(o-1)},(o,f)=>{if(o>=o)if(f<0)for(;++f<=0;)for(;t(o,-1),!a(o););else for(;--f>=0;)for(;t(o,1),!a(o););}),e&&(i.count=(a,o)=>(Ha.setTime(+a),za.setTime(+o),n(Ha),n(za),Math.floor(e(Ha,za))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Bi=hn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);Bi.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?hn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):Bi);Bi.range;const bt=1e3,Un=bt*60,yt=Un*60,Mt=yt*24,If=Mt*7,cc=Mt*30,Ba=Mt*365,Yn=hn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*bt)},(n,t)=>(t-n)/bt,n=>n.getUTCSeconds());Yn.range;const Cr=hn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*bt)},(n,t)=>{n.setTime(+n+t*Un)},(n,t)=>(t-n)/Un,n=>n.getMinutes());Cr.range;const Er=hn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Un)},(n,t)=>(t-n)/Un,n=>n.getUTCMinutes());Er.range;const Nr=hn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*bt-n.getMinutes()*Un)},(n,t)=>{n.setTime(+n+t*yt)},(n,t)=>(t-n)/yt,n=>n.getHours());Nr.range;const kr=hn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*yt)},(n,t)=>(t-n)/yt,n=>n.getUTCHours());kr.range;const ne=hn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Un)/Mt,n=>n.getDate()-1);ne.range;const sa=hn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Mt,n=>n.getUTCDate()-1);sa.range;const la=hn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Mt,n=>Math.floor(n/Mt));la.range;function te(n){return hn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Un)/If)}const $e=te(0),gr=te(1),Xl=te(2),Zl=te(3),Kt=te(4),Kl=te(5),Ql=te(6);$e.range;gr.range;Xl.range;Zl.range;Kt.range;Kl.range;Ql.range;function ee(n){return hn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/If)}const _e=ee(0),mr=ee(1),jl=ee(2),Jl=ee(3),Qt=ee(4),nd=ee(5),td=ee(6);_e.range;mr.range;jl.range;Jl.range;Qt.range;nd.range;td.range;const Dr=hn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());Dr.range;const Ir=hn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Ir.range;const Vn=hn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());Vn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:hn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});Vn.range;const Gn=hn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Gn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:hn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});Gn.range;function ed(n,t,e,r,i,a){const o=[[Yn,1,bt],[Yn,5,5*bt],[Yn,15,15*bt],[Yn,30,30*bt],[a,1,Un],[a,5,5*Un],[a,15,15*Un],[a,30,30*Un],[i,1,yt],[i,3,3*yt],[i,6,6*yt],[i,12,12*yt],[r,1,Mt],[r,2,2*Mt],[e,1,If],[t,1,cc],[t,3,3*cc],[n,1,Ba]];function f(s,c,d){const l=c<s;l&&([s,c]=[c,s]);const h=d&&typeof d.range=="function"?d:u(s,c,d),p=h?h.range(s,+c+1):[];return l?p.reverse():p}function u(s,c,d){const l=Math.abs(c-s)/d,h=Ki(([,,m])=>m).right(o,l);if(h===o.length)return n.every(po(s/Ba,c/Ba,d));if(h===0)return Bi.every(Math.max(po(s,c,d),1));const[p,g]=o[l/o[h-1][2]<o[h][2]/l?h-1:h];return p.every(g)}return[f,u]}const[J2,ny]=ed(Gn,Ir,_e,la,kr,Er),[ty,ey]=ed(Vn,Dr,$e,ne,Nr,Cr);function Ya(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Wa(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Be(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function ry(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,a=n.days,o=n.shortDays,f=n.months,u=n.shortMonths,s=Ye(i),c=We(i),d=Ye(a),l=We(a),h=Ye(o),p=We(o),g=Ye(f),m=We(f),w=Ye(u),b=We(u),v={a:Y,A:z,b:W,B:k,c:null,d:gc,e:gc,f:Sy,g:Fy,G:Oy,H:$y,I:_y,j:Ty,L:rd,m:Ay,M:Cy,p:P,q,Q:yc,s:wc,S:Ey,u:Ny,U:ky,V:Dy,w:Iy,W:Ly,x:null,X:null,y:Ry,Y:Py,Z:Uy,"%":bc},y={a:I,A:G,b:nn,B:Q,c:null,d:mc,e:mc,f:By,g:Jy,G:t6,H:qy,I:Hy,j:zy,L:ad,m:Yy,M:Wy,p:U,q:B,Q:yc,s:wc,S:Vy,u:Gy,U:Xy,V:Zy,w:Ky,W:Qy,x:null,X:null,y:jy,Y:n6,Z:e6,"%":bc},M={a:N,A:_,b:D,B:R,c:L,d:hc,e:hc,f:wy,g:dc,G:lc,H:pc,I:pc,j:gy,L:yy,m:py,M:my,p:A,q:hy,Q:xy,s:My,S:by,u:uy,U:cy,V:sy,w:fy,W:ly,x:S,X:F,y:dc,Y:lc,Z:dy,"%":vy};v.x=$(e,v),v.X=$(r,v),v.c=$(t,v),y.x=$(e,y),y.X=$(r,y),y.c=$(t,y);function $(E,O){return function(H){var C=[],an=-1,V=0,fn=E.length,ln,Cn,fe;for(H instanceof Date||(H=new Date(+H));++an<fn;)E.charCodeAt(an)===37&&(C.push(E.slice(V,an)),(Cn=sc[ln=E.charAt(++an)])!=null?ln=E.charAt(++an):Cn=ln==="e"?" ":"0",(fe=O[ln])&&(ln=fe(H,Cn)),C.push(ln),V=an+1);return C.push(E.slice(V,an)),C.join("")}}function x(E,O){return function(H){var C=Be(1900,void 0,1),an=T(C,E,H+="",0),V,fn;if(an!=H.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(O&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(V=Wa(Be(C.y,0,1)),fn=V.getUTCDay(),V=fn>4||fn===0?mr.ceil(V):mr(V),V=sa.offset(V,(C.V-1)*7),C.y=V.getUTCFullYear(),C.m=V.getUTCMonth(),C.d=V.getUTCDate()+(C.w+6)%7):(V=Ya(Be(C.y,0,1)),fn=V.getDay(),V=fn>4||fn===0?gr.ceil(V):gr(V),V=ne.offset(V,(C.V-1)*7),C.y=V.getFullYear(),C.m=V.getMonth(),C.d=V.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),fn="Z"in C?Wa(Be(C.y,0,1)).getUTCDay():Ya(Be(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(fn+5)%7:C.w+C.U*7-(fn+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,Wa(C)):Ya(C)}}function T(E,O,H,C){for(var an=0,V=O.length,fn=H.length,ln,Cn;an<V;){if(C>=fn)return-1;if(ln=O.charCodeAt(an++),ln===37){if(ln=O.charAt(an++),Cn=M[ln in sc?O.charAt(an++):ln],!Cn||(C=Cn(E,H,C))<0)return-1}else if(ln!=H.charCodeAt(C++))return-1}return C}function A(E,O,H){var C=s.exec(O.slice(H));return C?(E.p=c.get(C[0].toLowerCase()),H+C[0].length):-1}function N(E,O,H){var C=h.exec(O.slice(H));return C?(E.w=p.get(C[0].toLowerCase()),H+C[0].length):-1}function _(E,O,H){var C=d.exec(O.slice(H));return C?(E.w=l.get(C[0].toLowerCase()),H+C[0].length):-1}function D(E,O,H){var C=w.exec(O.slice(H));return C?(E.m=b.get(C[0].toLowerCase()),H+C[0].length):-1}function R(E,O,H){var C=g.exec(O.slice(H));return C?(E.m=m.get(C[0].toLowerCase()),H+C[0].length):-1}function L(E,O,H){return T(E,t,O,H)}function S(E,O,H){return T(E,e,O,H)}function F(E,O,H){return T(E,r,O,H)}function Y(E){return o[E.getDay()]}function z(E){return a[E.getDay()]}function W(E){return u[E.getMonth()]}function k(E){return f[E.getMonth()]}function P(E){return i[+(E.getHours()>=12)]}function q(E){return 1+~~(E.getMonth()/3)}function I(E){return o[E.getUTCDay()]}function G(E){return a[E.getUTCDay()]}function nn(E){return u[E.getUTCMonth()]}function Q(E){return f[E.getUTCMonth()]}function U(E){return i[+(E.getUTCHours()>=12)]}function B(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var O=$(E+="",v);return O.toString=function(){return E},O},parse:function(E){var O=x(E+="",!1);return O.toString=function(){return E},O},utcFormat:function(E){var O=$(E+="",y);return O.toString=function(){return E},O},utcParse:function(E){var O=x(E+="",!0);return O.toString=function(){return E},O}}}var sc={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,iy=/^%/,ay=/[\\^$*+?|[\]().{}]/g;function en(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(t)+i:i)}function oy(n){return n.replace(ay,"\\$&")}function Ye(n){return new RegExp("^(?:"+n.map(oy).join("|")+")","i")}function We(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function fy(n,t,e){var r=bn.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function uy(n,t,e){var r=bn.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function cy(n,t,e){var r=bn.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function sy(n,t,e){var r=bn.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function ly(n,t,e){var r=bn.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function lc(n,t,e){var r=bn.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function dc(n,t,e){var r=bn.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function dy(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function hy(n,t,e){var r=bn.exec(t.slice(e,e+1));return r?(n.q=r[0]*3-3,e+r[0].length):-1}function py(n,t,e){var r=bn.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function hc(n,t,e){var r=bn.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function gy(n,t,e){var r=bn.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function pc(n,t,e){var r=bn.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function my(n,t,e){var r=bn.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function by(n,t,e){var r=bn.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function yy(n,t,e){var r=bn.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function wy(n,t,e){var r=bn.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function vy(n,t,e){var r=iy.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function xy(n,t,e){var r=bn.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function My(n,t,e){var r=bn.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function gc(n,t){return en(n.getDate(),t,2)}function $y(n,t){return en(n.getHours(),t,2)}function _y(n,t){return en(n.getHours()%12||12,t,2)}function Ty(n,t){return en(1+ne.count(Vn(n),n),t,3)}function rd(n,t){return en(n.getMilliseconds(),t,3)}function Sy(n,t){return rd(n,t)+"000"}function Ay(n,t){return en(n.getMonth()+1,t,2)}function Cy(n,t){return en(n.getMinutes(),t,2)}function Ey(n,t){return en(n.getSeconds(),t,2)}function Ny(n){var t=n.getDay();return t===0?7:t}function ky(n,t){return en($e.count(Vn(n)-1,n),t,2)}function id(n){var t=n.getDay();return t>=4||t===0?Kt(n):Kt.ceil(n)}function Dy(n,t){return n=id(n),en(Kt.count(Vn(n),n)+(Vn(n).getDay()===4),t,2)}function Iy(n){return n.getDay()}function Ly(n,t){return en(gr.count(Vn(n)-1,n),t,2)}function Ry(n,t){return en(n.getFullYear()%100,t,2)}function Fy(n,t){return n=id(n),en(n.getFullYear()%100,t,2)}function Py(n,t){return en(n.getFullYear()%1e4,t,4)}function Oy(n,t){var e=n.getDay();return n=e>=4||e===0?Kt(n):Kt.ceil(n),en(n.getFullYear()%1e4,t,4)}function Uy(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+en(t/60|0,"0",2)+en(t%60,"0",2)}function mc(n,t){return en(n.getUTCDate(),t,2)}function qy(n,t){return en(n.getUTCHours(),t,2)}function Hy(n,t){return en(n.getUTCHours()%12||12,t,2)}function zy(n,t){return en(1+sa.count(Gn(n),n),t,3)}function ad(n,t){return en(n.getUTCMilliseconds(),t,3)}function By(n,t){return ad(n,t)+"000"}function Yy(n,t){return en(n.getUTCMonth()+1,t,2)}function Wy(n,t){return en(n.getUTCMinutes(),t,2)}function Vy(n,t){return en(n.getUTCSeconds(),t,2)}function Gy(n){var t=n.getUTCDay();return t===0?7:t}function Xy(n,t){return en(_e.count(Gn(n)-1,n),t,2)}function od(n){var t=n.getUTCDay();return t>=4||t===0?Qt(n):Qt.ceil(n)}function Zy(n,t){return n=od(n),en(Qt.count(Gn(n),n)+(Gn(n).getUTCDay()===4),t,2)}function Ky(n){return n.getUTCDay()}function Qy(n,t){return en(mr.count(Gn(n)-1,n),t,2)}function jy(n,t){return en(n.getUTCFullYear()%100,t,2)}function Jy(n,t){return n=od(n),en(n.getUTCFullYear()%100,t,2)}function n6(n,t){return en(n.getUTCFullYear()%1e4,t,4)}function t6(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Qt(n):Qt.ceil(n),en(n.getUTCFullYear()%1e4,t,4)}function e6(){return"+0000"}function bc(){return"%"}function yc(n){return+n}function wc(n){return Math.floor(+n/1e3)}var ue,Lf,Lr;r6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function r6(n){return ue=ry(n),Lf=ue.format,ue.parse,Lr=ue.utcFormat,ue.utcParse,ue}function i6(n){return new Date(n)}function a6(n){return n instanceof Date?+n:+new Date(+n)}function Rf(n,t,e,r,i,a,o,f,u,s){var c=Pl(),d=c.invert,l=c.domain,h=s(".%L"),p=s(":%S"),g=s("%I:%M"),m=s("%I %p"),w=s("%a %d"),b=s("%b %d"),v=s("%B"),y=s("%Y");function M($){return(u($)<$?h:f($)<$?p:o($)<$?g:a($)<$?m:r($)<$?i($)<$?w:b:e($)<$?v:y)($)}return c.invert=function($){return new Date(d($))},c.domain=function($){return arguments.length?l(Array.from($,a6)):l().map(i6)},c.ticks=function($){var x=l();return n(x[0],x[x.length-1],$??10)},c.tickFormat=function($,x){return x==null?M:s(x)},c.nice=function($){var x=l();return(!$||typeof $.range!="function")&&($=t(x[0],x[x.length-1],$??10)),$?l(Ul(x,$)):c},c.copy=function(){return Sr(c,Rf(n,t,e,r,i,a,o,f,u,s))},c}function o6(){return ft.apply(Rf(ty,ey,Vn,Dr,$e,ne,Nr,Cr,Yn,Lf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function f6(){return ft.apply(Rf(J2,ny,Gn,Ir,_e,sa,kr,Er,Yn,Lr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function da(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function ha(){var n=0,t=.5,e=1,r=1,i,a,o,f,u,s=On,c,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+c(g))-a)*(r*g<r*a?f:u),s(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([n,t,e]=g,i=c(n=+n),a=c(t=+t),o=c(e=+e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,h):[n,t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(m){var w,b,v;return arguments.length?([w,b,v]=m,s=ea(g,[w,b,v]),h):[s(0),s(.5),s(1)]}}return h.range=p(_r),h.rangeRound=p(vf),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return c=g,i=g(n),a=g(t),o=g(e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function fd(){var n=Ar(ha()(On));return n.copy=function(){return da(n,fd())},fa.apply(n,arguments)}function ud(){var n=ql(ha()).domain([.1,1,10]);return n.copy=function(){return da(n,ud()).base(n.base())},fa.apply(n,arguments)}function cd(){var n=zl(ha());return n.copy=function(){return da(n,cd()).constant(n.constant())},fa.apply(n,arguments)}function sd(){var n=Yl(ha());return n.copy=function(){return da(n,sd()).exponent(n.exponent())},fa.apply(n,arguments)}function Z(n){for(var t=n.length/6|0,e=new Array(t),r=0;r<t;)e[r]="#"+n.slice(r*6,++r*6);return e}const u6=Z("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),c6=Z("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),s6=Z("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),l6=Z("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),d6=Z("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),h6=Z("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),p6=Z("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),g6=Z("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),m6=Z("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),b6=Z("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),y6=Z("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),on=n=>nm(n[n.length-1]);var ld=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Z);const dd=on(ld);var hd=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Z);const pd=on(hd);var gd=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Z);const md=on(gd);var bd=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Z);const yd=on(bd);var Go=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Z);const Yi=on(Go);var wd=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Z);const vd=on(wd);var Xo=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Z);const Wi=on(Xo);var xd=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Z);const Md=on(xd);var $d=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Z);const _d=on($d);var Td=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Z);const Sd=on(Td);var Ad=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Z);const Cd=on(Ad);var Ed=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Z);const Nd=on(Ed);var kd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Z);const Dd=on(kd);var Id=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Z);const Ld=on(Id);var Rd=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Z);const Fd=on(Rd);var Pd=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Z);const Od=on(Pd);var Ud=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Z);const qd=on(Ud);var Hd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Z);const zd=on(Hd);var Bd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Z);const Yd=on(Bd);var Wd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Z);const Vd=on(Wd);var Gd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Z);const Xd=on(Gd);var Zd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Z);const Kd=on(Zd);var Qd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Z);const jd=on(Qd);var Jd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Z);const n0=on(Jd);var t0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Z);const e0=on(t0);var r0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Z);const i0=on(r0);var a0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Z);const o0=on(a0);function f0(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}const u0=xf(rt(300,.5,0),rt(-240,.5,1));var c0=xf(rt(-100,.75,.35),rt(80,1.5,.8)),s0=xf(rt(260,.75,.35),rt(80,1.5,.8)),ti=rt();function l0(n){(n<0||n>1)&&(n-=Math.floor(n));var t=Math.abs(n-.5);return ti.h=360*n-100,ti.s=1.5-1.5*t,ti.l=.8-.9*t,ti+""}var ei=Nt(),w6=Math.PI/3,v6=Math.PI*2/3;function d0(n){var t;return n=(.5-n)*Math.PI,ei.r=255*(t=Math.sin(n))*t,ei.g=255*(t=Math.sin(n+w6))*t,ei.b=255*(t=Math.sin(n+v6))*t,ei+""}function h0(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function pa(n){var t=n.length;return function(e){return n[Math.max(0,Math.min(t-1,Math.floor(e*t)))]}}const p0=pa(Z("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var g0=pa(Z("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),m0=pa(Z("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),b0=pa(Z("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const y0=Math.cos,Ff=Math.min,Vi=Math.sin,pn=Math.sqrt,Gi=Math.PI,ga=2*Gi,x6=pn(3),w0={draw(n,t){const e=pn(t+Ff(t/28,.75))*.59436,r=e/2,i=r*x6;n.moveTo(0,e),n.lineTo(0,-e),n.moveTo(-i,-r),n.lineTo(i,r),n.moveTo(-i,r),n.lineTo(i,-r)}},Pf={draw(n,t){const e=pn(t/Gi);n.moveTo(e,0),n.arc(0,0,e,0,ga)}},v0={draw(n,t){const e=pn(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},x0=pn(1/3),M6=x0*2,M0={draw(n,t){const e=pn(t/M6),r=e*x0;n.moveTo(0,-e),n.lineTo(r,0),n.lineTo(0,e),n.lineTo(-r,0),n.closePath()}},$0={draw(n,t){const e=pn(t)*.62625;n.moveTo(0,-e),n.lineTo(e,0),n.lineTo(0,e),n.lineTo(-e,0),n.closePath()}},_0={draw(n,t){const e=pn(t-Ff(t/7,2))*.87559;n.moveTo(-e,0),n.lineTo(e,0),n.moveTo(0,e),n.lineTo(0,-e)}},T0={draw(n,t){const e=pn(t),r=-e/2;n.rect(r,r,e,e)}},S0={draw(n,t){const e=pn(t)*.4431;n.moveTo(e,e),n.lineTo(e,-e),n.lineTo(-e,-e),n.lineTo(-e,e),n.closePath()}},$6=.8908130915292852,A0=Vi(Gi/10)/Vi(7*Gi/10),_6=Vi(ga/10)*A0,T6=-y0(ga/10)*A0,C0={draw(n,t){const e=pn(t*$6),r=_6*e,i=T6*e;n.moveTo(0,-e),n.lineTo(r,i);for(let a=1;a<5;++a){const o=ga*a/5,f=y0(o),u=Vi(o);n.lineTo(u*e,-f*e),n.lineTo(f*r-u*i,u*r+f*i)}n.closePath()}},Va=pn(3),E0={draw(n,t){const e=-pn(t/(Va*3));n.moveTo(0,e*2),n.lineTo(-Va*e,-e),n.lineTo(Va*e,-e),n.closePath()}},S6=pn(3),N0={draw(n,t){const e=pn(t)*.6824,r=e/2,i=e*S6/2;n.moveTo(0,-e),n.lineTo(i,r),n.lineTo(-i,r),n.closePath()}},In=-.5,Ln=pn(3)/2,Zo=1/pn(12),A6=(Zo/2+1)*3,k0={draw(n,t){const e=pn(t/A6),r=e/2,i=e*Zo,a=r,o=e*Zo+e,f=-a,u=o;n.moveTo(r,i),n.lineTo(a,o),n.lineTo(f,u),n.lineTo(In*r-Ln*i,Ln*r+In*i),n.lineTo(In*a-Ln*o,Ln*a+In*o),n.lineTo(In*f-Ln*u,Ln*f+In*u),n.lineTo(In*r+Ln*i,In*i-Ln*r),n.lineTo(In*a+Ln*o,In*o-Ln*a),n.lineTo(In*f+Ln*u,In*u-Ln*f),n.closePath()}},D0={draw(n,t){const e=pn(t-Ff(t/6,1.7))*.6189;n.moveTo(-e,-e),n.lineTo(e,e),n.moveTo(-e,e),n.lineTo(e,-e)}},C6=[Pf,v0,M0,T0,C0,E0,k0],E6=[Pf,_0,D0,N0,w0,S0,$0];function tr(n,t,e){this.k=n,this.x=t,this.y=e}tr.prototype={constructor:tr,scale:function(n){return n===1?this:new tr(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new tr(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};tr.prototype;function jt(n){return n!=null&&!Number.isNaN(n)}function Te(n,t){return+jt(t)-+jt(n)||Ct(n,t)}function Ko(n,t){return+jt(t)-+jt(n)||xr(n,t)}function I0(n){return n!=null&&`${n}`!=""}function L0(n){return isFinite(n)?n:NaN}function Of(n){return n>0&&isFinite(n)?n:NaN}function R0(n){return n<0&&isFinite(n)?n:NaN}function N6(n,t){if(n instanceof Date||(n=new Date(+n)),isNaN(n))return typeof t=="function"?t(n):t;const e=n.getUTCHours(),r=n.getUTCMinutes(),i=n.getUTCSeconds(),a=n.getUTCMilliseconds();return`${k6(n.getUTCFullYear())}-${pt(n.getUTCMonth()+1,2)}-${pt(n.getUTCDate(),2)}${e||r||i||a?`T${pt(e,2)}:${pt(r,2)}${i||a?`:${pt(i,2)}${a?`.${pt(a,3)}`:""}`:""}Z`:""}`}function k6(n){return n<0?`-${pt(-n,6)}`:n>9999?`+${pt(n,6)}`:pt(n,4)}function pt(n,t){return`${n}`.padStart(t,"0")}const D6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function F0(n,t){return D6.test(n+="")?new Date(n):typeof t=="function"?t(n):t}function Se(n){if(n==null)return;const t=n[0],e=n[n.length-1];return xr(t,e)}const de=1e3,St=de*60,At=St*60,at=At*24,Kn=at*7,zt=at*30,Tt=at*365,Ga=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",de],["5 seconds",5*de],["15 seconds",15*de],["30 seconds",30*de],["minute",St],["5 minutes",5*St],["15 minutes",15*St],["30 minutes",30*St],["hour",At],["3 hours",3*At],["6 hours",6*At],["12 hours",12*At],["day",at],["2 days",2*at],["week",Kn],["2 weeks",2*Kn],["month",zt],["3 months",3*zt],["6 months",6*zt],["year",Tt],["2 years",2*Tt],["5 years",5*Tt],["10 years",10*Tt],["20 years",20*Tt],["50 years",50*Tt],["100 years",100*Tt]],Uf=new Map([["second",de],["minute",St],["hour",At],["day",at],["monday",Kn],["tuesday",Kn],["wednesday",Kn],["thursday",Kn],["friday",Kn],["saturday",Kn],["sunday",Kn],["week",Kn],["month",zt],["year",Tt]]),P0=new Map([["second",Yn],["minute",Cr],["hour",Nr],["day",ne],["monday",gr],["tuesday",Xl],["wednesday",Zl],["thursday",Kt],["friday",Kl],["saturday",Ql],["sunday",$e],["week",$e],["month",Dr],["year",Vn]]),qf=new Map([["second",Yn],["minute",Er],["hour",kr],["day",la],["monday",mr],["tuesday",jl],["wednesday",Jl],["thursday",Qt],["friday",nd],["saturday",td],["sunday",_e],["week",_e],["month",Ir],["year",Gn]]),Rr=Symbol("intervalDuration"),ma=Symbol("intervalType");for(const[n,t]of P0)t[Rr]=Uf.get(n),t[ma]="time";for(const[n,t]of qf)t[Rr]=Uf.get(n),t[ma]="utc";const er=[["year",Gn,"utc"],["month",Ir,"utc"],["day",la,"utc",6*zt],["hour",kr,"utc",3*at],["minute",Er,"utc",6*At],["second",Yn,"utc",30*St]],mi=[["year",Vn,"time"],["month",Dr,"time"],["day",ne,"time",6*zt],["hour",Nr,"time",3*at],["minute",Cr,"time",6*At],["second",Yn,"time",30*St]],I6=[er[0],mi[0],er[1],mi[1],er[2],mi[2],...er.slice(3)];function O0(n){let t=`${n}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),e=+r[1]),t){case"quarter":t="month",e*=3;break;case"half":t="month",e*=6;break}let i=qf.get(t);if(!i)throw new Error(`unknown interval: ${n}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,e]}function U0(n){return H0(O0(n),"time")}function q0(n){return H0(O0(n),"utc")}function H0([n,t],e){let r=(e==="time"?P0:qf).get(n);return t>1&&(r=r.every(t),r[Rr]=Uf.get(n)*t,r[ma]=e),r}function vc(n,t){if(!(t>1))return;const e=n[Rr];if(!Ga.some(([,i])=>i===e)||e%at===0&&at<e&&e<zt)return;const[r]=Ga[Ki(([,i])=>Math.log(i)).center(Ga,Math.log(e*t))];return(n[ma]==="time"?U0:q0)(r)}function xc(n,t,e){const r=t==="time"?Lf:Lr;if(e==null)return r(n==="year"?"%Y":n==="month"?"%Y-%m":n==="day"?"%Y-%m-%d":n==="hour"||n==="minute"?"%Y-%m-%dT%H:%M":n==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=L6(e);switch(n){case"millisecond":return ce(r(".%L"),r(":%M:%S"),i);case"second":return ce(r(":%S"),r("%-I:%M"),i);case"minute":return ce(r("%-I:%M"),r("%p"),i);case"hour":return ce(r("%-I %p"),r("%b %-d"),i);case"day":return ce(r("%-d"),r("%b"),i);case"month":return ce(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function L6(n){return n==="left"||n==="right"?(t,e)=>`
${t}
${e}`:n==="top"?(t,e)=>`${e}
${t}`:(t,e)=>`${t}
${e}`}function R6(n){return n==="time"?mi:n==="utc"?er:I6}function F6(n,t,e){const r=et(B1(t,(i,a)=>Math.abs(a-i)));if(r<1e3)return xc("millisecond","utc",e);for(const[i,a,o,f]of R6(n)){if(r>f||i==="hour"&&!r)break;if(t.every(u=>a.floor(u)>=u))return xc(i,o,e)}}function ce(n,t,e){return(r,i,a)=>{const o=n(r,i),f=t(r,i),u=i-Se(a);return i!==u&&a[u]!==void 0&&f===t(a[u],u)?o:e(o,f)}}const Hf=Object.getPrototypeOf(Uint8Array),P6=Object.prototype.toString;function Fr(n){return n instanceof Array||n instanceof Hf}function z0(n){return n instanceof Hf&&!O6(n)}function B0(n){return(n==null?void 0:n.prototype)instanceof Hf&&!U6(n)}function O6(n){return n instanceof BigInt64Array||n instanceof BigUint64Array}function U6(n){return n===BigInt64Array||n===BigUint64Array}const q6=Symbol("reindex");function kt(n,t,e){const r=typeof t;return r==="string"?J0(n)?zf(n.getChild(t),e):Mc(n,z6(t),e):r==="function"?Mc(n,t,e):r==="number"||t instanceof Date||r==="boolean"?dn(n,wt(t),e):typeof(t==null?void 0:t.transform)=="function"?Qo(t.transform(n),e):H6(Qo(t,e),n==null?void 0:n[q6])}function H6(n,t){return n!=null&&t?Yf(n,t):n}function Mc(n,t,e){return dn(n,B0(e)?(r,i)=>Bf(t(r,i)):t,e)}function Qo(n,t){return t===void 0?re(n):nh(n)?zf(n,t):n instanceof t?n:t.from(n,B0(t)&&!z0(n)?Bf:void 0)}function zf(n,t){return n==null?n:(t===void 0||t===Array)&&s8(n.type)?W0($c(n)):Qo($c(n),t)}function $c(n){return n.nullCount?n.toJSON():n.toArray()}const bi=[null],z6=n=>t=>{var r;const e=t[n];return e===void 0&&t.type==="Feature"?(r=t.properties)==null?void 0:r[n]:e},B6={transform:Pr},ut={transform:n=>n},j3=()=>1,Y6=()=>!0,vn=n=>n==null?n:`${n}`,Mn=n=>n==null?n:+n,Y0=n=>n?n[0]:void 0,W6=n=>n?n[1]:void 0,wt=n=>()=>n;function V6(n){const t=+`${n}`.slice(1)/100;return(e,r)=>xi(e,t,r)}function _c(n){return z0(n)?n:dn(n,Bf,Float64Array)}function Bf(n){return n==null?NaN:Number(n)}function W0(n){return dn(n,G6)}function G6(n){return n instanceof Date&&!isNaN(n)?n:typeof n=="string"?F0(n):n==null||isNaN(n=Number(n))?void 0:new Date(n)}function Jt(n,t){return n===void 0&&(n=t),n===null?[void 0,"none"]:wa(n)?[void 0,n]:[n,void 0]}function En(n,t){return n===void 0&&(n=t),n===null||typeof n=="number"?[void 0,n]:[n,void 0]}function V0(n,t,e){if(n!=null)return Zn(n,t,e)}function Zn(n,t,e){const r=`${n}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${t}: ${n}`);return r}function Ae(n){return J0(n)?n:re(n)}function re(n){if(n==null||Fr(n))return n;if(nh(n))return zf(n);if(G0(n))switch(n.type){case"FeatureCollection":return n.features;case"GeometryCollection":return n.geometries;default:return[n]}return Array.from(n)}function G0(n){switch(n==null?void 0:n.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function dn(n,t,e=Array){return n==null?n:n instanceof e?n.map(t):e.from(n,t)}function jo(n,t=Array){return n instanceof t?n.slice():t.from(n)}function X6({x:n,x1:t,x2:e}){return n!==void 0||t!==void 0||e!==void 0}function Z6({y:n,y1:t,y2:e}){return n!==void 0||t!==void 0||e!==void 0}function J3(n){return X6(n)||Z6(n)||n.interval!==void 0}function ie(n){return(n==null?void 0:n.toString)===P6}function Jo(n){return ie(n)&&(n.type!==void 0||n.domain!==void 0)}function ba(n){return ie(n)&&typeof n.transform!="function"}function Ce(n){return ba(n)&&n.value===void 0&&n.channel===void 0}function n7(n,t,e,r=ut){return t===void 0&&e===void 0?(t=0,e=n===void 0?r:n):t===void 0?t=n===void 0?0:n:e===void 0&&(e=n===void 0?0:n),[t,e]}function X0(n,t){return n===void 0&&t===void 0?[Y0,W6]:[n,t]}function t7({z:n,fill:t,stroke:e}={}){return n===void 0&&([n]=Jt(t)),n===void 0&&([n]=Jt(e)),n}function nf(n){return Fr(n)?n.length:n==null?void 0:n.numRows}function Pr(n){const t=nf(n),e=new Uint32Array(t);for(let r=0;r<t;++r)e[r]=r;return e}function Yf(n,t){return Fr(n)?dn(t,e=>n[e],n.constructor):dn(t,e=>n.at(e))}function K6(n,t,e){return n.subarray?n.subarray(t,e):n.slice(t,e)}function ri(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Q6(n){let t;return[{transform:()=>t,label:Or(n)},e=>t=e]}function e7(n){return n==null?[n]:Q6(n)}function Or(n,t){return typeof n=="string"?n:n&&n.label!==void 0?n.label:t}function r7(n,t){return{transform(e){const r=n.transform(e),i=t.transform(e);return Hn(r)||Hn(i)?dn(r,(a,o)=>new Date((+r[o]+ +i[o])/2)):dn(r,(a,o)=>(+r[o]+ +i[o])/2,Float64Array)},label:n.label}}function i7(n,t){const e=Z0(t==null?void 0:t.interval,t==null?void 0:t.type);return e?dn(n,e):n}function Z0(n,t){const e=Wf(n,t);return e&&(r=>jt(r)?e.floor(r):r)}function Wf(n,t){if(n!=null){if(typeof n=="number")return j6(n);if(typeof n=="string")return(t==="time"?U0:q0)(n);if(typeof n.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof n.offset!="function")throw new Error("invalid interval; missing offset method");return n}}function j6(n){n=+n,0<n&&n<1&&Number.isInteger(1/n)&&(n=-1/n);const t=Math.abs(n);return n<0?{floor:e=>Math.floor(e*t)/t,offset:(e,r=1)=>(e*t+Math.floor(r))/t,range:(e,r)=>mo(Math.ceil(e*t),r*t).map(i=>i/t)}:{floor:e=>Math.floor(e/t)*t,offset:(e,r=1)=>e+t*Math.floor(r),range:(e,r)=>mo(Math.ceil(e/t),r/t).map(i=>i*t)}}function Ur(n,t){if(n=Wf(n,t),n&&typeof n.range!="function")throw new Error("invalid interval: missing range method");return n}function J6(n,t){if(n=Ur(n,t),n&&typeof n.ceil!="function")throw new Error("invalid interval: missing ceil method");return n}function n8(n){return typeof(n==null?void 0:n.range)=="function"}function ya(n){return n===void 0||ba(n)?n:{value:n}}function t8(n){return n==null?null:{transform:t=>kt(t,n,Float64Array),label:Or(n)}}function ae(n){return n&&typeof n[Symbol.iterator]=="function"}function K0(n){for(const t of n)if(t!=null)return typeof t!="object"||t instanceof Date}function Tc(n){for(const t of n){if(t==null)continue;const e=typeof t;return e==="string"||e==="boolean"}}function Hn(n){for(const t of n)if(t!=null)return t instanceof Date}function e8(n){for(const t of n)if(t!=null)return typeof t=="string"&&isNaN(t)&&F0(t)}function r8(n){for(const t of n)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function i8(n){for(const t of n)if(t!=null)return typeof t=="number"}function Xa(n,t){let e;for(const r of n)if(r!=null){if(!t(r))return!1;e=!0}return e}const a8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function wa(n){return typeof n!="string"?!1:(n=n.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(n)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(n)||a8.has(n))}function o8(n){return typeof n=="number"&&(0<=n&&n<=1||isNaN(n))}function Tn(n){return n==null||br(n)}function br(n){return/^\s*none\s*$/i.test(n)}function f8(n){return/^\s*round\s*$/i.test(n)}function tf(n,t){return V0(n,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Vf(n="middle"){return tf(n,"frameAnchor")}function u8(n={},...t){let e=n;for(const r of t)for(const i in r)if(e[i]===void 0){const a=r[i];e===n?e={...e,[i]:a}:e[i]=a}return e}function c8(n){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(n,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,e]}))}function Q0(n){return ae(n)?c8(n):n}function j0(n){return n===!0?n="frame":n===!1?n=null:!G0(n)&&n!=null&&(n=Zn(n,"clip",["frame","sphere"]),n==="sphere"&&(n={type:"Sphere"})),n}function J0(n){return n&&typeof n.getChild=="function"&&typeof n.toArray=="function"&&n.schema&&Array.isArray(n.schema.fields)}function nh(n){return n&&typeof n.toArray=="function"&&n.type}function s8(n){return n&&(n.typeId===8||n.typeId===10)&&n.unit===1}const Jn=Symbol("position"),$t=Symbol("color"),qr=Symbol("radius"),Hr=Symbol("length"),zr=Symbol("opacity"),va=Symbol("symbol"),th=Symbol("projection"),sn=new Map([["x",Jn],["y",Jn],["fx",Jn],["fy",Jn],["r",qr],["color",$t],["opacity",zr],["symbol",va],["length",Hr],["projection",th]]);function l8(n){return n===Jn||n===th}function d8(n){return n===Jn||n===qr||n===Hr||n===zr}const h8=Math.sqrt(3),p8=2/h8,g8={draw(n,t){const e=Math.sqrt(t/Math.PI),r=e*p8,i=r/2;n.moveTo(0,r),n.lineTo(e,i),n.lineTo(e,-i),n.lineTo(0,-r),n.lineTo(-e,-i),n.lineTo(-e,i),n.closePath()}},Gf=new Map([["asterisk",w0],["circle",Pf],["cross",v0],["diamond",M0],["diamond2",$0],["hexagon",g8],["plus",_0],["square",T0],["square2",S0],["star",C0],["times",D0],["triangle",E0],["triangle2",N0],["wye",k0]]);function Xf(n){return n&&typeof n.draw=="function"}function m8(n){return Xf(n)?!0:typeof n!="string"?!1:Gf.has(n.toLowerCase())}function Zf(n){if(n==null||Xf(n))return n;const t=Gf.get(`${n}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${n}`)}function a7(n){if(n==null||Xf(n))return[void 0,n];if(typeof n=="string"){const t=Gf.get(`${n}`.toLowerCase());if(t)return[void 0,t]}return[n,void 0]}function eh({filter:n,sort:t,reverse:e,transform:r,initializer:i,...a}={},o){if(r===void 0&&(n!=null&&(r=rh(n)),t!=null&&!Ce(t)&&(r=Za(r,Kf(t))),e&&(r=Za(r,ih))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||Ce(t))&&{sort:t},transform:Za(r,o)}}function Ee({filter:n,sort:t,reverse:e,initializer:r,...i}={},a){return r===void 0&&(n!=null&&(r=rh(n)),t!=null&&!Ce(t)&&(r=Ka(r,Kf(t))),e&&(r=Ka(r,ih))),{...i,...(t===null||Ce(t))&&{sort:t},initializer:Ka(r,a)}}function Za(n,t){return n==null?t===null?void 0:t:t==null?n===null?void 0:n:function(e,r,i){return{data:e,facets:r}=n.call(this,e,r,i),t.call(this,Ae(e),r,i)}}function Ka(n,t){return n==null?t===null?void 0:t:t==null?n===null?void 0:n:function(e,r,i,...a){let o,f,u,s,c,d;return{data:f=e,facets:u=r,channels:o}=n.call(this,e,r,i,...a),{data:c=f,facets:d=u,channels:s}=t.call(this,f,u,{...i,...o},...a),{data:c,facets:d,channels:{...o,...s}}}}function b8(n,t){return(n.initializer!=null?Ee:eh)(n,t)}function rh(n){return(t,e)=>{const r=kt(t,n);return{data:t,facets:e.map(i=>i.filter(a=>r[a]))}}}function ih(n,t){return{data:n,facets:t.map(e=>e.slice().reverse())}}function o7(n,{sort:t,...e}={}){return{...(ba(n)&&n.channel!==void 0?Ee:b8)(e,Kf(n)),sort:Ce(t)?t:null}}function Kf(n){return(typeof n=="function"&&n.length!==1?y8:w8)(n)}function y8(n){return(t,e)=>{const r=Fr(t)?(i,a)=>n(t[i],t[a]):(i,a)=>n(t.get(i),t.get(a));return{data:t,facets:e.map(i=>i.slice().sort(r))}}}function w8(n){let t,e;({channel:t,value:n,order:e}={...ya(n)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),e===void 0&&(e=r?Ko:Te),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=Te;break;case"descending":e=Ko;break;default:throw new Error(`invalid order: ${e}`)}return(i,a,o)=>{let f;if(t===void 0)f=kt(i,n);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(f=o[t],!f)return{};f=f.value}const u=(s,c)=>e(f[s],f[c]);return{data:i,facets:a.map(s=>s.slice().sort(u))}}}function v8(n,t,e=x8){if(n==null)return e(n);if(typeof n.reduceIndex=="function")return n;if(typeof n.reduce=="function"&&ie(n))return M8(n);if(typeof n=="function")return $8(n);if(/^p\d{2}$/i.test(n))return ht(V6(n));switch(`${n}`.toLowerCase()){case"first":return T8;case"last":return S8;case"identity":return _8;case"count":return Ac;case"distinct":return A8;case"sum":return t==null?Ac:C8;case"proportion":return Cc(t,"data");case"proportion-facet":return Cc(t,"facet");case"deviation":return ht(N1);case"min":return ht(ur);case"min-index":return ht(O1);case"max":return ht(et);case"max-index":return ht(P1);case"mean":return Sc(q1);case"median":return Sc(go);case"variance":return ht(ls);case"mode":return ht(z1)}return e(n)}function x8(n){throw new Error(`invalid reduce: ${n}`)}function M8(n){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...n,reduceIndex:n.reduce.bind(n)}}function $8(n){return{reduceIndex(t,e,r){return n(Yf(e,t),r)}}}function ht(n){return{reduceIndex(t,e){return n(t,r=>e[r])}}}function Sc(n){return{reduceIndex(t,e){const r=n(t,i=>e[i]);return Hn(e)?new Date(r):r}}}const _8={reduceIndex(n,t){return Yf(t,n)}},T8={reduceIndex(n,t){return t[n[0]]}},S8={reduceIndex(n,t){return t[n[n.length-1]]}},Ac={label:"Frequency",reduceIndex(n){return n.length}},A8={label:"Distinct",reduceIndex(n,t){const e=new Qi;for(const r of n)e.add(t[r]);return e.size}},C8=ht(hf);function Cc(n,t){return n==null?{scope:t,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:t,reduceIndex:(e,r,i=1)=>hf(e,a=>r[a])/i}}function yr(n,{scale:t,type:e,value:r,filter:i,hint:a,label:o=Or(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),ah(f,{scale:t,type:e,value:kt(n,r),label:o,filter:i,hint:a})}function E8(n,t){return Object.fromEntries(Object.entries(n).map(([e,r])=>[e,yr(t,r,e)]))}function N8(n,t){const e=Object.fromEntries(Object.entries(n).map(([r,{scale:i,value:a}])=>{const o=i==null?null:t[i];return[r,o==null?a:dn(a,o)]}));return e.channels=n,e}function ah(n,t){const{scale:e,value:r}=t;if(e===!0||e==="auto")switch(n){case"fill":case"stroke":case"color":t.scale=e!==!0&&Xa(r,wa)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=e!==!0&&Xa(r,o8)?null:"opacity",t.defaultScale="opacity";break;case"symbol":e!==!0&&Xa(r,m8)?(t.scale=null,t.value=dn(r,Zf)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=sn.has(n)?n:null;break}else if(e===!1)t.scale=null;else if(e!=null&&!sn.has(e))throw new Error(`unknown scale: ${e}`);return t}function k8(n,t,e,r,i){const{order:a,reverse:o,reduce:f=!0,limit:u}=i;for(const s in i){if(!sn.has(s))continue;let{value:c,order:d=a,reverse:l=o,reduce:h=f,limit:p=u}=ya(i[s]);const g=c==null?void 0:c.startsWith("-");if(g&&(c=c.slice(1)),d=d===void 0?g!==(c==="width"||c==="height")?fh:oh:L8(d),h==null||h===!1)continue;const m=s==="fx"||s==="fy"?I8(t,r[s]):D8(e,s);if(!m)throw new Error(`missing channel for scale: ${s}`);const w=m.value,[b=0,v=1/0]=ae(p)?p:p<0?[p]:[0,p];if(c==null)m.domain=()=>{let y=Array.from(new Qi(w));return l&&(y=y.reverse()),(b!==0||v!==1/0)&&(y=y.slice(b,v)),y};else{const y=c==="data"?n:c==="height"?Ec(e,"y1","y2"):c==="width"?Ec(e,"x1","x2"):ef(e,c,c==="y"?"y2":c==="x"?"x2":void 0),M=v8(h===!0?"max":h,y);m.domain=()=>{let $=k1(Pr(w),x=>M.reduceIndex(x,y),x=>w[x]);return d&&$.sort(d),l&&$.reverse(),(b!==0||v!==1/0)&&($=$.slice(b,v)),$.map(Y0)}}}}function D8(n,t){for(const e in n){const r=n[e];if(r.scale===t)return r}}function I8(n,t){const e=n.original;if(e===n)return t;const r=t.value,i=t.value=[];for(let a=0;a<e.length;++a){const o=r[e[a][0]];for(const f of n[a])i[f]=o}return t}function Ec(n,t,e){const r=ef(n,t),i=ef(n,e);return dn(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function ef(n,t,e){let r=n[t];if(!r&&e!==void 0&&(r=n[e]),r)return r.value;throw new Error(`missing channel: ${t}`)}function L8(n){if(n==null||typeof n=="function")return n;switch(`${n}`.toLowerCase()){case"ascending":return oh;case"descending":return fh}throw new Error(`invalid order: ${n}`)}function oh([n,t],[e,r]){return Te(t,r)||Te(n,e)}function fh([n,t],[e,r]){return Ko(t,r)||Te(n,e)}function Nc(n,t){let e=n[t];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const uh=new Map([["accent",c6],["category10",u6],["dark2",s6],["observable10",l6],["paired",d6],["pastel1",h6],["pastel2",p6],["set1",g6],["set2",m6],["set3",b6],["tableau10",y6]]);function R8(n){return n!=null&&uh.has(`${n}`.toLowerCase())}const kc=new Map([...uh,["brbg",st(ld,dd)],["prgn",st(hd,pd)],["piyg",st(gd,md)],["puor",st(bd,yd)],["rdbu",st(Go,Yi)],["rdgy",st(wd,vd)],["rdylbu",st(Xo,Wi)],["rdylgn",st(xd,Md)],["spectral",st($d,_d)],["burd",Dc(Go,Yi)],["buylrd",Dc(Xo,Wi)],["blues",gn(Zd,Kd)],["greens",gn(Qd,jd)],["greys",gn(Jd,n0)],["oranges",gn(a0,o0)],["purples",gn(t0,e0)],["reds",gn(r0,i0)],["turbo",lt(h0)],["viridis",lt(p0)],["magma",lt(g0)],["inferno",lt(m0)],["plasma",lt(b0)],["cividis",lt(f0)],["cubehelix",lt(u0)],["warm",lt(c0)],["cool",lt(s0)],["bugn",gn(Td,Sd)],["bupu",gn(Ad,Cd)],["gnbu",gn(Ed,Nd)],["orrd",gn(kd,Dd)],["pubu",gn(Rd,Fd)],["pubugn",gn(Id,Ld)],["purd",gn(Pd,Od)],["rdpu",gn(Ud,qd)],["ylgn",gn(Bd,Yd)],["ylgnbu",gn(Hd,zd)],["ylorbr",gn(Wd,Vd)],["ylorrd",gn(Gd,Xd)],["rainbow",Ic(l0)],["sinebow",Ic(d0)]]);function gn(n,t){return({length:e})=>e===1?[n[3][1]]:e===2?[n[3][1],n[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Wn(t,e):n[e])}function st(n,t){return({length:e})=>e===2?[n[3][0],n[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Wn(t,e):n[e])}function Dc(n,t){return({length:e})=>e===2?[n[3][2],n[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Wn(r=>t(1-r),e):n[e].slice().reverse())}function lt(n){return({length:t})=>Wn(n,Math.max(2,Math.floor(t)))}function Ic(n){return({length:t})=>Wn(n,Math.floor(t)+1).slice(0,-1)}function ch(n){const t=`${n}`.toLowerCase();if(!kc.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return kc.get(t)}function xa(n,t){const e=ch(n),r=typeof e=="function"?e({length:t}):e;return r.length!==t?r.slice(0,t):r}function F8(n,t="greys"){const e=new Set,[r,i]=xa(t,2);for(const a of n)if(a!=null)if(a===!0)e.add(i);else if(a===!1)e.add(r);else return;return[...e]}const Lc=new Map([["brbg",dd],["prgn",pd],["piyg",md],["puor",yd],["rdbu",Yi],["rdgy",vd],["rdylbu",Wi],["rdylgn",Md],["spectral",_d],["burd",n=>Yi(1-n)],["buylrd",n=>Wi(1-n)],["blues",Kd],["greens",jd],["greys",n0],["purples",e0],["reds",i0],["oranges",o0],["turbo",h0],["viridis",p0],["magma",g0],["inferno",m0],["plasma",b0],["cividis",f0],["cubehelix",u0],["warm",c0],["cool",s0],["bugn",Sd],["bupu",Cd],["gnbu",Nd],["orrd",Dd],["pubugn",Ld],["pubu",Fd],["purd",Od],["rdpu",qd],["ylgnbu",zd],["ylgn",Yd],["ylorbr",Vd],["ylorrd",Xd],["rainbow",l0],["sinebow",d0]]);function Qf(n){const t=`${n}`.toLowerCase();if(!Lc.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Lc.get(t)}const P8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function O8(n){return n!=null&&P8.has(`${n}`.toLowerCase())}const sh=n=>t=>n(1-t),Qa=[0,1],Rc=new Map([["number",wn],["rgb",Gt],["hsl",hm],["hcl",mm],["lab",pm]]);function lh(n){const t=`${n}`.toLowerCase();if(!Rc.has(t))throw new Error(`unknown interpolator: ${t}`);return Rc.get(t)}function Br(n,t,e,{type:r,nice:i,clamp:a,zero:o,domain:f=hh(n,e),unknown:u,round:s,scheme:c,interval:d,range:l=sn.get(n)===qr?Z8(e,f):sn.get(n)===Hr?K8(e,f):sn.get(n)===zr?Qa:void 0,interpolate:h=sn.get(n)===$t?c==null&&l!==void 0?Gt:Qf(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):s?vf:wn,reverse:p}){if(f=Fc(f),d=Ur(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=lh(h)),p=!!p,l!==void 0){const g=f.length,m=(l=Fc(l)).length;if(g!==m){if(h.length===1)throw new Error("invalid piecewise interpolator");h=ea(h,l),l=void 0}}if(h.length===1?(p&&(h=sh(h),p=!1),l===void 0&&(l=Float64Array.from(f,(g,m)=>m/(f.length-1)),l.length===2&&(l=Qa)),t.interpolate((l===Qa?wt:Jf)(h))):t.interpolate(h),o){const[g,m]=Et(f);(g>0||m<0)&&(f=jo(f),(Se(f)||1)===Math.sign(g)?f[0]=0:f[f.length-1]=0)}return p&&(f=Mi(f)),t.domain(f).unknown(u),i&&(t.nice(U8(i,r)),f=t.domain()),l!==void 0&&t.range(l),a&&t.clamp(a),{type:r,domain:f,range:l,scale:t,interpolate:h,interval:d}}function Fc(n){return n=re(n),n.length>=2?n:[n[0],n[0]]}function U8(n,t){return n===!0?void 0:typeof n=="number"?n:J6(n,t)}function q8(n,t,e){return Br(n,Df(),t,e)}function H8(n,t,e){return dh(n,t,{...e,exponent:.5})}function dh(n,t,{exponent:e=1,...r}){return Br(n,Wl().exponent(e),t,{...r,type:"pow"})}function z8(n,t,{base:e=10,domain:r=Q8(t),...i}){return Br(n,Hl().base(e),t,{...i,domain:r})}function B8(n,t,{constant:e=1,...r}){return Br(n,Bl().constant(e),t,r)}function Y8(n,t,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:a="rdylbu",domain:o=j8(t),unknown:f,interpolate:u,reverse:s}){return e===void 0&&(e=u!==void 0?Wn(u,i):sn.get(n)===$t?xa(a,i):void 0),o.length>0&&(o=Vl(o,e===void 0?{length:i}:e).quantiles()),jf(n,t,{domain:o,range:e,reverse:s,unknown:f})}function W8(n,t,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:a=hh(n,t),unknown:o,interpolate:f,reverse:u}){const[s,c]=Et(a);let d;return e===void 0?(d=vi(s,c,r),d[0]<=s&&d.splice(0,1),d[d.length-1]>=c&&d.pop(),r=d.length+1,e=f!==void 0?Wn(f,r):sn.get(n)===$t?xa(i,r):void 0):(d=Wn(wn(s,c),r+1).slice(1,-1),s instanceof Date&&(d=d.map(l=>new Date(l)))),Se(re(a))<0&&d.reverse(),jf(n,t,{domain:d,range:e,reverse:u,unknown:o})}function jf(n,t,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Wn(a,e.length+1):sn.get(n)===$t?xa(i,e.length+1):void 0,reverse:f}){e=re(e);const u=Se(e);if(!isNaN(u)&&!V8(e,u))throw new Error(`the ${n} scale has a non-monotonic domain`);return f&&(o=Mi(o)),{type:"threshold",scale:Gl(u<0?Mi(e):e,o===void 0?[]:o).unknown(r),domain:e,range:o}}function V8(n,t){for(let e=1,r=n.length,i=n[0];e<r;++e){const a=xr(i,i=n[e]);if(a!==0&&a!==t)return!1}return!0}function G8(n){return{type:"identity",scale:d8(sn.get(n))?Ol():t=>t}}function wr(n,t=L0){return n.length?[ur(n,({value:e})=>e===void 0?e:ur(e,t)),et(n,({value:e})=>e===void 0?e:et(e,t))]:[0,1]}function hh(n,t){const e=sn.get(n);return(e===qr||e===zr||e===Hr?X8:wr)(t)}function X8(n){return[0,n.length?et(n,({value:t})=>t===void 0?t:et(t,L0)):1]}function Z8(n,t){const e=n.find(({radius:o})=>o!==void 0);if(e!==void 0)return[0,e.radius];const r=xi(n,.5,({value:o})=>o===void 0?NaN:xi(o,.25,Of)),i=t.map(o=>3*Math.sqrt(o/r)),a=30/et(i);return a<1?i.map(o=>o*a):i}function K8(n,t){const e=go(n,({value:a})=>a===void 0?NaN:go(a,Math.abs)),r=t.map(a=>12*a/e),i=60/et(r);return i<1?r.map(a=>a*i):r}function Q8(n){for(const{value:t}of n)if(t!==void 0)for(let e of t){if(e>0)return wr(n,Of);if(e<0)return wr(n,R0)}return[1,10]}function j8(n){const t=[];for(const{value:e}of n)if(e!==void 0)for(const r of e)t.push(r);return t}function Jf(n){return(t,e)=>r=>n(t+r*(e-t))}let rf=0,af;function J8(){const n=rf;return rf=0,af=void 0,n}function Bt(n){n!==af&&(af=n,console.warn(n),++rf)}function Ma(n,t,e,r,{type:i,nice:a,clamp:o,domain:f=wr(r),unknown:u,pivot:s=0,scheme:c,range:d,symmetric:l=!0,interpolate:h=sn.get(n)===$t?c==null&&d!==void 0?Gt:Qf(c!==void 0?c:"rdbu"):wn,reverse:p}){s=+s,f=re(f);let[g,m]=f;if(f.length>2&&Bt(`Warning: the diverging ${n} scale domain contains extra elements.`),xr(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,s),m=Math.max(m,s),typeof h!="function"&&(h=lh(h)),d!==void 0&&(h=h.length===1?Jf(h)(...d):ea(h,d)),p&&(h=sh(h)),l){const w=e.apply(s),b=w-e.apply(g),v=e.apply(m)-w;b<v?g=e.invert(w-v):b>v&&(m=e.invert(w+b))}return t.domain([g,s,m]).unknown(u).interpolator(h),o&&t.clamp(o),a&&t.nice(a),{type:i,domain:[g,m],pivot:s,interpolate:h,scale:t}}function nw(n,t,e){return Ma(n,fd(),iw,t,e)}function tw(n,t,e){return ph(n,t,{...e,exponent:.5})}function ph(n,t,{exponent:e=1,...r}){return Ma(n,sd().exponent(e=+e),fw(e),t,{...r,type:"diverging-pow"})}function ew(n,t,{base:e=10,pivot:r=1,domain:i=wr(t,r<0?R0:Of),...a}){return Ma(n,ud().base(e=+e),aw,t,{domain:i,pivot:r,...a})}function rw(n,t,{constant:e=1,...r}){return Ma(n,cd().constant(e=+e),uw(e),t,r)}const iw={apply(n){return n},invert(n){return n}},aw={apply:Math.log,invert:Math.exp},ow={apply(n){return Math.sign(n)*Math.sqrt(Math.abs(n))},invert(n){return Math.sign(n)*(n*n)}};function fw(n){return n===.5?ow:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),n)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/n)}}}function uw(n){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}}function gh(n,t,e,r){return Br(n,t,e,r)}function cw(n,t,e){return gh(n,o6(),t,e)}function sw(n,t,e){return gh(n,f6(),t,e)}const Yr=Symbol("ordinal");function mh(n,t,e,{type:r,interval:i,domain:a,range:o,reverse:f,hint:u}){return i=Ur(i,r),a===void 0&&(a=yh(e,i,n)),(r==="categorical"||r===Yr)&&(r="ordinal"),f&&(a=Mi(a)),a=t.domain(a).domain(),o!==void 0&&(typeof o=="function"&&(o=o(a)),t.range(o)),{type:r,domain:a,range:o,scale:t,hint:u,interval:i}}function lw(n,t,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:f,...u}){r=Ur(r,e),i===void 0&&(i=yh(t,r,n));let s;if(sn.get(n)===va)s=pw(t),a=a===void 0?gw(s):dn(a,Zf);else if(sn.get(n)===$t&&(a===void 0&&(e==="ordinal"||e===Yr)&&(a=F8(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=e==="ordinal"?"turbo":"observable10"),o!==void 0))if(a!==void 0){const c=Qf(o),d=a[0],l=a[1]-a[0];a=({length:h})=>Wn(p=>c(d+l*p),h)}else a=ch(o);if(f===Yo)throw new Error(`implicit unknown on ${n} scale is not supported`);return mh(n,kf().unknown(f),t,{...u,type:e,domain:i,range:a,hint:s})}function dw(n,t,{align:e=.5,padding:r=.5,...i}){return bh(q2().align(e).padding(r),t,i,n)}function hw(n,t,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=n==="fx"||n==="fy"?0:r,...o}){return bh(ua().align(e).paddingInner(i).paddingOuter(a),t,o,n)}function bh(n,t,e,r){let{round:i}=e;return i!==void 0&&n.round(i=!!i),n=mh(r,n,t,e),n.round=i,n}function yh(n,t,e){const r=new Qi;for(const{value:i,domain:a}of n){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(t!==void 0){const[i,a]=Et(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&sn.get(e)===Jn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return I1(r,Te)}function Pc(n,t){let e;for(const{hint:r}of n){const i=r==null?void 0:r[t];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function pw(n){return{fill:Pc(n,"fill"),stroke:Pc(n,"stroke")}}function gw(n){return Tn(n.fill)?E6:C6}function of(n,{label:t,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:f,nice:u,clamp:s,zero:c,align:d,padding:l,projection:h,facet:{label:p=t}={},...g}={}){const m={};for(const[w,b]of n){const v=g[w],y=vw(w,b,{round:sn.get(w)===Jn?f:void 0,nice:u,clamp:s,zero:c,align:d,padding:l,projection:h,...v});if(y){let{label:M=w==="fx"||w==="fy"?p:t,percent:$,transform:x,inset:T,insetTop:A=T!==void 0?T:w==="y"?r:0,insetRight:N=T!==void 0?T:w==="x"?i:0,insetBottom:_=T!==void 0?T:w==="y"?a:0,insetLeft:D=T!==void 0?T:w==="x"?o:0}=v||{};if(x==null)x=void 0;else if(typeof x!="function")throw new Error("invalid scale transform; not a function");y.percent=!!$,y.label=M===void 0?bw(b,y):M,y.transform=x,w==="x"||w==="fx"?(y.insetLeft=+D,y.insetRight=+N):(w==="y"||w==="fy")&&(y.insetTop=+A,y.insetBottom=+_),m[w]=y}}return m}function Oc(n){const t={},e={scales:t};for(const[r,i]of Object.entries(n)){const{scale:a,type:o,interval:f,label:u}=i;t[r]=Tw(i),e[r]=a,a.type=o,f!=null&&(a.interval=f),u!=null&&(a.label=u)}return e}function mw(n,t){const{x:e,y:r,fx:i,fy:a}=n,o=i||a?nu(t):t;i&&Uc(i,o),a&&qc(a,o);const f=i||a?wh(n,t):t;e&&Uc(e,f),r&&qc(r,f)}function bw(n=[],t){let e;for(const{label:r}of n)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!oe(t)&&t.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function yw(n){return Math.sign(Se(n.domain()))*Math.sign(Se(n.range()))}function nu(n){const{marginTop:t,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:f,marginRight:u,marginBottom:s,marginLeft:c}}=n;return{marginTop:Math.max(t,f),marginRight:Math.max(e,u),marginBottom:Math.max(r,s),marginLeft:Math.max(i,c),width:a,height:o}}function wh({fx:n,fy:t},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=nu(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:n?n.scale.bandwidth()+o+i:f,height:t?t.scale.bandwidth()+r+a:u,facet:{width:f,height:u}}}function Uc(n,t){if(n.range===void 0){const{insetLeft:e,insetRight:r}=n,{width:i,marginLeft:a=0,marginRight:o=0}=t,f=a+e,u=i-o-r;n.range=[f,Math.max(f,u)],oe(n)||(n.range=xh(n)),n.scale.range(n.range)}vh(n)}function qc(n,t){if(n.range===void 0){const{insetTop:e,insetBottom:r}=n,{height:i,marginTop:a=0,marginBottom:o=0}=t,f=a+e,u=i-o-r;n.range=[Math.max(f,u),f],oe(n)?n.range.reverse():n.range=xh(n),n.scale.range(n.range)}vh(n)}function vh(n){n.round===void 0&&Mw(n)&&ww(n)<=30&&n.scale.round(!0)}function ww({scale:n}){const t=n.domain().length,[e,r]=n.range(),i=n.paddingInner?n.paddingInner():1,a=n.paddingOuter?n.paddingOuter():n.padding(),o=t-i,f=Math.abs(r-e)/Math.max(1,o+a*2);return(f-Math.floor(f))*o}function xh(n){const t=n.scale.domain().length+Mh(n);if(!(t>2))return n.range;const[e,r]=n.range;return Array.from({length:t},(i,a)=>e+a/(t-1)*(r-e))}function vw(n,t=[],e={}){const r=xw(n,t,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&n!=="fx"&&n!=="fy"&&oe({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Hn)?Bt(`Warning: some data associated with the ${n} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${se(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${n} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${n} scale to "${se(r)}".`):i.some(e8)?Bt(`Warning: some data associated with the ${n} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${se(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${n} scale to "${se(r)}".`):i.some(r8)&&Bt(`Warning: some data associated with the ${n} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${se(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${n} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${n} scale to "${se(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=ii(t,e,_c);break;case"identity":switch(sn.get(n)){case Jn:e=ii(t,e,_c);break;case va:e=ii(t,e,$w);break}break;case"utc":case"time":e=ii(t,e,W0);break}switch(r){case"diverging":return nw(n,t,e);case"diverging-sqrt":return tw(n,t,e);case"diverging-pow":return ph(n,t,e);case"diverging-log":return ew(n,t,e);case"diverging-symlog":return rw(n,t,e);case"categorical":case"ordinal":case Yr:return lw(n,t,e);case"cyclical":case"sequential":case"linear":return q8(n,t,e);case"sqrt":return H8(n,t,e);case"threshold":return jf(n,t,e);case"quantile":return Y8(n,t,e);case"quantize":return W8(n,t,e);case"pow":return dh(n,t,e);case"log":return z8(n,t,e);case"symlog":return B8(n,t,e);case"utc":return sw(n,t,e);case"time":return cw(n,t,e);case"point":return dw(n,t,e);case"band":return hw(n,t,e);case"identity":return G8(n);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function se(n){return typeof n=="symbol"?n.description:n}function Hc(n){return typeof n=="string"?`${n}`.toLowerCase():n}const zc={toString:()=>"projection"};function xw(n,t,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:f}){var c;if(e=Hc(e),n==="fx"||n==="fy")return"band";(n==="x"||n==="y")&&f!=null&&(e=zc);for(const d of t){const l=Hc(d.type);if(l!==void 0){if(e===void 0)e=l;else if(e!==l)throw new Error(`scale incompatible with channel: ${e} !== ${l}`)}}if(e===zc)return;if(e!==void 0)return e;if(r===void 0&&!t.some(({value:d})=>d!==void 0))return;const u=sn.get(n);if(u===qr)return"sqrt";if(u===zr||u===Hr)return"linear";if(u===va)return"ordinal";const s=(c=r??i)==null?void 0:c.length;if(s<2||s>2)return ja(u);if(r!==void 0){if(Tc(r))return ja(u);if(Hn(r))return"utc"}else{const d=t.map(({value:l})=>l).filter(l=>l!==void 0);if(d.some(Tc))return ja(u);if(d.some(Hn))return"utc"}if(u===$t){if(o!=null||O8(a))return"diverging";if(R8(a))return"categorical"}return"linear"}function ja(n){switch(n){case Jn:return"point";case $t:return Yr;default:return"ordinal"}}function oe({type:n}){return n==="ordinal"||n==="point"||n==="band"||n===Yr}function Mh({type:n}){return n==="threshold"}function Mw({type:n}){return n==="point"||n==="band"}function Xi(n){if(n===void 0)return!0;const t=n.domain(),e=n(t[0]);for(let r=1,i=t.length;r<i;++r)if(n(t[r])-e)return!1;return!0}function ii(n,{domain:t,...e},r){var i;for(const a of n)a.value!==void 0&&(t===void 0&&(t=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:t===void 0?t:r(t),...e}}function $w(n){return dn(n,Zf)}function _w(n){return t=>{if(!sn.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return n[t]}}function Tw({scale:n,type:t,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:f,pivot:u}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const s=n.unknown?n.unknown():void 0;return{type:t,domain:jo(e),...r!==void 0&&{range:jo(r)},...o!==void 0&&{transform:o},...f&&{percent:f},...s!==void 0&&{unknown:s},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...n.clamp&&{clamp:n.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...n.base&&{base:n.base()},...n.exponent&&{exponent:n.exponent()},...n.constant&&{constant:n.constant()},...n.align&&{align:n.align(),round:n.round()},...n.padding&&(n.paddingInner?{paddingInner:n.paddingInner(),paddingOuter:n.paddingOuter()}:{padding:n.padding()}),...n.bandwidth&&{bandwidth:n.bandwidth(),step:n.step()},apply:c=>n(c),...n.invert&&{invert:c=>n.invert(c)}}}function Sw(n,t){const{fx:e,fy:r}=of(n,t),i=e==null?void 0:e.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?E1(i,a).map(([o,f],u)=>({x:o,y:f,i:u})):i?i.map((o,f)=>({x:o,i:f})):a?a.map((o,f)=>({y:o,i:f})):void 0}function Aw(n,{x:t,y:e}){return t&&(t=ff(t)),e&&(e=ff(e)),n.filter(t&&e?r=>t.has(r.x)&&e.has(r.y):t?r=>t.has(r.x):r=>e.has(r.y)).sort(t&&e?(r,i)=>t.get(r.x)-t.get(i.x)||e.get(r.y)-e.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function tu(n,{fx:t,fy:e}){const r=Pr(n),i=t==null?void 0:t.value,a=e==null?void 0:e.value;return t&&e?Sa(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):t?Sa(r,o=>(o.fx=i[o[0]],o),o=>i[o]):Sa(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function Cw(n,t,{marginTop:e,marginLeft:r}){const i=n?({x:o})=>n(o)-r:()=>0,a=t?({y:o})=>t(o)-e:()=>0;return function(o){this.tagName==="svg"?(this.setAttribute("x",i(o)),this.setAttribute("y",a(o))):this.setAttribute("transform",`translate(${i(o)},${a(o)})`)}}function Ew(n){const t=[],e=new Uint32Array(hf(n,r=>r.length));for(const r of n){let i=0;for(const a of n)r!==a&&(e.set(a,i),i+=a.length);t.push(e.slice(0,i))}return t}const Nw=new Map([["top",Ja],["right",eo],["bottom",no],["left",to],["top-left",ai(Ja,to)],["top-right",ai(Ja,eo)],["bottom-left",ai(no,to)],["bottom-right",ai(no,eo)],["top-empty",Iw],["right-empty",Fw],["bottom-empty",Lw],["left-empty",Rw],["empty",Pw]]);function kw(n){if(n==null)return null;const t=Nw.get(`${n}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${n}`)}const Bc=new WeakMap;function ff(n){let t=Bc.get(n);return t||Bc.set(n,t=new fr(dn(n,(e,r)=>[e,r]))),t}function Lt(n,t){return ff(n).get(t)}function Dw(n,t,e){return t=ri(t),e=ri(e),n.find(r=>Object.is(ri(r.x),t)&&Object.is(ri(r.y),e))}function $a(n,t,e){var r;return(r=Dw(n,t,e))==null?void 0:r.empty}function Ja(n,{y:t},{y:e}){return t?Lt(t,e)===0:!0}function no(n,{y:t},{y:e}){return t?Lt(t,e)===t.length-1:!0}function to(n,{x:t},{x:e}){return t?Lt(t,e)===0:!0}function eo(n,{x:t},{x:e}){return t?Lt(t,e)===t.length-1:!0}function Iw(n,{y:t},{x:e,y:r,empty:i}){if(i)return!1;if(!t)return;const a=Lt(t,r);if(a>0)return $a(n,e,t[a-1])}function Lw(n,{y:t},{x:e,y:r,empty:i}){if(i)return!1;if(!t)return;const a=Lt(t,r);if(a<t.length-1)return $a(n,e,t[a+1])}function Rw(n,{x:t},{x:e,y:r,empty:i}){if(i)return!1;if(!t)return;const a=Lt(t,e);if(a>0)return $a(n,t[a-1],r)}function Fw(n,{x:t},{x:e,y:r,empty:i}){if(i)return!1;if(!t)return;const a=Lt(t,e);if(a<t.length-1)return $a(n,t[a+1],r)}function Pw(n,t,{empty:e}){return e}function ai(n,t){return function(){return n.apply(null,arguments)&&t.apply(null,arguments)}}function ro(n,{channels:{fx:t,fy:e},groups:r}){return t&&e?n.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):t?n.map(({x:i})=>r.get(i)??[]):n.map(({y:i})=>r.get(i)??[])}const $h=Math.PI,dt=2*$h,io=.618;function Ow({projection:n,inset:t=0,insetTop:e=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},o){if(n==null)return;if(typeof n.stream=="function")return n;let f,u,s="frame";if(ie(n)){let M;if({type:n,domain:u,inset:M,insetTop:e=M!==void 0?M:e,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:a=M!==void 0?M:a,clip:s=s,...f}=n,n==null)return}typeof n!="function"&&({type:n}=uf(n));const{width:c,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=o,m=c-l-h-a-r,w=d-p-g-e-i;if(n=n==null?void 0:n({width:m,height:w,clip:s,...f}),n==null)return;s=Uw(s,l,p,c-h,d-g);let b=l+a,v=p+e,y;if(u!=null){const[[M,$],[x,T]]=Af(n).bounds(u),A=Math.min(m/(x-M),w/(T-$));A>0?(b-=(A*(M+x)-m)/2,v-=(A*($+T)-w)/2,y=Ui({point(N,_){this.stream.point(N*A+b,_*A+v)}})):Bt("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=b===0&&v===0?_h():Ui({point(M,$){this.stream.point(M+b,$+v)}})),{stream:M=>n.stream(y.stream(s(M)))}}function uf(n){switch(`${n}`.toLowerCase()){case"albers-usa":return zn(T2,.7463,.4673);case"albers":return oi(Sl,.7463,.4673);case"azimuthal-equal-area":return zn(S2,4,4);case"azimuthal-equidistant":return zn(A2,dt,dt);case"conic-conformal":return oi(N2,dt,dt);case"conic-equal-area":return oi(qi,6.1702,2.9781);case"conic-equidistant":return oi(I2,7.312,3.6282);case"equal-earth":return zn(R2,5.4133,2.6347);case"equirectangular":return zn(k2,dt,$h);case"gnomonic":return zn(F2,3.4641,3.4641);case"identity":return{type:_h};case"reflect-y":return{type:qw};case"mercator":return zn(C2,dt,dt);case"orthographic":return zn(P2,2,2);case"stereographic":return zn(O2,2,2);case"transverse-mercator":return zn(U2,dt,dt);default:throw new Error(`unknown projection type: ${n}`)}}function Uw(n,t,e,r,i){if(n===!1||n==null||typeof n=="number")return a=>a;switch(n===!0&&(n="frame"),`${n}`.toLowerCase()){case"frame":return sl(t,e,r,i);default:throw new Error(`unknown projection clip type: ${n}`)}}function zn(n,t,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:f})=>{var s,c,d;const u=n();return o!=null&&((s=u.precision)==null||s.call(u,o)),a!=null&&((c=u.rotate)==null||c.call(u,a)),typeof f=="number"&&((d=u.clipAngle)==null||d.call(u,f)),r!=null&&(u.scale(Math.min(r/t,i/e)),u.translate([r/2,i/2])),u},aspectRatio:e/t}}function oi(n,t,e){const{type:r,aspectRatio:i}=zn(n,t,e);return{type:a=>{const{parallels:o,domain:f,width:u,height:s}=a,c=r(a);return o!=null&&(c.parallels(o),f===void 0&&u!=null&&c.fitSize([u,s],{type:"Sphere"})),c},aspectRatio:i}}const _h=wt({stream:n=>n}),qw=wt(Ui({point(n,t){this.stream.point(n,-t)}}));function Hw(n,t,e,r){const i=e[n],a=e[t],o=i.length,f=e[n]=new Float64Array(o).fill(NaN),u=e[t]=new Float64Array(o).fill(NaN);let s;const c=r.stream({point(d,l){f[s]=d,u[s]=l}});for(s=0;s<o;++s)c.point(i[s],a[s])}function zw({projection:n}={}){return n==null?!1:typeof n.stream=="function"?!0:(ie(n)&&(n=n.type),n!=null)}function Bw(n){if(typeof(n==null?void 0:n.stream)=="function")return io;if(ie(n)){let t,e;if({domain:t,type:n,...e}=n,t!=null&&n!=null){const r=typeof n=="string"?uf(n).type:n,[[i,a],[o,f]]=Af(r({...e,width:100,height:100})).bounds(t),u=(f-a)/(o-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:io}}if(n!=null){if(typeof n!="function"){const{aspectRatio:t}=uf(n);if(t)return t}return io}}function Yw(n){const t=[],e=[],r={scale:"x",value:t},i={scale:"y",value:e},a={point(o,f){t.push(o),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of n.value)Pt(o,a);return[r,i]}function Ww({x:n,y:t}){if(n||t)return n??(n=e=>e),t??(t=e=>e),Ui({point(e,r){this.stream.point(n(e),t(r))}})}function eu(n={}){const{document:t=typeof window<"u"?window.document:void 0,clip:e}=n;return{document:t,clip:j0(e)}}function An(n,{document:t}){return Ut(Ji(n).call(t.documentElement))}const Vw=Symbol("unset");function ru(n){return(n.length===1?Gw:Xw)(n)}function Gw(n){let t,e=Vw;return r=>(Object.is(e,r)||(e=r,t=n(r)),t)}function Xw(n){let t,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,a)=>!Object.is(i,r[a])))&&(e=r,t=n(...r)),t)}const Zw=ru(n=>new Intl.NumberFormat(n));ru((n,t)=>new Intl.DateTimeFormat(n,{timeZone:"UTC",...t&&{month:t}}));ru((n,t)=>new Intl.DateTimeFormat(n,{timeZone:"UTC",...t&&{weekday:t}}));function Kw(n="en-US"){const t=Zw(n);return e=>e!=null&&!isNaN(e)?t.format(e):void 0}function Qw(n){return N6(n,"Invalid Date")}function jw(n="en-US"){const t=Kw(n);return e=>(e instanceof Date?Qw:typeof e=="number"?t:vn)(e)}const vr=jw(),Nn=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Jw=0;function Th(){return`plot-clip-${++Jw}`}function n5(n,{title:t,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:f,fillOpacity:u,stroke:s,strokeWidth:c,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:w,mixBlendMode:b,imageFilter:v,paintOrder:y,pointerEvents:M,shapeRendering:$,channels:x},{ariaLabel:T,fill:A="currentColor",fillOpacity:N,stroke:_="none",strokeOpacity:D,strokeWidth:R,strokeLinecap:L,strokeLinejoin:S,strokeMiterlimit:F,paintOrder:Y}){A===null&&(f=null,u=null),_===null&&(s=null,d=null),Tn(A)?!Tn(_)&&(!Tn(f)||x!=null&&x.fill)&&(_="none"):Tn(_)&&(!Tn(s)||x!=null&&x.stroke)&&(A="none");const[z,W]=Jt(f,A),[k,P]=En(u,N),[q,I]=Jt(s,_),[G,nn]=En(d,D),[Q,U]=En(w);br(I)||(c===void 0&&(c=R),h===void 0&&(h=L),l===void 0&&(l=S),p===void 0&&!f8(l)&&(p=F),!br(W)&&y===void 0&&(y=Y));const[B,E]=En(c);return A!==null&&(n.fill=yn(W,"currentColor"),n.fillOpacity=Ve(P,1)),_!==null&&(n.stroke=yn(I,"none"),n.strokeWidth=Ve(E,1),n.strokeOpacity=Ve(nn,1),n.strokeLinejoin=yn(l,"miter"),n.strokeLinecap=yn(h,"butt"),n.strokeMiterlimit=Ve(p,4),n.strokeDasharray=yn(g,"none"),n.strokeDashoffset=yn(m,"0")),n.target=vn(o),n.ariaLabel=vn(T),n.ariaDescription=vn(i),n.ariaHidden=vn(a),n.opacity=Ve(U,1),n.mixBlendMode=yn(b,"normal"),n.imageFilter=yn(v,"none"),n.paintOrder=yn(y,"normal"),n.pointerEvents=yn(M,"auto"),n.shapeRendering=yn($,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:z,scale:"auto",optional:!0},fillOpacity:{value:k,scale:"auto",optional:!0},stroke:{value:q,scale:"auto",optional:!0},strokeOpacity:{value:G,scale:"auto",optional:!0},strokeWidth:{value:B,optional:!0},opacity:{value:Q,scale:"auto",optional:!0}}}function t5(n,t){t&&n.filter(e=>I0(t[e])).append("title").call(e5,t)}function e5(n,t){t&&n.text(e=>vr(t[e]))}function Wr(n,{target:t,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:f,strokeOpacity:u,strokeWidth:s,opacity:c,href:d}){r&&tn(n,"aria-label",l=>r[l]),a&&tn(n,"fill",l=>a[l]),o&&tn(n,"fill-opacity",l=>o[l]),f&&tn(n,"stroke",l=>f[l]),u&&tn(n,"stroke-opacity",l=>u[l]),s&&tn(n,"stroke-width",l=>s[l]),c&&tn(n,"opacity",l=>c[l]),d&&u5(n,l=>d[l],t),e||t5(n,i)}function r5(n,t,e,r){let i;const{clip:a=r.clip}=t;a==="frame"?(n=An("svg:g",r).each(function(){this.appendChild(n.node()),n.node=()=>this}),i=a5(r,e)):a&&(i=f5(a,r)),tn(n,"aria-label",t.ariaLabel),tn(n,"aria-description",t.ariaDescription),tn(n,"aria-hidden",t.ariaHidden),tn(n,"clip-path",i)}function i5(n){const t=new WeakMap;return(e,r)=>{let i=t.get(e);if(!i){const a=Th();Ut(e.ownerSVGElement).append("clipPath").attr("id",a).call(n,e,r),t.set(e,i=`url(#${a})`)}return i}}const a5=i5((n,t,e)=>{const{width:r,height:i,marginLeft:a,marginRight:o,marginTop:f,marginBottom:u}=e;n.append("rect").attr("x",a).attr("y",f).attr("width",r-o-a).attr("height",i-f-u)}),Yc=new WeakMap,o5={type:"Sphere"};function f5(n,t){let e,r;if((e=Yc.get(t))||Yc.set(t,e=new WeakMap),n.type==="Sphere"&&(n=o5),!(r=e.get(n))){const i=Th();Ut(t.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",t.path()(n)),e.set(n,r=`url(#${i})`)}return r}function Le(n,t,e,r){r5(n,t,e,r),tn(n,"class",t.className),tn(n,"fill",t.fill),tn(n,"fill-opacity",t.fillOpacity),tn(n,"stroke",t.stroke),tn(n,"stroke-width",t.strokeWidth),tn(n,"stroke-opacity",t.strokeOpacity),tn(n,"stroke-linejoin",t.strokeLinejoin),tn(n,"stroke-linecap",t.strokeLinecap),tn(n,"stroke-miterlimit",t.strokeMiterlimit),tn(n,"stroke-dasharray",t.strokeDasharray),tn(n,"stroke-dashoffset",t.strokeDashoffset),tn(n,"shape-rendering",t.shapeRendering),tn(n,"filter",t.imageFilter),tn(n,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;tn(n,"pointer-events",i)}function Re(n,t){c5(n,"mix-blend-mode",t.mixBlendMode),tn(n,"opacity",t.opacity)}function u5(n,t,e){n.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(me.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(me.xlink,"href",i),e!=null&&a.setAttribute("target",e),this.parentNode.insertBefore(a,this).appendChild(this)}})}function tn(n,t,e){e!=null&&n.attr(t,e)}function c5(n,t,e){e!=null&&n.style(t,e)}function Fe(n,t,{x:e,y:r},i=Nn,a=Nn){i+=t.dx,a+=t.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&n.attr("transform",`translate(${i},${a})`)}function yn(n,t){if((n=vn(n))!==t)return n}function Ve(n,t){if((n=Mn(n))!==t)return n}const s5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function iu(n){if(n===void 0)return"plot-d6a7b5";if(n=`${n}`,!s5.test(n))throw new Error(`invalid class name: ${n}`);return n}function au(n,t){if(typeof t=="string")n.property("style",t);else if(t!=null)for(const e of n)Object.assign(e.style,t)}function _a({frameAnchor:n},{width:t,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(n)?o:/right$/.test(n)?t-i:(o+t-i)/2,/^top/.test(n)?r:/^bottom/.test(n)?e-a:(r+e-a)/2]}class _t{constructor(t,e={},r={},i){const{facet:a="auto",facetAnchor:o,fx:f,fy:u,sort:s,dx:c=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:m=l,className:w,clip:b=i==null?void 0:i.clip,channels:v,tip:y,render:M}=r;if(this.data=t,this.sort=Ce(s)?s:null,this.initializer=Ee(r).initializer,this.transform=this.initializer?r.transform:eh(r).transform,a===null||a===!1?this.facet=null:(this.facet=Zn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===bi&&typeof f=="string"?[f]:f,this.fy=t===bi&&typeof u=="string"?[u]:u),this.facetAnchor=kw(o),e=Q0(e),v!==void 0&&(e={...l5(v),...e}),i!==void 0&&(e={...n5(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([$,x])=>{if(ba(x.value)){const{value:T,label:A=x.label,scale:N=x.scale}=x.value;x={...x,label:A,scale:N,value:T}}if(t===bi&&typeof x.value=="string"){const{value:T}=x;x={...x,value:[T]}}return[$,x]}).filter(([$,{value:x,optional:T}])=>{if(x!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${$}`)})),this.dx=+c,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=j0(b),this.tip=d5(y),this.className=vn(w),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const $ in this.channels){const{scale:x}=e[$];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=Ah(M,this.render))}initialize(t,e,r){let i=Ae(this.data);t===void 0&&i!=null&&(t=[Pr(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=Ae(i)),t!==void 0&&(t.original=a);const o=E8(this.channels,i);return this.sort!=null&&k8(i,t,o,e,this.sort),{data:i,facets:t,channels:o}}filter(t,e,r){for(const i in e){const{filter:a=jt}=e[i];if(a!==null){const o=r[i];t=t.filter(f=>a(o[f]))}}return t}project(t,e,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&Hw(i,a,e,r.projection)}}scale(t,e,r){const i=N8(t,e);return r.projection&&this.project(t,i,r),i}}function Sh(...n){return n.plot=_t.prototype.plot,n}function Ah(n,t){if(n==null)return t===null?void 0:t;if(t==null)return n===null?void 0:n;if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(e,r,i,a,o,f){return n.call(this,e,r,i,a,o,(u,s,c,d,l)=>t.call(this,u,s,c,d,l,f))}}function l5(n){return Object.fromEntries(Object.entries(Q0(n)).map(([t,e])=>(e=typeof e=="string"?{value:e,label:t}:ya(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[t,e])))}function d5(n){return n===!0?"xy":n===!1||n==null?null:typeof n=="string"?Zn(n,"tip",["x","y","xy"]):n}function Ch(n,t){return(n==null?void 0:n.tip)===!0?{...n,tip:t}:ie(n==null?void 0:n.tip)&&n.tip.pointer===void 0?{...n,tip:{...n.tip,pointer:t}}:n}function h5(n,t,e={}){let r=.5-Nn,i=.5+Nn,a=.5+Nn,o=.5-Nn;for(const{marginTop:g,marginRight:m,marginBottom:w,marginLeft:b}of t)g>r&&(r=g),m>i&&(i=m),w>a&&(a=w),b>o&&(o=b);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:c=f!==void 0?f:a,marginLeft:d=f!==void 0?f:o}=e;u=+u,s=+s,c=+c,d=+d;let{width:l=640,height:h=p5(n,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,u-r+c-a)}=e;l=+l,h=+h;const p={width:l,height:h,marginTop:u,marginRight:s,marginBottom:c,marginLeft:d};if(n.fx||n.fy){let{margin:g,marginTop:m=g!==void 0?g:u,marginRight:w=g!==void 0?g:s,marginBottom:b=g!==void 0?g:c,marginLeft:v=g!==void 0?g:d}=e.facet??{};m=+m,w=+w,b=+b,v=+v,p.facet={marginTop:m,marginRight:w,marginBottom:b,marginLeft:v}}return p}function p5({x:n,y:t,fy:e,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:s,marginLeftDefault:c}){const d=e&&e.scale.domain().length||1,l=Bw(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,m=Math.max(.1,Math.min(10,g));return Math.round((o-c-u)*m+f+s)}const h=t?oe(t)?t.scale.domain().length||1:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=Wc("y",t)/(Wc("x",n)*a),g=r?r.scale.bandwidth():1,m=e?e.scale.bandwidth():1,w=g*(o-c-u)-n.insetLeft-n.insetRight;return(p*w+t.insetTop+t.insetBottom)/m+f+s}return!!(t||e)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function Wc(n,t){if(!t)throw new Error(`aspectRatio requires ${n} scale`);const{type:e,domain:r}=t;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${n} scale for aspectRatio: ${e}`)}const[a,o]=Et(r);return Math.abs(i(o)-i(a))}const Vc=new WeakMap;function ou(n,t,{x:e,y:r,px:i,py:a,maxRadius:o=40,channels:f,render:u,...s}={}){return o=+o,i!=null&&(e??(e=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:e,y:r,channels:f,...s,render:Ah(function(c,d,l,h,p,g){p={...p,pointerSticky:!1};const m=p.ownerSVGElement,{data:w}=p.getMarkState(this);let b=Vc.get(m);b||Vc.set(m,b={sticky:!1,roots:[],renders:[]});let v=b.renders.push(I)-1;const{x:y,y:M,fx:$,fy:x}=d;let T=$?$(c.fx)-h.marginLeft:0,A=x?x(c.fy)-h.marginTop:0;y!=null&&y.bandwidth&&(T+=y.bandwidth()/2),M!=null&&M.bandwidth&&(A+=M.bandwidth()/2);const N=c.fi!=null;let _;if(N){let U=b.facetStates;U||(b.facetStates=U=new Map),_=U.get(this),_||U.set(this,_=new Map)}const[D,R]=_a(this,h),{px:L,py:S}=l,F=L?U=>L[U]:Eh(l,D),Y=S?U=>S[U]:Nh(l,R);let z,W,k,P;function q(U,B){if(N)if(P&&(P=cancelAnimationFrame(P)),U==null)_.delete(c.fi);else{_.set(c.fi,B),P=requestAnimationFrame(()=>{P=null;for(const[E,O]of _)if(O<B||O===B&&E<c.fi){U=null;break}I(U)});return}I(U)}function I(U){if(z===U&&k===b.sticky)return;z=U,k=p.pointerSticky=b.sticky;const B=z==null?[]:[z];N&&(B.fx=c.fx,B.fy=c.fy,B.fi=c.fi);const E=g(B,d,l,h,p);if(W){if(N){const O=W.parentNode,H=W.getAttribute("transform"),C=E.getAttribute("transform");H?E.setAttribute("transform",H):E.removeAttribute("transform"),C?O.setAttribute("transform",C):O.removeAttribute("transform"),E.removeAttribute("aria-label"),E.removeAttribute("aria-description"),E.removeAttribute("aria-hidden")}W.replaceWith(E)}if(b.roots[v]=W=E,!(z==null&&(_==null?void 0:_.size)>1)){const O=z==null?null:Fr(w)?w[z]:w.get(z);p.dispatchValue(O)}return E}function G(U){if(b.sticky||U.pointerType==="mouse"&&U.buttons===1)return;let[B,E]=Rg(U);B-=T,E-=A;const O=B<h.marginLeft||B>h.width-h.marginRight?1:n,H=E<h.marginTop||E>h.height-h.marginBottom?1:t;let C=null,an=o*o;for(const V of c){const fn=O*(F(V)-B),ln=H*(Y(V)-E),Cn=fn*fn+ln*ln;Cn<=an&&(C=V,an=Cn)}if(C!=null&&(n!==1||t!==1)){const V=F(C)-B,fn=Y(C)-E;an=V*V+fn*fn}q(C,an)}function nn(U){U.pointerType==="mouse"&&z!=null&&(b.sticky&&b.roots.some(B=>B==null?void 0:B.contains(U.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(B=>B(null))):(b.sticky=!0,I(z)),U.stopImmediatePropagation()))}function Q(U){U.pointerType==="mouse"&&(b.sticky||q(null))}return m.addEventListener("pointerenter",G),m.addEventListener("pointermove",G),m.addEventListener("pointerdown",nn),m.addEventListener("pointerleave",Q),I(null)},u)}}function g5(n){return ou(1,1,n)}function m5(n){return ou(1,.01,n)}function Gc(n){return ou(.01,1,n)}function Eh({x1:n,x2:t,x:e=n},r){return n&&t?i=>(n[i]+t[i])/2:e?i=>e[i]:()=>r}function Nh({y1:n,y2:t,y:e=n},r){return n&&t?i=>(n[i]+t[i])/2:e?i=>e[i]:()=>r}function kh(n){return oe(n)&&n.interval===void 0?void 0:"tabular-nums"}function b5(n,t){let{label:e=n.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:s=0,style:c,ticks:d=(i-s-f)/64,tickFormat:l,fontVariant:h=kh(n),round:p=!0,opacity:g,className:m}=t;const w=eu(t);m=iu(m),g=En(g)[1],l===null&&(l=()=>null);const b=An("svg",w).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(D=>D.append("style").text(`:where(.${m}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${m}-ramp text) {
  white-space: pre;
}`)).call(au,c);let v=D=>D.selectAll(".tick line").attr("y1",o+u-a),y;const M=p?(D,R)=>D.rangeRound(R):(D,R)=>D.range(R),{type:$,domain:x,range:T,interpolate:A,scale:N,pivot:_}=n;if(A){const D=T===void 0?A:ea(A.length===1?Jf(A):A,T);y=M(N.copy(),Wn(wn(s,i-f),Math.min(x.length+(_!==void 0),T===void 0?1/0:T.length)));const R=256,L=w.document.createElement("canvas");L.width=R,L.height=1;const S=L.getContext("2d");for(let F=0,Y=R-1;F<R;++F)S.fillStyle=D(F/Y),S.fillRect(F,0,1,1);b.append("image").attr("opacity",g).attr("x",s).attr("y",o).attr("width",i-s-f).attr("height",a-o-u).attr("preserveAspectRatio","none").attr("xlink:href",L.toDataURL())}else if($==="threshold"){const D=x,R=l===void 0?L=>L:typeof l=="string"?De(l):l;y=M(Df().domain([-1,T.length-1]),[s,i-f]),b.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",(L,S)=>y(S-1)).attr("y",o).attr("width",(L,S)=>y(S)-y(S-1)).attr("height",a-o-u).attr("fill",L=>L),d=dn(D,(L,S)=>S),l=L=>R(D[L],L)}else y=M(ua().domain(x),[s,i-f]),b.append("g").attr("fill-opacity",g).selectAll().data(x).enter().append("rect").attr("x",y).attr("y",o).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",a-o-u).attr("fill",N),v=()=>{};return b.append("g").attr("transform",`translate(0,${a-u})`).call(j1(y).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",yn(h,"normal")).call(v).call(D=>D.select(".domain").remove()),e!==void 0&&b.append("text").attr("x",s).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),b.node()}const Dh=Math.PI/180;function Ih(n,{marker:t,markerStart:e=t,markerMid:r=t,markerEnd:i=t}={}){n.markerStart=ao(e),n.markerMid=ao(r),n.markerEnd=ao(i)}function ao(n){if(n==null||n===!1)return null;if(n===!0)return Zc;if(typeof n=="function")return n;switch(`${n}`.toLowerCase()){case"none":return null;case"arrow":return Xc("auto");case"arrow-reverse":return Xc("auto-start-reverse");case"dot":return y5;case"circle":case"circle-fill":return Zc;case"circle-stroke":return w5;case"tick":return oo("auto");case"tick-x":return oo(90);case"tick-y":return oo(0)}throw new Error(`invalid marker: ${n}`)}function Xc(n){return(t,e)=>An("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",n).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function y5(n,t){return An("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",n).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function Zc(n,t){return An("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",n).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function w5(n,t){return An("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",n).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function oo(n){return(t,e)=>An("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",n).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let v5=0;function Lh(n,t,{stroke:e},r){return x5(n,t,e&&(i=>e[i]),null,r)}function x5(n,{markerStart:t,markerMid:e,markerEnd:r,stroke:i},a=()=>i,o,f){if(!t&&!e&&!r)return;const u=new Map,s=o;function c(d,l,h){return function(p){if(h&&!h(p))return;const g=a(p);let m=u.get(l);m||u.set(l,m=new Map);let w=m.get(g);if(!w){const b=this.parentNode.insertBefore(l(g,f),this),v=`plot-marker-${++v5}`;b.setAttribute("id",v),m.set(g,w=`url(#${v})`)}this.setAttribute(d,w)}}t&&n.each(c("marker-start",t,s)),e&&n.each(c("marker-mid",e)),r&&n.each(c("marker-end",r,s))}function Rh({inset:n,insetLeft:t,insetRight:e,...r}={}){return[t,e]=Ph(n,t,e),{inset:n,insetLeft:t,insetRight:e,...r}}function Fh({inset:n,insetTop:t,insetBottom:e,...r}={}){return[t,e]=Ph(n,t,e),{inset:n,insetTop:t,insetBottom:e,...r}}function Ph(n,t,e){return n===void 0&&t===void 0&&e===void 0?Nn?[1,0]:[.5,.5]:[t,e]}function Oh(n,{interval:t}){return n={...ya(n)},n.interval=Wf(n.interval===void 0?t:n.interval),n}function Uh(n,t,e,r){const{[n]:i,[`${n}1`]:a,[`${n}2`]:o}=e,{value:f,interval:u}=Oh(i,e);if(f==null||u==null&&!r)return e;const s=Or(i);if(u==null){let h;const p={transform:g=>h||(h=kt(g,f)),label:s};return{...e,[n]:void 0,[`${n}1`]:a===void 0?p:a,[`${n}2`]:o===void 0&&!(a===o&&r)?p:o}}let c,d;function l(h){return d!==void 0&&h===c?d:d=dn(kt(c=h,f),p=>u.floor(p))}return t({...e,[n]:void 0,[`${n}1`]:a===void 0?{transform:l,label:s}:a,[`${n}2`]:o===void 0?{transform:h=>l(h).map(p=>u.offset(p)),label:s}:o})}function qh(n,t,e){const{[n]:r}=e,{value:i,interval:a}=Oh(r,e);return i==null||a==null?e:t({...e,[n]:{label:Or(r),transform:o=>{const f=dn(kt(o,i),s=>a.floor(s)),u=f.map(s=>a.offset(s));return f.map(Hn(f)?(s,c)=>s==null||isNaN(s=+s)||(c=u[c],c==null)||isNaN(c=+c)?void 0:new Date((s+c)/2):(s,c)=>s==null||(c=u[c],c==null)?NaN:(+s+ +c)/2)}}})}function M5(n={}){return Uh("x",Rh,n)}function $5(n={}){return Uh("y",Fh,n)}function _5(n={}){return qh("x",Rh,n)}function T5(n={}){return qh("y",Fh,n)}const Hh={ariaLabel:"rule",fill:null,stroke:"currentColor"};class S5 extends _t{constructor(t,e={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:f=o,insetBottom:u=o}=e;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Ch(e,"x"),Hh),this.insetTop=Mn(f),this.insetBottom=Mn(u),Ih(this,e)}render(t,e,r,i,a){const{x:o,y:f}=e,{x:u,y1:s,y2:c}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:w,insetBottom:b}=this;return An("svg:g",a).call(Le,this,i,a).call(Fe,this,{x:u&&o},Nn,0).call(v=>v.selectAll().data(t).enter().append("line").call(Re,this).attr("x1",u?y=>u[y]:(g+d-p)/2).attr("x2",u?y=>u[y]:(g+d-p)/2).attr("y1",s&&!Xi(f)?y=>s[y]+w:h+w).attr("y2",c&&!Xi(f)?f.bandwidth?y=>c[y]+f.bandwidth()-b:y=>c[y]-b:l-m-b).call(Wr,this,r).call(Lh,this,r,a)).node()}}class A5 extends _t{constructor(t,e={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:f=o,insetLeft:u=o}=e;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Ch(e,"y"),Hh),this.insetRight=Mn(f),this.insetLeft=Mn(u),Ih(this,e)}render(t,e,r,i,a){const{x:o,y:f}=e,{y:u,x1:s,x2:c}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:w,insetRight:b}=this;return An("svg:g",a).call(Le,this,i,a).call(Fe,this,{y:u&&f},0,Nn).call(v=>v.selectAll().data(t).enter().append("line").call(Re,this).attr("x1",s&&!Xi(o)?y=>s[y]+w:g+w).attr("x2",c&&!Xi(o)?o.bandwidth?y=>c[y]+o.bandwidth()-b:y=>c[y]-b:d-p-b).attr("y1",u?y=>u[y]:(h+l-m)/2).attr("y2",u?y=>u[y]:(h+l-m)/2).call(Wr,this,r).call(Lh,this,r,a)).node()}}function C5(n,t){let{x:e=ut,y:r,y1:i,y2:a,...o}=$5(t);return[i,a]=zh(r,i,a),new S5(n,{...o,x:e,y1:i,y2:a})}function E5(n,t){let{y:e=ut,x:r,x1:i,x2:a,...o}=M5(t);return[i,a]=zh(r,i,a),new A5(n,{...o,y:e,x1:i,x2:a})}function zh(n,t,e){if(n==null){if(t===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,t]}else{if(t===void 0)return e===void 0?[0,n]:[n,e];if(e===void 0)return[n,t]}return[t,e]}function Bh(n,...t){let e=t.length;for(let r=0,i=!0;r<e;++r)typeof t[r]!="function"&&(i&&(n=n.slice(),i=!1),n.splice(r,2,n[r]+t[r]+n[r+1]),t.splice(r,1),--r,--e);return r=>{let i=n[0];for(let a=0;a<e;++a)i+=t[a](r)+n[a+1];return i}}const N5={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Yh="";class fu extends _t{constructor(t,e={}){const{x:r,y:i,text:a=ae(t)&&K0(t)?ut:B6,frameAnchor:o,textAnchor:f=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:u=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:s=1,lineWidth:c=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:w,rotate:b}=e,[v,y]=En(b,0),[M,$]=F5(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:t8(v),optional:!0},text:{value:a,filter:I0,optional:!0}},e,N5),this.rotate=y,this.textAnchor=yn(f,"middle"),this.lineAnchor=Zn(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+c,this.textOverflow=Wh(d),this.monospace=!!l,this.fontFamily=vn(h),this.fontSize=$,this.fontStyle=vn(g),this.fontVariant=vn(m),this.fontWeight=vn(w),this.frameAnchor=Vf(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=Xh(this),this.clipLine=Zh(this)}render(t,e,r,i,a){const{x:o,y:f}=e,{x:u,y:s,rotate:c,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,m]=_a(this,i);return An("svg:g",a).call(Le,this,i,a).call(Gh,this,d,i).call(Fe,this,{x:u&&o,y:s&&f}).call(w=>w.selectAll().data(t).enter().append("text").call(Re,this).call(k5,this,d,l).attr("transform",Bh`translate(${u?b=>u[b]:g},${s?b=>s[b]:m})${c?b=>` rotate(${c[b]})`:p?` rotate(${p})`:""}`).call(tn,"font-size",h&&(b=>h[b])).call(Wr,this,r)).node()}}function Wh(n){return n==null?null:Zn(n,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function k5(n,t,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:f,clipLine:u}=t;n.each(function(s){const c=f(vr(e[s])??"").map(u),d=c.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!c[p])continue;const g=this.ownerDocument.createElementNS(me.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*a}em`):g.setAttribute("dy",`${h*a}em`),g.textContent=c[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=c[0];if(o&&!r&&c[0]!==e[s]){const h=this.ownerDocument.createElementNS(me.svg,"title");h.textContent=e[s],this.appendChild(h)}})}function Vh(n,{x:t,y:e,...r}={}){return r.frameAnchor===void 0&&([t,e]=X0(t,e)),new fu(n,{...r,x:t,y:e})}function D5(n,{x:t=ut,...e}={}){return new fu(n,T5({...e,x:t}))}function I5(n,{y:t=ut,...e}={}){return new fu(n,_5({...e,y:t}))}function Gh(n,t,e){tn(n,"text-anchor",t.textAnchor),tn(n,"font-family",t.fontFamily),tn(n,"font-size",t.fontSize),tn(n,"font-style",t.fontStyle),tn(n,"font-variant",t.fontVariant===void 0?L5(e):t.fontVariant),tn(n,"font-weight",t.fontWeight)}function L5(n){return n&&(i8(n)||Hn(n))?"tabular-nums":void 0}const R5=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function F5(n){return n==null||typeof n=="number"?[void 0,n]:typeof n!="string"?[n,void 0]:(n=n.trim().toLowerCase(),R5.has(n)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(n)?[void 0,n]:[n,void 0])}function P5(n,t,e){const r=[];let i,a=0;for(const[o,f,u]of O5(n)){if(i===void 0&&(i=o),a>i&&e(n,i,f)>t&&(r.push(n.slice(i,a)+(n[a-1]===Yh?"-":"")),i=o),u){r.push(n.slice(i,f)),i=void 0;continue}a=f}return r}function*O5(n){let t=0,e=0;const r=n.length;for(;e<r;){let i=1;switch(n[e]){case Yh:case"-":++e,yield[t,e,!1],t=e;break;case" ":for(yield[t,e,!1];n[++e]===" ";);t=e;break;case"\r":n[e+1]===`
`&&++i;case`
`:yield[t,e,!0],e+=i,t=e;break;default:++e;break}}yield[t,e,!0]}const Kc={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function uu(n,t=0,e=n.length){let r=0;for(let i=t;i<e;i=Pe(n,i))r+=Kc[n[i]]??(Qh(n,i)?120:Kc.e);return r}function cu(n,t=0,e=n.length){let r=0;for(let i=t;i<e;i=Pe(n,i))r+=Qh(n,i)?126:63;return r}function Xh({monospace:n,lineWidth:t,textOverflow:e}){if(e!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=n?cu:uu,i=t*100;return a=>P5(a,i,r)}function Zh({monospace:n,lineWidth:t,textOverflow:e}){if(e==null||t==1/0)return a=>a;const r=n?cu:uu,i=t*100;switch(e){case"clip-start":return a=>jc(a,i,r,"");case"clip-end":return a=>Qc(a,i,r,"");case"ellipsis-start":return a=>jc(a,i,r,ge);case"ellipsis-middle":return a=>U5(a,i,r,ge);case"ellipsis-end":return a=>Qc(a,i,r,ge)}}const ge="";function Ne(n,t,e,r){const i=[];let a=0;for(let o=0,f=0,u=n.length;o<u;o=f){f=Pe(n,o);const s=e(n,o,f);if(a+s>t){for(a+=r;a>t&&o>0;)f=o,o=i.pop(),a-=e(n,o,f);return[o,t-a]}a+=s,i.push(o)}return[-1,0]}function Qc(n,t,e,r){n=n.trim();const i=e(r),[a]=Ne(n,t,e,i);return a<0?n:n.slice(0,a).trimEnd()+r}function U5(n,t,e,r){n=n.trim();const i=e(n);if(i<=t)return n;const a=e(r)/2,[o,f]=Ne(n,t/2,e,a),[u]=Ne(n,i-t/2-f+a,e,-a);return u<0?r:n.slice(0,o).trimEnd()+r+n.slice(Pe(n,u)).trimStart()}function jc(n,t,e,r){n=n.trim();const i=e(n);if(i<=t)return n;const a=e(r),[o]=Ne(n,i-t+a,e,-a);return o<0?r:r+n.slice(Pe(n,o)).trimStart()}const cf=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Jc=new RegExp("\\p{Extended_Pictographic}","uy");function Pe(n,t){return t+=q5(n,t)?2:1,z5(n,t)&&(t=cf.lastIndex),H5(n,t)?Pe(n,t+1):t}function Kh(n,t){return n.charCodeAt(t)<128}function q5(n,t){const e=n.charCodeAt(t);if(e>=55296&&e<56320){const r=n.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function H5(n,t){return n.charCodeAt(t)===8205}function z5(n,t){return Kh(n,t)?!1:(cf.lastIndex=t,cf.test(n))}function Qh(n,t){return Kh(n,t)?!1:(Jc.lastIndex=t,Jc.test(n))}const B5={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},jh=3.5,Y5=jh*5,Jh={draw(n,t,e){const r=t*e/Y5;n.moveTo(0,0),n.lineTo(0,-t),n.moveTo(-r,r-t),n.lineTo(0,-t),n.lineTo(r,r-t)}},W5={draw(n,t,e){n.moveTo(-e,0),n.lineTo(0,-t),n.lineTo(e,0)}},V5=new Map([["arrow",Jh],["spike",W5]]);function G5(n){return n&&typeof n.draw=="function"}function X5(n){if(G5(n))return n;const t=V5.get(`${n}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${n}`)}class n1 extends _t{constructor(t,e={}){const{x:r,y:i,r:a=jh,length:o,rotate:f,shape:u=Jh,anchor:s="middle",frameAnchor:c}=e,[d,l]=En(o,12),[h,p]=En(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,B5),this.r=+a,this.length=l,this.rotate=p,this.shape=X5(u),this.anchor=Zn(s,"anchor",["start","middle","end"]),this.frameAnchor=Vf(c)}render(t,e,r,i,a){const{x:o,y:f}=e,{x:u,y:s,length:c,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:m}=this,[w,b]=_a(this,i);return An("svg:g",a).call(Le,this,i,a).call(Fe,this,{x:u&&o,y:s&&f}).call(v=>v.selectAll().data(t).enter().append("path").call(Re,this).attr("transform",Bh`translate(${u?y=>u[y]:w},${s?y=>s[y]:b})${d?y=>` rotate(${d[y]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?y=>` translate(0,${c[y]})`:` translate(0,${l})`:c?y=>` translate(0,${c[y]/2})`:` translate(0,${l/2})`}`).attr("d",c?y=>{const M=Co();return g.draw(M,c[y],m),M}:(()=>{const y=Co();return g.draw(y,l,m),y})()).call(Wr,this,r)).node()}}function Z5(n,t={}){const{x:e=ut,...r}=t;return new n1(n,{...r,x:e})}function K5(n,t={}){const{y:e=ut,...r}=t;return new n1(n,{...r,y:e})}function Rt(n,t){return arguments.length<2&&!ae(n)&&(t=n,n=null),t===void 0&&(t={}),[n,t]}function Ta({anchor:n}={},t){return n===void 0?t[0]:Zn(n,"anchor",t)}function t1(n){return Ta(n,["left","right"])}function e1(n){return Ta(n,["right","left"])}function r1(n){return Ta(n,["bottom","top"])}function i1(n){return Ta(n,["top","bottom"])}function a1(){const[n,t]=Rt(...arguments);return f1("y",t1(t),n,t)}function Q5(){const[n,t]=Rt(...arguments);return f1("fy",e1(t),n,t)}function o1(){const[n,t]=Rt(...arguments);return u1("x",r1(t),n,t)}function j5(){const[n,t]=Rt(...arguments);return u1("fx",i1(t),n,t)}function f1(n,t,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:s=i,textAnchor:c,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=n==="y"?6:0,tickPadding:g,tickRotate:m,x:w,margin:b,marginTop:v=b===void 0?20:b,marginRight:y=b===void 0?t==="right"?40:0:b,marginBottom:M=b===void 0?20:b,marginLeft:$=b===void 0?t==="left"?40:0:b,label:x,labelAnchor:T,labelArrow:A,labelOffset:N,ariaLabel:_=`${n}-axis`,...D}){return p=Mn(p),g=Mn(g),m=Mn(m),T!==void 0&&(T=Zn(T,"labelAnchor",["center","top","bottom"])),A=m1(A),Sh(p&&!Tn(a)?J5(n,t,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,x:w,ariaLabel:_,...D}):null,Tn(u)?null:t3(n,t,e,{fill:u,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:m,x:w,marginTop:v,marginRight:y,marginBottom:M,marginLeft:$,ariaLabel:_,...D}),!Tn(u)&&x!==null?Vh([],d1({fill:u,fillOpacity:s,...D},function(R,L,S,F,Y){const z=F[n],{marginTop:W,marginRight:k,marginBottom:P,marginLeft:q}=n==="y"&&Y.inset||Y,I=T??(z.bandwidth?"center":"top"),G=N??(t==="right"?k:q)-3;return I==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=I,this.frameAnchor=`${I}-${t}`,this.rotate=0),this.dy=I==="top"?3-W:I==="bottom"?P-3:0,this.dx=t==="right"?G:-G,this.ariaLabel=`${_} label`,{facets:[[0]],channels:{text:{value:[g1(n,z,{anchor:t,label:x,labelAnchor:I,labelArrow:A})]}}}})):null)}function u1(n,t,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:s=i,textAnchor:c,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=n==="x"?6:0,tickPadding:g,tickRotate:m,y:w,margin:b,marginTop:v=b===void 0?t==="top"?30:0:b,marginRight:y=b===void 0?20:b,marginBottom:M=b===void 0?t==="bottom"?30:0:b,marginLeft:$=b===void 0?20:b,label:x,labelAnchor:T,labelArrow:A,labelOffset:N,ariaLabel:_=`${n}-axis`,...D}){return p=Mn(p),g=Mn(g),m=Mn(m),T!==void 0&&(T=Zn(T,"labelAnchor",["center","left","right"])),A=m1(A),Sh(p&&!Tn(a)?n3(n,t,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,y:w,ariaLabel:_,...D}):null,Tn(u)?null:e3(n,t,e,{fill:u,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:m,y:w,marginTop:v,marginRight:y,marginBottom:M,marginLeft:$,ariaLabel:_,...D}),!Tn(u)&&x!==null?Vh([],d1({fill:u,fillOpacity:s,...D},function(R,L,S,F,Y){const z=F[n],{marginTop:W,marginRight:k,marginBottom:P,marginLeft:q}=n==="x"&&Y.inset||Y,I=T??(z.bandwidth?"center":"right"),G=N??(t==="top"?W:P)-3;return I==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${I}`,this.textAnchor=I==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-G:G,this.dx=I==="right"?k-3:I==="left"?3-q:0,this.ariaLabel=`${_} label`,{facets:[[0]],channels:{text:{value:[g1(n,z,{anchor:t,label:x,labelAnchor:I,labelArrow:A})]}}}})):null)}function J5(n,t,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(n==="y"?"-empty":""),frameAnchor:f=t,tickSize:u,inset:s=0,insetLeft:c=s,insetRight:d=s,dx:l=0,y:h=n==="y"?void 0:null,ariaLabel:p,...g}){return Oe(K5,n,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:f,y:h,...g,dx:t==="left"?+l-Nn+ +c:+l+Nn-d,anchor:"start",length:u,shape:t==="left"?s3:l3})}function n3(n,t,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(n==="x"?"-empty":""),frameAnchor:f=t,tickSize:u,inset:s=0,insetTop:c=s,insetBottom:d=s,dy:l=0,x:h=n==="x"?void 0:null,ariaLabel:p,...g}){return Oe(Z5,n,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:f,x:h,...g,dy:t==="bottom"?+l-Nn-d:+l+Nn+ +c,anchor:"start",length:u,shape:t==="bottom"?u3:c3})}function t3(n,t,e,{facetAnchor:r=t+(n==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*Dh):0),text:u,textAnchor:s=Math.abs(o)>60?"middle":t==="left"?"end":"start",lineAnchor:c=o>60?"top":o<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,ariaLabel:m,y:w=n==="y"?void 0:null,...b}){return Oe(I5,n,e,{ariaLabel:`${m} tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:s,lineAnchor:c,fontVariant:d,rotate:o,y:w,...b,dx:t==="left"?+g-a-f+ +h:+g+ +a+ +f-p},function(v,y,M,$,x){d===void 0&&(this.fontVariant=p1(v)),u===void 0&&(x.text=h1(v,y,M,$,t))})}function e3(n,t,e,{facetAnchor:r=t+(n==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*Dh):0),text:u,textAnchor:s=Math.abs(o)>=10?o<0^t==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(o)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:m=n==="x"?void 0:null,ariaLabel:w,...b}){return Oe(D5,n,e,{ariaLabel:`${w} tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:s,lineAnchor:c,fontVariant:d,rotate:o,x:m,...b,dy:t==="bottom"?+g+ +a+ +f-p:+g-a-f+ +h},function(v,y,M,$,x){d===void 0&&(this.fontVariant=p1(v)),u===void 0&&(x.text=h1(v,y,M,$,t))})}function r3(){const[n,t]=Rt(...arguments);return c1("y",t1(t),n,t)}function i3(){const[n,t]=Rt(...arguments);return c1("fy",e1(t),n,t)}function a3(){const[n,t]=Rt(...arguments);return s1("x",r1(t),n,t)}function o3(){const[n,t]=Rt(...arguments);return s1("fx",i1(t),n,t)}function c1(n,t,e,{y:r=n==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:o=t==="right"?i:null,ariaLabel:f=`${n}-grid`,ariaHidden:u=!0,...s}){return Oe(E5,n,e,{ariaLabel:f,ariaHidden:u},{y:r,x1:a,x2:o,...l1(s)})}function s1(n,t,e,{x:r=n==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:o=t==="bottom"?i:null,ariaLabel:f=`${n}-grid`,ariaHidden:u=!0,...s}){return Oe(C5,n,e,{ariaLabel:f,ariaHidden:u},{x:r,y1:a,y2:o,...l1(s)})}function l1({color:n="currentColor",opacity:t=.1,stroke:e=n,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function d1({fill:n,fillOpacity:t,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:s,clip:c=!1},d){return[,n]=Jt(n),[,t]=En(t),{facet:"super",x:null,y:null,fill:n,fillOpacity:t,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:s,clip:c,initializer:d}}function Oe(n,t,e,r,i,a){let o;function f(c,d,l,h,p,g){const m=c==null&&(t==="fx"||t==="fy"),{[t]:w}=h;if(!w)throw new Error(`missing scale: ${t}`);const b=w.domain();let{interval:v,ticks:y,tickFormat:M,tickSpacing:$=t==="x"?80:35}=i;if(typeof y=="string"&&b1(w)&&(v=y,y=void 0),y===void 0&&(y=Ur(v,w.type)??f3(w,$)),c==null){if(ae(y))c=re(y);else if(n8(y))c=fo(y,...Et(b));else if(w.interval){let T=w.interval;if(w.ticks){const[A,N]=Et(b),_=(N-A)/T[Rr];T=vc(T,_/y)??T,c=fo(T,A,N)}else{c=b;const A=c.length;T=vc(T,A/y)??T,T!==w.interval&&(c=fo(T,...Et(c)))}if(T===w.interval){const A=Math.round(c.length/y);A>1&&(c=c.filter((N,_)=>_%A===0))}}else w.ticks?c=w.ticks(y):c=b;if(!w.ticks&&c.length&&c!==b){const T=new Qi(b);c=c.filter(A=>T.has(A)),c.length||Bt(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?d=[Pr(c)]:o[t]={scale:t,value:ut}}a==null||a.call(this,w,c,y,M,o);const x=Object.fromEntries(Object.entries(o).map(([T,A])=>[T,{...A,value:kt(c,A.value)}]));return m&&(d=g.filterFacets(c,x)),{data:c,facets:d,channels:x}}const u=Ee(i).initializer,s=n(e,Ee({...i,initializer:f},u));return e==null?(o=s.channels,s.channels={}):o={},r!==void 0&&Object.assign(s,r),s.clip===void 0&&(s.clip=!1),s}function f3(n,t){const[e,r]=Et(n.range());return(r-e)/t}function h1(n,t,e,r,i){return{value:su(n,t,e,r,i)}}function su(n,t,e,r,i){return typeof r=="function"&&!(n.type==="log"&&n.tickFormat)?r:r===void 0&&t&&Hn(t)?F6(n.type,t,i)??vr:n.tickFormat?n.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&n.domain().length>0?(Hn(n.domain())?Lr:De)(r):r===void 0?vr:wt(r)}function fo(n,t,e){return n.range(t,n.offset(n.floor(e)))}const u3={draw(n,t){n.moveTo(0,0),n.lineTo(0,t)}},c3={draw(n,t){n.moveTo(0,0),n.lineTo(0,-t)}},s3={draw(n,t){n.moveTo(0,0),n.lineTo(-t,0)}},l3={draw(n,t){n.moveTo(0,0),n.lineTo(t,0)}};function p1(n){return n.bandwidth&&!n.interval?void 0:"tabular-nums"}function g1(n,t,{anchor:e,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&b1(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[]/.test(r)),!a)return r;if(a===!0){const o=yw(t);o&&(a=/x$/.test(n)||i==="center"?/x$/.test(n)===o<0?"left":"right":o<0?"up":"down")}switch(a){case"left":return` ${r}`;case"right":return`${r} `;case"up":return e==="right"?`${r} `:` ${r}`;case"down":return e==="right"?`${r} `:` ${r}`}return r}}function m1(n="auto"){return Tn(n)?!1:typeof n=="boolean"?n:Zn(n,"labelArrow",["auto","up","right","down","left"])}function b1(n){return Hn(n.domain())}function ns(n,t){if(t==null)return t;const e=n(t);if(!e)throw new Error(`scale not found: ${t}`);return e}function d3(n,{opacity:t,...e}={}){if(!oe(n)&&!Mh(n))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${n.type})`);return y1(n,e,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",En(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function h3(n,{fill:t=(s=>(s=n.hint)==null?void 0:s.fill)()!==void 0?n.hint.fill:"none",fillOpacity:e=1,stroke:r=(c=>(c=n.hint)==null?void 0:c.stroke)()!==void 0?n.hint.stroke:Tn(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...f}={},u){const[d,l]=Jt(t),[h,p]=Jt(r),g=ns(u,d),m=ns(u,h),w=o*o*Math.PI;return e=En(e)[1],i=En(i)[1],a=En(a)[1],y1(n,f,(b,v,y,M)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",M).attr("fill",d==="color"?$=>g.scale($):l).attr("fill-opacity",e).attr("stroke",h==="color"?$=>m.scale($):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",$=>{const x=Co();return n.scale($).draw(x,w),x}))}function y1(n,t={},e){let{columns:r,tickFormat:i,fontVariant:a=kh(n),swatchSize:o=15,swatchWidth:f=o,swatchHeight:u=o,marginLeft:s=0,className:c,style:d,width:l}=t;const h=eu(t);c=iu(c),i=su(n.scale,n.domain,void 0,i);const p=An("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${c}-swatches-columns .${c}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${c}-swatches-columns .${c}-swatch::before) {
  flex-shrink: 0;
}
:where(.${c}-swatches-columns .${c}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(n.domain).enter().append("div").attr("class",`${c}-swatch`).call(e,n,f,u).call(m=>m.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${c}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${c}-swatches-wrap .${c}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(n.domain).enter().append("span").attr("class",`${c}-swatch`).call(e,n,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`:where(.${c}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${c}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",yn(a,"normal")).call(au,d).node()}const sf=new Map([["symbol",h3],["color",v1],["opacity",g3]]);function p3(n,t,e={}){return(r,i)=>{if(!sf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in n)return sf.get(r)(n[r],w1(t,e[r],i),a=>n[a])}}function w1({className:n,...t},{label:e,ticks:r,tickFormat:i}={},a){return u8(a,{className:n,...t},{label:e,ticks:r,tickFormat:i})}function v1(n,{legend:t=!0,...e}){if(t===!0&&(t=n.type==="ordinal"?"swatches":"ramp"),n.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return d3(n,e);case"ramp":return b5(n,e);default:throw new Error(`unknown legend type: ${t}`)}}function g3({type:n,interpolate:t,...e},{legend:r=!0,color:i=Nt(0,0,0),...a}){if(!t)throw new Error(`${n} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return v1({type:n,...e,interpolate:m3(i)},{legend:r,...a})}function m3(n){const{r:t,g:e,b:r}=Nt(n)||Nt(0,0,0);return i=>`rgba(${t},${e},${r},${i})`}function b3(n,t,e){const r=[];for(const[i,a]of sf){const o=e[i];if(o!=null&&o.legend&&i in n){const f=a(n[i],w1(t,n[i],o),u=>n[u]);f!=null&&r.push(f)}}return r}function y3(n,{inset:t=0,insetTop:e=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={}){n.insetTop=Mn(e),n.insetRight=Mn(r),n.insetBottom=Mn(i),n.insetLeft=Mn(a)}function w3(n,{r:t,rx:e,ry:r,rx1:i=t,ry1:a=t,rx2:o=t,ry2:f=t,rx1y1:u=i!==void 0?+i:a!==void 0?+a:0,rx1y2:s=i!==void 0?+i:f!==void 0?+f:0,rx2y1:c=o!==void 0?+o:a!==void 0?+a:0,rx2y2:d=o!==void 0?+o:f!==void 0?+f:0}={}){u||s||c||d?(n.rx1y1=u,n.rx1y2=s,n.rx2y1=c,n.rx2y2=d):(n.rx=yn(e,"auto"),n.ry=yn(r,"auto"))}function v3(n,t,e,r,i,a){const{rx1y1:o,rx1y2:f,rx2y1:u,rx2y2:s}=a;typeof t!="function"&&(t=wt(t)),typeof e!="function"&&(e=wt(e)),typeof r!="function"&&(r=wt(r)),typeof i!="function"&&(i=wt(i));const c=Math.max(Math.abs(o+u),Math.abs(f+s)),d=Math.max(Math.abs(o+f),Math.abs(u+s));n.attr("d",l=>{const h=t(l),p=e(l),g=r(l),m=i(l),w=h>g,b=p>m,v=w?g:h,y=w?h:g,M=b?m:p,$=b?p:m,x=Math.min(1,(y-v)/c,($-M)/d),T=x*(w?b?s:u:b?f:o),A=x*(w?b?f:o:b?s:u),N=x*(w?b?o:f:b?u:s),_=x*(w?b?u:s:b?o:f);return`M${v},${M+ui(T,_)}A${T},${T} 0 0 ${T<0?0:1} ${v+fi(T,_)},${M}H${y-fi(A,N)}A${A},${A} 0 0 ${A<0?0:1} ${y},${M+ui(A,N)}V${$-ui(N,A)}A${N},${N} 0 0 ${N<0?0:1} ${y-fi(N,A)},${$}H${v+fi(_,T)}A${_},${_} 0 0 ${_<0?0:1} ${v},${$-ui(_,T)}Z`})}function fi(n,t){return t<0?n:Math.abs(n)}function ui(n,t){return t<0?Math.abs(n):n}const x3={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},M3={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class $3 extends _t{constructor(t={}){const{anchor:e=null}=t;super(bi,void 0,t,e==null?x3:M3),this.anchor=V0(e,"anchor",["top","right","bottom","left"]),y3(this,t),e||w3(this,t)}render(t,e,r,i,a){const{marginTop:o,marginRight:f,marginBottom:u,marginLeft:s,width:c,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:m}=this,{rx:w,ry:b,rx1y1:v,rx1y2:y,rx2y1:M,rx2y2:$}=this,x=s+m,T=c-f-p,A=o+h,N=d-u-g;return An(l?"svg:line":v||y||M||$?"svg:path":"svg:rect",a).datum(0).call(Le,this,i,a).call(Re,this).call(Wr,this,r).call(Fe,this,{}).call(l==="left"?_=>_.attr("x1",x).attr("x2",x).attr("y1",A).attr("y2",N):l==="right"?_=>_.attr("x1",T).attr("x2",T).attr("y1",A).attr("y2",N):l==="top"?_=>_.attr("x1",x).attr("x2",T).attr("y1",A).attr("y2",A):l==="bottom"?_=>_.attr("x1",x).attr("x2",T).attr("y1",N).attr("y2",N):v||y||M||$?_=>_.call(v3,x,A,T,N,this):_=>_.attr("x",x).attr("y",A).attr("width",T-x).attr("height",N-A).attr("rx",w).attr("ry",b)).node()}}function _3(n){return new $3(n)}const uo={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},T3=new Set(["geometry","href","src","ariaLabel","scales"]);class S3 extends _t{constructor(t,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ae(t)&&K0(t)&&(e={...e,title:ut});const{x:r,y:i,x1:a,x2:o,y1:f,y2:u,anchor:s,preferredAnchor:c="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:m,lineHeight:w=1,lineWidth:b=20,frameAnchor:v,format:y,textAnchor:M="start",textOverflow:$,textPadding:x=8,title:T,pointerSize:A=12,pathFilter:N="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(t,{x:{value:a!=null&&o!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:o==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:o,scale:"x",optional:a==null},y2:{value:u,scale:"y",optional:f==null},title:{value:T,optional:!0}},e,uo),this.anchor=tf(s,"anchor"),this.preferredAnchor=tf(c,"preferredAnchor"),this.frameAnchor=Vf(v),this.textAnchor=yn(M,"middle"),this.textPadding=+x,this.pointerSize=+A,this.pathFilter=vn(N),this.lineHeight=+w,this.lineWidth=+b,this.textOverflow=Wh($),this.monospace=!!d,this.fontFamily=vn(l),this.fontSize=Mn(h),this.fontStyle=vn(p),this.fontVariant=vn(g),this.fontWeight=vn(m);for(const _ in uo)_ in this.channels&&(this[_]=uo[_]);this.splitLines=Xh(this),this.clipLine=Zh(this),this.format=typeof y=="string"||typeof y=="function"?{title:y}:{...y}}render(t,e,r,i,a){const o=this,{x:f,y:u,fx:s,fy:c}=e,{ownerSVGElement:d,document:l}=a,{anchor:h,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:w,pointerSize:b,pathFilter:v}=this,{marginTop:y,marginLeft:M}=i,{x1:$,y1:x,x2:T,y2:A,x:N=$??T,y:_=x??A}=r,D=s?s(t.fx)-M:0,R=c?c(t.fy)-y:0,[L,S]=_a(this,i),F=Eh(r,L),Y=Nh(r,S),z=p?cu:uu,W=z(ge);let k,P;"title"in r?(k=ts.call(this,{title:r.channels.title},e),P=k3):(k=ts.call(this,r.channels,e),P=D3);const q=An("svg:g",a).call(Le,this,i,a).call(Gh,this).call(Fe,this,{x:N&&f,y:_&&u}).call(nn=>nn.selectAll().data(t).enter().append("g").attr("transform",Q=>`translate(${Math.round(F(Q))},${Math.round(Y(Q))})`).call(Re,this).call(Q=>Q.append("path").attr("filter",v)).call(Q=>Q.append("text").each(function(U){const B=Ut(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const E=P.call(o,U,t,k,e,r);if(typeof E=="string")for(const O of o.splitLines(E))I(B,{value:o.clipLine(O)});else{const O=new Set;for(const H of E){const{label:C=""}=H;C&&O.has(C)||(O.add(C),I(B,H))}}})));function I(nn,{label:Q,value:U,color:B,opacity:E}){Q??(Q=""),U??(U="");const O=B!=null||E!=null;let H,C=m*100;const[an]=Ne(Q,C,z,W);if(an>=0)Q=Q.slice(0,an).trimEnd()+ge,H=U.trim(),U="";else{(Q||!U&&!O)&&(U=" "+U);const[fn]=Ne(U,C-z(Q),z,W);fn>=0&&(H=U.trim(),U=U.slice(0,fn).trimEnd()+ge)}const V=nn.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");Q&&V.append("tspan").attr("font-weight","bold").text(Q),U&&V.append(()=>l.createTextNode(U)),O&&V.append("tspan").text(" ").attr("fill",B).attr("fill-opacity",E).style("user-select","none"),H&&V.append("title").text(H)}function G(){const{width:nn,height:Q}=i.facet??i;q.selectChildren().each(function(U){let{x:B,width:E,height:O}=this.getBBox();E=Math.round(E),O=Math.round(O);let H=h;if(H===void 0){const V=F(U)+D,fn=Y(U)+R,ln=V+E+b+w*2<nn,Cn=V-E-b-w*2>0,fe=fn+O+b+w*2<Q,Ue=fn-O-b-w*2>0;H=ln&&Cn?fe&&Ue?o.preferredAnchor:Ue?"bottom":"top":fe&&Ue?ln?"left":"right":(ln||Cn)&&(fe||Ue)?`${Ue?"bottom":"top"}-${ln?"left":"right"}`:o.preferredAnchor}const C=this.firstChild,an=this.lastChild;if(C.setAttribute("d",N3(H,b,w,E,O)),B)for(const V of an.childNodes)V.setAttribute("x",-B);an.setAttribute("y",`${+C3(H,an.childNodes.length,g).toFixed(6)}em`),an.setAttribute("transform",`translate(${E3(H,b,w,E,O)})`)}),q.attr("visibility",null)}return t.length&&(q.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(G):typeof requestAnimationFrame<"u"&&requestAnimationFrame(G)),q.node()}}function A3(n,{x:t,y:e,...r}={}){return r.frameAnchor===void 0&&([t,e]=X0(t,e)),new S3(n,{...r,x:t,y:e})}function C3(n,t,e){return/^top(?:-|$)/.test(n)?.94-e:-.29-t*e}function E3(n,t,e,r,i){switch(n){case"middle":return[-r/2,i/2];case"top-left":return[e,t+e];case"top":return[-r/2,t/2+e];case"top-right":return[-r-e,t+e];case"right":return[-t/2-r-e,i/2];case"bottom-left":return[e,-t-e];case"bottom":return[-r/2,-t/2-e];case"bottom-right":return[-r-e,-t-e];case"left":return[e+t/2,i/2]}}function N3(n,t,e,r,i){const a=r+e*2,o=i+e*2;switch(n){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${o}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${o}h${-a}v${-o}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${o}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-o/2}h${-a}v${o}h${a}v${t/2-o/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-o}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-o}h${-a}v${o}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-o}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-o/2}h${a}v${o}h${-a}v${t/2-o/2}z`}}function ts(n,t){var i,a;const e={};let r=this.format;r=es(r,n,"x"),r=es(r,n,"y"),this.format=r;for(const o in r){const f=r[o];if(!(f===null||f===!1))if(o==="fx"||o==="fy")e[o]=!0;else{const u=Nc(n,o);u&&(e[o]=u)}}for(const o in n){if(o in e||o in r||T3.has(o)||(o==="x"||o==="y")&&n.geometry)continue;const f=Nc(n,o);if(f){if(f.scale==null&&f.defaultScale==="color")continue;e[o]=f}}this.facet&&(t.fx&&!("fx"in r)&&(e.fx=!0),t.fy&&!("fy"in r)&&(e.fy=!0));for(const o in e){const f=this.format[o];if(typeof f=="string"){const u=((i=e[o])==null?void 0:i.value)??((a=t[o])==null?void 0:a.domain())??[];this.format[o]=(Hn(u)?Lr:De)(f)}else if(f===void 0||f===!0){const u=t[o];this.format[o]=u!=null&&u.bandwidth?su(u,u.domain()):vr}}return e}function es(n,t,e){if(!(e in n))return n;const r=`${e}1`,i=`${e}2`;if((r in n||!(r in t))&&(i in n||!(i in t)))return n;const a=Object.entries(n),o=n[e];return a.splice(a.findIndex(([f])=>f===e)+1,0,[r,o],[i,o]),Object.fromEntries(a)}function k3(n,t,{title:e}){return this.format.title(e.value[n],n)}function*D3(n,t,e,r,i){for(const a in e){if(a==="fx"||a==="fy"){yield{label:Zi(r,e,a),value:this.format[a](t[a],n)};continue}if(a==="x1"&&"x2"in e||a==="y1"&&"y2"in e)continue;const o=e[a];if(a==="x2"&&"x1"in e)yield{label:is(r,e,"x"),value:rs(this.format.x2,e.x1,o,n)};else if(a==="y2"&&"y1"in e)yield{label:is(r,e,"y"),value:rs(this.format.y2,e.y1,o,n)};else{const f=o.value[n],u=o.scale;if(!jt(f)&&u==null)continue;yield{label:Zi(r,e,a),value:this.format[a](f,n),color:u==="color"?i[a][n]:null,opacity:u==="opacity"?i[a][n]:null}}}}function rs(n,t,e,r){var i;return(i=e.hint)!=null&&i.length?`${n(e.value[r]-t.value[r],r)}`:`${n(t.value[r],r)}${n(e.value[r],r)}`}function is(n,t,e){const r=Zi(n,t,`${e}1`,e),i=Zi(n,t,`${e}2`,e);return r===i?r:`${r}${i}`}function Zi(n,t,e,r=e){const i=t[e],a=n[(i==null?void 0:i.scale)??e];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function I3(n={}){var W;const{facet:t,style:e,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:f}=n,u=iu(n.className),s=n.marks===void 0?[]:os(n.marks);s.push(...q3(s));const c=O3(t,n),d=new Map;for(const k of s){const P=fs(k,c,n);P&&d.set(k,P)}const l=new Map;c&&Ge(l,[c],n),Ge(l,d,n);const h=os(H3(s,l,n));for(const k of h){const P=fs(k,c,n);P&&d.set(k,P)}s.unshift(...h);let p=Sw(l,n);if(p!==void 0){const k=c?ro(p,c):void 0;for(const q of s){if(q.facet===null||q.facet==="super")continue;const I=d.get(q);I!==void 0&&(I.facetsIndex=q.fx!=null||q.fy!=null?ro(p,I):k)}const P=new Set;for(const{facetsIndex:q}of d.values())q==null||q.forEach((I,G)=>{(I==null?void 0:I.length)>0&&P.add(G)});p.forEach(0<P.size&&P.size<p.length?(q,I)=>q.empty=!P.has(I):q=>q.empty=!1);for(const q of s)if(q.facet==="exclude"){const I=d.get(q);I!==void 0&&(I.facetsIndex=Ew(I.facetsIndex))}}for(const k of sn.keys())Jo(n[k])&&k!=="fx"&&k!=="fy"&&l.set(k,[]);const g=new Map;for(const k of s){if(g.has(k))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:P,channels:q}=d.get(k)??{},{data:I,facets:G,channels:nn}=k.initialize(P,q,n);lu(nn,n),g.set(k,{data:I,facets:G,channels:nn})}const m=of(Ge(l,g,n),n),w=h5(m,s,n);mw(m,w);const b=Oc(m),{fx:v,fy:y}=b,M=v||y?wh(m,w):w,$=v||y?X3(b,w):w,x=eu(n),T=x.document,A=Ji("svg").call(T.documentElement);let N=A;x.ownerSVGElement=A,x.className=u,x.projection=Ow(n,M),x.path=function(){return Af(this.projection??Ww(b))},x.filterFacets=(k,P)=>ro(p,{channels:P,groups:tu(k,P)}),x.getMarkState=k=>{const P=g.get(k),q=d.get(k);return{...P,channels:{...P.channels,...q==null?void 0:q.channels}}},x.dispatchValue=k=>{N.value!==k&&(N.value=k,N.dispatchEvent(new x.document.defaultView.Event("input",{bubbles:!0})))};const _=new Set;for(const[k,P]of g)if(k.initializer!=null){const q=k.facet==="super"?$:M,I=k.initializer(P.data,P.facets,P.channels,b,q,x);if(I.data!==void 0&&(P.data=I.data),I.facets!==void 0&&(P.facets=I.facets),I.channels!==void 0){const{fx:G,fy:nn,...Q}=I.channels;P3(Q),Object.assign(P.channels,Q);for(const U of Object.values(Q)){const{scale:B}=U;B!=null&&!l8(sn.get(B))&&(x1(U,n),_.add(B))}(G!=null||nn!=null)&&d.set(k,!0)}}if(_.size){const k=new Map;Ge(k,g,n,G=>_.has(G)),Ge(l,g,n,G=>_.has(G));const P=G3(of(k,n),m),{scales:q,...I}=Oc(P);Object.assign(m,P),Object.assign(b,I),Object.assign(b.scales,q)}let D,R;p!==void 0&&(D={x:v==null?void 0:v.domain(),y:y==null?void 0:y.domain()},p=Aw(p,D),R=Cw(v,y,w));for(const[k,P]of g)P.values=k.scale(P.channels,b,x);const{width:L,height:S}=w;Ut(A).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",S).attr("viewBox",`0 0 ${L} ${S}`).attr("aria-label",o).attr("aria-description",f).call(k=>k.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(au,e);for(const k of s){const{channels:P,values:q,facets:I}=g.get(k);if(p===void 0||k.facet==="super"){let G=null;if(I&&(G=I[0],G=k.filter(G,P,q),G.length===0))continue;const nn=k.render(G,b,q,$,x);if(nn==null)continue;A.appendChild(nn)}else{let G;for(const nn of p){if(!(((W=k.facetAnchor)==null?void 0:W.call(k,p,D,nn))??!nn.empty))continue;let Q=null;if(I){const B=d.has(k);if(Q=I[B?nn.i:0],Q=k.filter(Q,P,q),Q.length===0)continue;!B&&Q===I[0]&&(Q=K6(Q)),Q.fx=nn.x,Q.fy=nn.y,Q.fi=nn.i}const U=k.render(Q,b,q,M,x);if(U!=null){(G??(G=Ut(A).append("g"))).append(()=>U).datum(nn);for(const B of["aria-label","aria-description","aria-hidden","transform"])U.hasAttribute(B)&&(G.attr(B,U.getAttribute(B)),U.removeAttribute(B))}}G==null||G.selectChildren().each(R)}}const F=b3(m,x,n),{figure:Y=r!=null||i!=null||a!=null||F.length>0}=n;Y&&(N=T.createElement("figure"),N.className=`${u}-figure`,N.style.maxWidth="initial",r!=null&&N.append(as(T,r,"h2")),i!=null&&N.append(as(T,i,"h3")),N.append(...F,A),a!=null&&N.append(L3(T,a)),"value"in A&&(N.value=A.value,delete A.value)),N.scale=_w(b.scales),N.legend=p3(m,x,n);const z=J8();return z>0&&Ut(A).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${z.toLocaleString("en-US")} warning${z===1?"":"s"}. Please check the console.`),N}function as(n,t,e){if(t.ownerDocument)return t;const r=n.createElement(e);return r.append(t),r}function L3(n,t){const e=n.createElement("figcaption");return e.append(t),e}function os(n){return n.flat(1/0).filter(t=>t!=null).map(R3)}function R3(n){return typeof n.render=="function"?n:new F3(n)}class F3 extends _t{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function lu(n,t){for(const e in n)x1(n[e],t);return n}function x1(n,t){const{scale:e,transform:r=!0}=n;if(e==null||!r)return;const{type:i,percent:a,interval:o,transform:f=a?u=>u==null?NaN:u*100:Z0(o,i)}=t[e]??{};f!=null&&(n.value=dn(n.value,f),n.transform=!1)}function P3(n){for(const t in n)ah(t,n[t])}function Ge(n,t,e,r=Y6){var i,a;for(const{channels:o}of t.values())for(const f in o){const u=o[f],{scale:s}=u;if(s!=null&&r(s))if(s==="projection"){if(!zw(e)){const c=((i=e.x)==null?void 0:i.domain)===void 0,d=((a=e.y)==null?void 0:a.domain)===void 0;if(c||d){const[l,h]=Yw(u);c&&co(n,"x",l),d&&co(n,"y",h)}}}else co(n,s,u)}return n}function co(n,t,e){const r=n.get(t);r!==void 0?r.push(e):n.set(t,[e])}function O3(n,t){if(n==null)return;const{x:e,y:r}=n;if(e==null&&r==null)return;const i=Ae(n.data);if(i==null)throw new Error("missing facet data");const a={};e!=null&&(a.fx=yr(i,{value:e,scale:"fx"})),r!=null&&(a.fy=yr(i,{value:r,scale:"fy"})),lu(a,t);const o=tu(i,a);return{channels:a,groups:o,data:n.data}}function fs(n,t,e){if(n.facet===null||n.facet==="super")return;const{fx:r,fy:i}=n;if(r!=null||i!=null){const u=Ae(n.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${n.ariaLabel}`);if(u===null)return;const s={};return r!=null&&(s.fx=yr(u,{value:r,scale:"fx"})),i!=null&&(s.fy=yr(u,{value:i,scale:"fy"})),lu(s,e),{channels:s,groups:tu(u,s)}}if(t===void 0)return;const{channels:a,groups:o,data:f}=t;if(n.facet!=="auto"||n.data===f)return{channels:a,groups:o};f.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&nf(Ae(n.data))===nf(f)&&Bt(`Warning: the ${n.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function U3(n,t={}){return Ee({...t,x:null,y:null},(e,r,i,a,o,f)=>f.getMarkState(n))}function q3(n){const t=[];for(const e of n){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?m5:/^y$/i.test(i)?Gc:g5,r=i(U3(e,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Gc?"left":"bottom");const o=A3(e.data,r);o.facet=e.facet,o.facetAnchor=e.facetAnchor,t.push(o)}}return t}function H3(n,t,e){let{projection:r,x:i={},y:a={},fx:o={},fy:f={},axis:u,grid:s,facet:c={},facet:{axis:d=u,grid:l}=c,x:{axis:h=u,grid:p=h===null?null:s}=i,y:{axis:g=u,grid:m=g===null?null:s}=a,fx:{axis:w=d,grid:b=w===null?null:l}=o,fy:{axis:v=d,grid:y=v===null?null:l}=f}=e;(r||!Jo(i)&&!us("x",n))&&(h=p=null),(r||!Jo(a)&&!us("y",n))&&(g=m=null),t.has("fx")||(w=b=null),t.has("fy")||(v=y=null),h===void 0&&(h=!li(n,"x")),g===void 0&&(g=!li(n,"y")),w===void 0&&(w=!li(n,"fx")),v===void 0&&(v=!li(n,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),w===!0&&(w=h==="top"||h===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const M=[];return si(M,y,i3,f),ci(M,v,Q5,"right","left",c,f),si(M,b,o3,o),ci(M,w,j5,"top","bottom",c,o),si(M,m,r3,a),ci(M,g,a1,"left","right",e,a),si(M,p,a3,i),ci(M,h,o1,"bottom","top",e,i),M}function ci(n,t,e,r,i,a,o){if(!t)return;const f=z3(t);o=B3(f?r:t,a,o);const{line:u}=o;(e===a1||e===o1)&&u&&!br(u)&&n.push(_3(Y3(o))),n.push(e(o)),f&&n.push(e({...o,anchor:i,label:null}))}function si(n,t,e,r){!t||br(t)||n.push(e(W3(t,r)))}function z3(n){return/^\s*both\s*$/i.test(n)}function B3(n,t,{line:e=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:s,ariaLabel:c,ariaDescription:d,label:l=t.label,labelAnchor:h,labelArrow:p=t.labelArrow,labelOffset:g}){return{anchor:n,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:s,ariaLabel:c,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function Y3(n){const{anchor:t,line:e}=n;return{anchor:t,facetAnchor:t+"-empty",stroke:e===!0?void 0:e}}function W3(n,{stroke:t=wa(n)?n:void 0,ticks:e=V3(n)?n:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function V3(n){switch(typeof n){case"number":return!0;case"string":return!wa(n)}return ae(n)||typeof(n==null?void 0:n.range)=="function"}function li(n,t){const e=`${t}-axis `;return n.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function us(n,t){for(const e of t)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===n||i==="projection")return!0}return!1}function G3(n,t){for(const e in n){const r=n[e],i=t[e];r.label===void 0&&i&&(r.label=i.label)}return n}function X3({fx:n,fy:t},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=nu(e),s=n&&cs(n),c=t&&cs(t);return{marginTop:t?c[0]:r,marginRight:n?f-s[1]:i,marginBottom:t?u-c[1]:a,marginLeft:n?s[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:u}}function cs(n){const t=n.domain();if(t.length===0)return[0,n.bandwidth()];let e=n(t[0]),r=n(t[t.length-1]);return r<e&&([e,r]=[r,e]),[e,r+n.bandwidth()]}_t.prototype.plot=function({marks:n=[],...t}={}){return I3({...t,marks:[...n,this]})};export{y3 as $,nf as A,jo as B,q6 as C,Ch as D,n7 as E,j3 as F,r7 as G,t7 as H,e7 as I,Q6 as J,eh as K,Fr as L,_t as M,fr as N,hf as O,kt as P,Te as Q,ur as R,et as S,i7 as T,Ko as U,z6 as V,Pr as W,J3 as X,B6 as Y,M5 as Z,Xi as _,En as a,w3 as a0,v3 as a1,tn as a2,C5 as a3,Vf as b,_a as c,An as d,Le as e,Fe as f,Re as g,Co as h,Wr as i,o7 as j,X0 as k,K3 as l,a7 as m,R0 as n,Q3 as o,Of as p,I3 as q,_3 as r,Pf as s,Bh as t,I1 as u,Ct as v,Sa as w,Z3 as x,ut as y,X6 as z};
